var Ch=Object.freeze,fv=Object.defineProperty;var bt=(t,e)=>Ch(fv(t,"raw",{value:Ch(e||t.slice())}));var Mf,nt,Dh,uv,Ar,Eh,Rh,sl,sv,mo={},Lh=[],cv=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,ll=Array.isArray;function er(t,e){for(var n in e)t[n]=e[n];return t}function Ph(t){var e=t.parentNode;e&&e.removeChild(t)}function z(t,e,n){var r,o,i,a={};for(i in e)i=="key"?r=e[i]:i=="ref"?o=e[i]:a[i]=e[i];if(arguments.length>2&&(a.children=arguments.length>3?Mf.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(i in t.defaultProps)a[i]===void 0&&(a[i]=t.defaultProps[i]);return bf(t,a,r,o,null)}function bf(t,e,n,r,o){var i={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:o==null?++Dh:o};return o==null&&nt.vnode!=null&&nt.vnode(i),i}function Sf(t){return t.children}function _f(t,e){this.props=t,this.context=e}function ki(t,e){if(e==null)return t.__?ki(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__d||n.__e;return typeof t.type=="function"?ki(t):null}function Yh(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return Yh(t)}}function Ah(t){(!t.__d&&(t.__d=!0)&&Ar.push(t)&&!vf.__r++||Eh!==nt.debounceRendering)&&((Eh=nt.debounceRendering)||Rh)(vf)}function vf(){var t,e,n,r,o,i,a,f,u;for(Ar.sort(sl);t=Ar.shift();)t.__d&&(e=Ar.length,r=void 0,o=void 0,i=void 0,f=(a=(n=t).__v).__e,(u=n.__P)&&(r=[],o=[],(i=er({},a)).__v=a.__v+1,pl(u,a,i,n.__n,u.ownerSVGElement!==void 0,a.__h!=null?[f]:null,r,f==null?ki(a):f,a.__h,o),zh(r,a,o),a.__e!=f&&Yh(a)),Ar.length>e&&Ar.sort(sl));vf.__r=0}function Oh(t,e,n,r,o,i,a,f,u,c,s){var l,p,d,m,h,g,b,x,w,y=0,v=r&&r.__k||Lh,_=v.length,M=_,C=e.length;for(n.__k=[],l=0;l<C;l++)(m=n.__k[l]=(m=e[l])==null||typeof m=="boolean"||typeof m=="function"?null:typeof m=="string"||typeof m=="number"||typeof m=="bigint"?bf(null,m,null,null,m):ll(m)?bf(Sf,{children:m},null,null,null):m.__b>0?bf(m.type,m.props,m.key,m.ref?m.ref:null,m.__v):m)!=null?(m.__=n,m.__b=n.__b+1,(x=lv(m,v,b=l+y,M))===-1?d=mo:(d=v[x]||mo,v[x]=void 0,M--),pl(t,m,d,o,i,a,f,u,c,s),h=m.__e,(p=m.ref)&&d.ref!=p&&(d.ref&&dl(d.ref,null,m),s.push(p,m.__c||h,m)),h!=null&&(g==null&&(g=h),(w=d===mo||d.__v===null)?x==-1&&y--:x!==b&&(x===b+1?y++:x>b?M>C-b?y+=x-b:y--:y=x<b&&x==b-1?x-b:0),b=l+y,typeof m.type!="function"||x===b&&d.__k!==m.__k?typeof m.type=="function"||x===b&&!w?m.__d!==void 0?(u=m.__d,m.__d=void 0):u=h.nextSibling:u=qh(t,h,u):u=Fh(m,u,t),typeof n.type=="function"&&(n.__d=u))):(d=v[l])&&d.key==null&&d.__e&&(d.__e==u&&(d.__=r,u=ki(d)),cl(d,d,!1),v[l]=null);for(n.__e=g,l=_;l--;)v[l]!=null&&(typeof n.type=="function"&&v[l].__e!=null&&v[l].__e==n.__d&&(n.__d=v[l].__e.nextSibling),cl(v[l],v[l]))}function Fh(t,e,n){for(var r,o=t.__k,i=0;o&&i<o.length;i++)(r=o[i])&&(r.__=t,e=typeof r.type=="function"?Fh(r,e,n):qh(n,r.__e,e));return e}function qh(t,e,n){return n==null||n.parentNode!==t?t.insertBefore(e,null):e==n&&e.parentNode!=null||t.insertBefore(e,n),e.nextSibling}function lv(t,e,n,r){var o=t.key,i=t.type,a=n-1,f=n+1,u=e[n];if(u===null||u&&o==u.key&&i===u.type)return n;if(r>(u!=null?1:0))for(;a>=0||f<e.length;){if(a>=0){if((u=e[a])&&o==u.key&&i===u.type)return a;a--}if(f<e.length){if((u=e[f])&&o==u.key&&i===u.type)return f;f++}}return-1}function pv(t,e,n,r,o){var i;for(i in n)i==="children"||i==="key"||i in e||wf(t,i,null,n[i],r);for(i in e)o&&typeof e[i]!="function"||i==="children"||i==="key"||i==="value"||i==="checked"||n[i]===e[i]||wf(t,i,e[i],n[i],r)}function $h(t,e,n){e[0]==="-"?t.setProperty(e,n==null?"":n):t[e]=n==null?"":typeof n!="number"||cv.test(e)?n:n+"px"}function wf(t,e,n,r,o){var i;t:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||$h(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||$h(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")i=e!==(e=e.replace(/(PointerCapture)$|Capture$/,"$1")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+i]=n,n?r?n.u=r.u:(n.u=Date.now(),t.addEventListener(e,i?Nh:Ih,i)):t.removeEventListener(e,i?Nh:Ih,i);else if(e!=="dangerouslySetInnerHTML"){if(o)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e!=="rowSpan"&&e!=="colSpan"&&e!=="role"&&e in t)try{t[e]=n==null?"":n;break t}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,n))}}function Ih(t){var e=this.l[t.type+!1];if(t.t){if(t.t<=e.u)return}else t.t=Date.now();return e(nt.event?nt.event(t):t)}function Nh(t){return this.l[t.type+!0](nt.event?nt.event(t):t)}function pl(t,e,n,r,o,i,a,f,u,c){var s,l,p,d,m,h,g,b,x,w,y,v,_,M,C,E=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(u=n.__h,f=e.__e=n.__e,e.__h=null,i=[f]),(s=nt.__b)&&s(e);t:if(typeof E=="function")try{if(b=e.props,x=(s=E.contextType)&&r[s.__c],w=s?x?x.props.value:s.__:r,n.__c?g=(l=e.__c=n.__c).__=l.__E:("prototype"in E&&E.prototype.render?e.__c=l=new E(b,w):(e.__c=l=new _f(b,w),l.constructor=E,l.render=mv),x&&x.sub(l),l.props=b,l.state||(l.state={}),l.context=w,l.__n=r,p=l.__d=!0,l.__h=[],l._sb=[]),l.__s==null&&(l.__s=l.state),E.getDerivedStateFromProps!=null&&(l.__s==l.state&&(l.__s=er({},l.__s)),er(l.__s,E.getDerivedStateFromProps(b,l.__s))),d=l.props,m=l.state,l.__v=e,p)E.getDerivedStateFromProps==null&&l.componentWillMount!=null&&l.componentWillMount(),l.componentDidMount!=null&&l.__h.push(l.componentDidMount);else{if(E.getDerivedStateFromProps==null&&b!==d&&l.componentWillReceiveProps!=null&&l.componentWillReceiveProps(b,w),!l.__e&&(l.shouldComponentUpdate!=null&&l.shouldComponentUpdate(b,l.__s,w)===!1||e.__v===n.__v)){for(e.__v!==n.__v&&(l.props=b,l.state=l.__s,l.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function($){$&&($.__=e)}),y=0;y<l._sb.length;y++)l.__h.push(l._sb[y]);l._sb=[],l.__h.length&&a.push(l);break t}l.componentWillUpdate!=null&&l.componentWillUpdate(b,l.__s,w),l.componentDidUpdate!=null&&l.__h.push(function(){l.componentDidUpdate(d,m,h)})}if(l.context=w,l.props=b,l.__P=t,l.__e=!1,v=nt.__r,_=0,"prototype"in E&&E.prototype.render){for(l.state=l.__s,l.__d=!1,v&&v(e),s=l.render(l.props,l.state,l.context),M=0;M<l._sb.length;M++)l.__h.push(l._sb[M]);l._sb=[]}else do l.__d=!1,v&&v(e),s=l.render(l.props,l.state,l.context),l.state=l.__s;while(l.__d&&++_<25);l.state=l.__s,l.getChildContext!=null&&(r=er(er({},r),l.getChildContext())),p||l.getSnapshotBeforeUpdate==null||(h=l.getSnapshotBeforeUpdate(d,m)),Oh(t,ll(C=s!=null&&s.type===Sf&&s.key==null?s.props.children:s)?C:[C],e,n,r,o,i,a,f,u,c),l.base=e.__e,e.__h=null,l.__h.length&&a.push(l),g&&(l.__E=l.__=null)}catch($){e.__v=null,(u||i!=null)&&(e.__e=f,e.__h=!!u,i[i.indexOf(f)]=null),nt.__e($,e,n)}else i==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=dv(n.__e,e,n,r,o,i,a,u,c);(s=nt.diffed)&&s(e)}function zh(t,e,n){for(var r=0;r<n.length;r++)dl(n[r],n[++r],n[++r]);nt.__c&&nt.__c(e,t),t.some(function(o){try{t=o.__h,o.__h=[],t.some(function(i){i.call(o)})}catch(i){nt.__e(i,o.__v)}})}function dv(t,e,n,r,o,i,a,f,u){var c,s,l,p=n.props,d=e.props,m=e.type,h=0;if(m==="svg"&&(o=!0),i!=null){for(;h<i.length;h++)if((c=i[h])&&"setAttribute"in c==!!m&&(m?c.localName===m:c.nodeType===3)){t=c,i[h]=null;break}}if(t==null){if(m===null)return document.createTextNode(d);t=o?document.createElementNS("http://www.w3.org/2000/svg",m):document.createElement(m,d.is&&d),i=null,f=!1}if(m===null)p===d||f&&t.data===d||(t.data=d);else{if(i=i&&Mf.call(t.childNodes),s=(p=n.props||mo).dangerouslySetInnerHTML,l=d.dangerouslySetInnerHTML,!f){if(i!=null)for(p={},h=0;h<t.attributes.length;h++)p[t.attributes[h].name]=t.attributes[h].value;(l||s)&&(l&&(s&&l.__html==s.__html||l.__html===t.innerHTML)||(t.innerHTML=l&&l.__html||""))}if(pv(t,d,p,o,f),l)e.__k=[];else if(Oh(t,ll(h=e.props.children)?h:[h],e,n,r,o&&m!=="foreignObject",i,a,i?i[0]:n.__k&&ki(n,0),f,u),i!=null)for(h=i.length;h--;)i[h]!=null&&Ph(i[h]);f||("value"in d&&(h=d.value)!==void 0&&(h!==t.value||m==="progress"&&!h||m==="option"&&h!==p.value)&&wf(t,"value",h,p.value,!1),"checked"in d&&(h=d.checked)!==void 0&&h!==t.checked&&wf(t,"checked",h,p.checked,!1))}return t}function dl(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(r){nt.__e(r,n)}}function cl(t,e,n){var r,o;if(nt.unmount&&nt.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||dl(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(i){nt.__e(i,e)}r.base=r.__P=null,t.__c=void 0}if(r=t.__k)for(o=0;o<r.length;o++)r[o]&&cl(r[o],e,n||typeof t.type!="function");n||t.__e==null||Ph(t.__e),t.__=t.__e=t.__d=void 0}function mv(t,e,n){return this.constructor(t,n)}function Bh(t,e,n){var r,o,i,a;nt.__&&nt.__(t,e),o=(r=typeof n=="function")?null:n&&n.__k||e.__k,i=[],a=[],pl(e,t=(!r&&n||e).__k=z(Sf,null,[t]),o||mo,mo,e.ownerSVGElement!==void 0,!r&&n?[n]:o?null:e.firstChild?Mf.call(e.childNodes):null,i,!r&&n?n:o?o.__e:e.firstChild,r,a),zh(i,t,a)}Mf=Lh.slice,nt={__e:function(t,e,n,r){for(var o,i,a;e=e.__;)if((o=e.__c)&&!o.__)try{if((i=o.constructor)&&i.getDerivedStateFromError!=null&&(o.setState(i.getDerivedStateFromError(t)),a=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(t,r||{}),a=o.__d),a)return o.__E=o}catch(f){t=f}throw t}},Dh=0,uv=function(t){return t!=null&&t.constructor===void 0},_f.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=er({},this.state),typeof t=="function"&&(t=t(er({},n),this.props)),t&&er(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),Ah(this))},_f.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Ah(this))},_f.prototype.render=Sf,Ar=[],Rh=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,sl=function(t,e){return t.__v.__b-e.__v.__b},vf.__r=0,sv=0;var ho,Ct,ml,Uh,Cf=0,Zh=[],kf=[],Xh=nt.__b,Hh=nt.__r,Wh=nt.diffed,Gh=nt.__c,Vh=nt.unmount;function Ef(t,e){nt.__h&&nt.__h(Ct,t,Cf||e),Cf=0;var n=Ct.__H||(Ct.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({__V:kf}),n.__[t]}function Yt(t){return Cf=1,hv(t0,t)}function hv(t,e,n){var r=Ef(ho++,2);if(r.t=t,!r.__c&&(r.__=[n?n(e):t0(void 0,e),function(f){var u=r.__N?r.__N[0]:r.__[0],c=r.t(u,f);u!==c&&(r.__N=[c,r.__[1]],r.__c.setState({}))}],r.__c=Ct,!Ct.u)){var o=function(f,u,c){if(!r.__c.__H)return!0;var s=r.__c.__H.__.filter(function(p){return p.__c});if(s.every(function(p){return!p.__N}))return!i||i.call(this,f,u,c);var l=!1;return s.forEach(function(p){if(p.__N){var d=p.__[0];p.__=p.__N,p.__N=void 0,d!==p.__[0]&&(l=!0)}}),!(!l&&r.__c.props===f)&&(!i||i.call(this,f,u,c))};Ct.u=!0;var i=Ct.shouldComponentUpdate,a=Ct.componentWillUpdate;Ct.componentWillUpdate=function(f,u,c){if(this.__e){var s=i;i=void 0,o(f,u,c),i=s}a&&a.call(this,f,u,c)},Ct.shouldComponentUpdate=o}return r.__N||r.__}function Tn(t,e){var n=Ef(ho++,3);!nt.__s&&Jh(n.__H,e)&&(n.__=t,n.i=e,Ct.__H.__h.push(n))}function Kh(t){return Cf=5,gl(function(){return{current:t}},[])}function gl(t,e){var n=Ef(ho++,7);return Jh(n.__H,e)?(n.__V=t(),n.i=e,n.__h=t,n.__V):n.__}function Qh(){var t=Ef(ho++,11);if(!t.__){for(var e=Ct.__v;e!==null&&!e.__m&&e.__!==null;)e=e.__;var n=e.__m||(e.__m=[0,0]);t.__="P"+n[0]+"-"+n[1]++}return t.__}function gv(){for(var t;t=Zh.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Tf),t.__H.__h.forEach(hl),t.__H.__h=[]}catch(e){t.__H.__h=[],nt.__e(e,t.__v)}}nt.__b=function(t){Ct=null,Xh&&Xh(t)},nt.__r=function(t){Hh&&Hh(t),ho=0;var e=(Ct=t.__c).__H;e&&(ml===Ct?(e.__h=[],Ct.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=kf,n.__N=n.i=void 0})):(e.__h.forEach(Tf),e.__h.forEach(hl),e.__h=[],ho=0)),ml=Ct},nt.diffed=function(t){Wh&&Wh(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Zh.push(e)!==1&&Uh===nt.requestAnimationFrame||((Uh=nt.requestAnimationFrame)||xv)(gv)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==kf&&(n.__=n.__V),n.i=void 0,n.__V=kf})),ml=Ct=null},nt.__c=function(t,e){e.some(function(n){try{n.__h.forEach(Tf),n.__h=n.__h.filter(function(r){return!r.__||hl(r)})}catch(r){e.some(function(o){o.__h&&(o.__h=[])}),e=[],nt.__e(r,n.__v)}}),Gh&&Gh(t,e)},nt.unmount=function(t){Vh&&Vh(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{Tf(r)}catch(o){e=o}}),n.__H=void 0,e&&nt.__e(e,n.__v))};var jh=typeof requestAnimationFrame=="function";function xv(t){var e,n=function(){clearTimeout(r),jh&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);jh&&(e=requestAnimationFrame(n))}function Tf(t){var e=Ct,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),Ct=e}function hl(t){var e=Ct;t.__c=t.__(),Ct=e}function Jh(t,e){return!t||t.length!==e.length||e.some(function(n,r){return n!==t[r]})}function t0(t,e){return typeof e=="function"?e(t):e}function Tt(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ke(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Cn(t){let e,n,r;t.length!==2?(e=Tt,n=(f,u)=>Tt(t(f),u),r=(f,u)=>t(f)-u):(e=t===Tt||t===ke?t:yv,n=t,r=t);function o(f,u,c=0,s=f.length){if(c<s){if(e(u,u)!==0)return s;do{let l=c+s>>>1;n(f[l],u)<0?c=l+1:s=l}while(c<s)}return c}function i(f,u,c=0,s=f.length){if(c<s){if(e(u,u)!==0)return s;do{let l=c+s>>>1;n(f[l],u)<=0?c=l+1:s=l}while(c<s)}return c}function a(f,u,c=0,s=f.length){let l=o(f,u,c,s-1);return l>c&&r(f[l-1],u)>-r(f[l],u)?l-1:l}return{left:o,center:a,right:i}}function yv(){return 0}function Ti(t){return t===null?NaN:+t}function*e0(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}var n0=Cn(Tt),r0=n0.right,bv=n0.left,_v=Cn(Ti).center,En=r0;function $r(t,e){let n=0;if(e===void 0)for(let r of t)r!=null&&(r=+r)>=r&&++n;else{let r=-1;for(let o of t)(o=e(o,++r,t))!=null&&(o=+o)>=o&&++n}return n}function vv(t){return t.length|0}function wv(t){return!(t>0)}function Mv(t){return typeof t!="object"||"length"in t?t:Array.from(t)}function Sv(t){return e=>t(...e)}function Af(...t){let e=typeof t[t.length-1]=="function"&&Sv(t.pop());t=t.map(Mv);let n=t.map(vv),r=t.length-1,o=new Array(r+1).fill(0),i=[];if(r<0||n.some(wv))return i;for(;;){i.push(o.map((f,u)=>t[u][f]));let a=r;for(;++o[a]===n[a];){if(a===0)return e?i.map(e):i;o[a--]=0}}}function $f(t,e){var n=0,r=0;return Float64Array.from(t,e===void 0?o=>n+=+o||0:o=>n+=+e(o,r++,t)||0)}function go(t,e){let n=0,r,o=0,i=0;if(e===void 0)for(let a of t)a!=null&&(a=+a)>=a&&(r=a-o,o+=r/++n,i+=r*(a-o));else{let a=-1;for(let f of t)(f=e(f,++a,t))!=null&&(f=+f)>=f&&(r=f-o,o+=r/++n,i+=r*(f-o))}if(n>1)return i/(n-1)}function xo(t,e){let n=go(t,e);return n&&Math.sqrt(n)}function Et(t,e){let n,r;if(e===void 0)for(let o of t)o!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)));else{let o=-1;for(let i of t)(i=e(i,++o,t))!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)))}return[n,r]}var be=class{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){let n=this._partials,r=0;for(let o=0;o<this._n&&o<32;o++){let i=n[o],a=e+i,f=Math.abs(e)<Math.abs(i)?e-(a-i):i-(a-e);f&&(n[r++]=f),e=a}return n[r]=e,this._n=r+1,this}valueOf(){let e=this._partials,n=this._n,r,o,i,a=0;if(n>0){for(a=e[--n];n>0&&(r=a,o=e[--n],a=r+o,i=o-(a-r),!i););n>0&&(i<0&&e[n-1]<0||i>0&&e[n-1]>0)&&(o=i*2,r=a+o,o==r-a&&(a=r))}return a}};var se=class extends Map{constructor(e,n=a0){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(let[r,o]of e)this.set(r,o)}get(e){return super.get(xl(this,e))}has(e){return super.has(xl(this,e))}set(e,n){return super.set(o0(this,e),n)}delete(e){return super.delete(i0(this,e))}},Fe=class extends Set{constructor(e,n=a0){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(let r of e)this.add(r)}has(e){return super.has(xl(this,e))}add(e){return super.add(o0(this,e))}delete(e){return super.delete(i0(this,e))}};function xl({_intern:t,_key:e},n){let r=e(n);return t.has(r)?t.get(r):n}function o0({_intern:t,_key:e},n){let r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function i0({_intern:t,_key:e},n){let r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function a0(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Ci(t){return t}function Je(t,...e){return bl(t,Ci,Ci,e)}function qe(t,e,...n){return bl(t,Ci,e,n)}function yl(t,e,...n){return bl(t,Array.from,e,n)}function bl(t,e,n,r){return function o(i,a){if(a>=r.length)return n(i);let f=new se,u=r[a++],c=-1;for(let s of i){let l=u(s,++c,i),p=f.get(l);p?p.push(s):f.set(l,[s])}for(let[s,l]of f)f.set(s,o(l,a));return e(f)}(t,0)}function _l(t,e){return Array.from(e,n=>t[n])}function tn(t,...e){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[n]=e;if(n&&n.length!==2||e.length>1){let r=Uint32Array.from(t,(o,i)=>i);return e.length>1?(e=e.map(o=>t.map(o)),r.sort((o,i)=>{for(let a of e){let f=Ei(a[o],a[i]);if(f)return f}})):(n=t.map(n),r.sort((o,i)=>Ei(n[o],n[i]))),_l(t,r)}return t.sort(vl(n))}function vl(t=Tt){if(t===Tt)return Ei;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{let r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function Ei(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}function yo(t,e,n){return(e.length!==2?tn(qe(t,e,n),([r,o],[i,a])=>Tt(o,a)||Tt(r,i)):tn(Je(t,n),([r,o],[i,a])=>e(o,a)||Tt(r,i))).map(([r])=>r)}var kv=Math.sqrt(50),Tv=Math.sqrt(10),Cv=Math.sqrt(2);function If(t,e,n){let r=(e-t)/Math.max(0,n),o=Math.floor(Math.log10(r)),i=r/Math.pow(10,o),a=i>=kv?10:i>=Tv?5:i>=Cv?2:1,f,u,c;return o<0?(c=Math.pow(10,-o)/a,f=Math.round(t*c),u=Math.round(e*c),f/c<t&&++f,u/c>e&&--u,c=-c):(c=Math.pow(10,o)*a,f=Math.round(t/c),u=Math.round(e/c),f*c<t&&++f,u*c>e&&--u),u<f&&.5<=n&&n<2?If(t,e,n*2):[f,u,c]}function ze(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];let r=e<t,[o,i,a]=r?If(e,t,n):If(t,e,n);if(!(i>=o))return[];let f=i-o+1,u=new Array(f);if(r)if(a<0)for(let c=0;c<f;++c)u[c]=(i-c)/-a;else for(let c=0;c<f;++c)u[c]=(i-c)*a;else if(a<0)for(let c=0;c<f;++c)u[c]=(o+c)/-a;else for(let c=0;c<f;++c)u[c]=(o+c)*a;return u}function Ir(t,e,n){return e=+e,t=+t,n=+n,If(t,e,n)[2]}function bo(t,e,n){e=+e,t=+t,n=+n;let r=e<t,o=r?Ir(e,t,n):Ir(t,e,n);return(r?-1:1)*(o<0?1/-o:o)}function Nf(t){return Math.max(1,Math.ceil(Math.log($r(t))/Math.LN2)+1)}function Gt(t,e){let n;if(e===void 0)for(let r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let o of t)(o=e(o,++r,t))!=null&&(n<o||n===void 0&&o>=o)&&(n=o)}return n}function Df(t,e){let n,r=-1,o=-1;if(e===void 0)for(let i of t)++o,i!=null&&(n<i||n===void 0&&i>=i)&&(n=i,r=o);else for(let i of t)(i=e(i,++o,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i,r=o);return r}function ce(t,e){let n;if(e===void 0)for(let r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let o of t)(o=e(o,++r,t))!=null&&(n>o||n===void 0&&o>=o)&&(n=o)}return n}function Rf(t,e){let n,r=-1,o=-1;if(e===void 0)for(let i of t)++o,i!=null&&(n>i||n===void 0&&i>=i)&&(n=i,r=o);else for(let i of t)(i=e(i,++o,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i,r=o);return r}function Lf(t,e,n=0,r=1/0,o){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(o=o===void 0?Ei:vl(o);r>n;){if(r-n>600){let u=r-n+1,c=e-n+1,s=Math.log(u),l=.5*Math.exp(2*s/3),p=.5*Math.sqrt(s*l*(u-l)/u)*(c-u/2<0?-1:1),d=Math.max(n,Math.floor(e-c*l/u+p)),m=Math.min(r,Math.floor(e+(u-c)*l/u+p));Lf(t,e,d,m,o)}let i=t[e],a=n,f=r;for(Ai(t,n,e),o(t[r],i)>0&&Ai(t,n,r);a<f;){for(Ai(t,a,f),++a,--f;o(t[a],i)<0;)++a;for(;o(t[f],i)>0;)--f}o(t[n],i)===0?Ai(t,n,f):(++f,Ai(t,f,r)),f<=e&&(n=f+1),e<=f&&(r=f-1)}return t}function Ai(t,e,n){let r=t[e];t[e]=t[n],t[n]=r}function $i(t,e=Tt){let n,r=!1;if(e.length===1){let o;for(let i of t){let a=e(i);(r?Tt(a,o)>0:Tt(a,a)===0)&&(n=i,o=a,r=!0)}}else for(let o of t)(r?e(o,n)>0:e(o,o)===0)&&(n=o,r=!0);return n}function Te(t,e,n){if(t=Float64Array.from(e0(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return ce(t);if(e>=1)return Gt(t);var r,o=(r-1)*e,i=Math.floor(o),a=Gt(Lf(t,i).subarray(0,i+1)),f=ce(t.subarray(i+1));return a+(f-a)*(o-i)}}function wl(t,e,n=Ti){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,o=(r-1)*e,i=Math.floor(o),a=+n(t[i],i,t),f=+n(t[i+1],i+1,t);return a+(f-a)*(o-i)}}function Pf(t,e,n){let r=$r(t),o=Te(t,.75)-Te(t,.25);return r&&o?Math.ceil((n-e)/(2*o*Math.pow(r,-1/3))):1}function Ii(t,e,n){let r=$r(t),o=xo(t);return r&&o?Math.ceil((n-e)*Math.cbrt(r)/(3.49*o)):1}function Yf(t,e){let n=0,r=0;if(e===void 0)for(let o of t)o!=null&&(o=+o)>=o&&(++n,r+=o);else{let o=-1;for(let i of t)(i=e(i,++o,t))!=null&&(i=+i)>=i&&(++n,r+=i)}if(n)return r/n}function Nr(t,e){return Te(t,.5,e)}function*Av(t){for(let e of t)yield*e}function _o(t){return Array.from(Av(t))}function Of(t,e){let n=new se;if(e===void 0)for(let i of t)i!=null&&i>=i&&n.set(i,(n.get(i)||0)+1);else{let i=-1;for(let a of t)(a=e(a,++i,t))!=null&&a>=a&&n.set(a,(n.get(a)||0)+1)}let r,o=0;for(let[i,a]of n)a>o&&(o=a,r=i);return r}function Ff(t,e=$v){let n=[],r,o=!1;for(let i of t)o&&n.push(e(r,i)),r=i,o=!0;return n}function $v(t,e){return[t,e]}function An(t,e,n){t=+t,e=+e,n=(o=arguments.length)<2?(e=t,t=0,1):o<3?1:+n;for(var r=-1,o=Math.max(0,Math.ceil((e-t)/n))|0,i=new Array(o);++r<o;)i[r]=t+r*n;return i}function le(t,e){let n=0;if(e===void 0)for(let r of t)(r=+r)&&(n+=r);else{let r=-1;for(let o of t)(o=+e(o,++r,t))&&(n+=o)}return n}function nr(t){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(t).reverse()}function f0(t){return t}var Ml=1,Sl=2,kl=3,qf=4,u0=1e-6;function Iv(t){return"translate("+t+",0)"}function Nv(t){return"translate(0,"+t+")"}function Dv(t){return e=>+t(e)}function Rv(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function Lv(){return!this.__axis}function Pv(t,e){var n=[],r=null,o=null,i=6,a=6,f=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,c=t===Ml||t===qf?-1:1,s=t===qf||t===Sl?"x":"y",l=t===Ml||t===kl?Iv:Nv;function p(d){var m=r==null?e.ticks?e.ticks.apply(e,n):e.domain():r,h=o==null?e.tickFormat?e.tickFormat.apply(e,n):f0:o,g=Math.max(i,0)+f,b=e.range(),x=+b[0]+u,w=+b[b.length-1]+u,y=(e.bandwidth?Rv:Dv)(e.copy(),u),v=d.selection?d.selection():d,_=v.selectAll(".domain").data([null]),M=v.selectAll(".tick").data(m,e).order(),C=M.exit(),E=M.enter().append("g").attr("class","tick"),$=M.select("line"),S=M.select("text");_=_.merge(_.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),M=M.merge(E),$=$.merge(E.append("line").attr("stroke","currentColor").attr(s+"2",c*i)),S=S.merge(E.append("text").attr("fill","currentColor").attr(s,c*g).attr("dy",t===Ml?"0em":t===kl?"0.71em":"0.32em")),d!==v&&(_=_.transition(d),M=M.transition(d),$=$.transition(d),S=S.transition(d),C=C.transition(d).attr("opacity",u0).attr("transform",function(I){return isFinite(I=y(I))?l(I+u):this.getAttribute("transform")}),E.attr("opacity",u0).attr("transform",function(I){var D=this.parentNode.__axis;return l((D&&isFinite(D=D(I))?D:y(I))+u)})),C.remove(),_.attr("d",t===qf||t===Sl?a?"M"+c*a+","+x+"H"+u+"V"+w+"H"+c*a:"M"+u+","+x+"V"+w:a?"M"+x+","+c*a+"V"+u+"H"+w+"V"+c*a:"M"+x+","+u+"H"+w),M.attr("opacity",1).attr("transform",function(I){return l(y(I)+u)}),$.attr(s+"2",c*i),S.attr(s,c*g).text(h),v.filter(Lv).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Sl?"start":t===qf?"end":"middle"),v.each(function(){this.__axis=y})}return p.scale=function(d){return arguments.length?(e=d,p):e},p.ticks=function(){return n=Array.from(arguments),p},p.tickArguments=function(d){return arguments.length?(n=d==null?[]:Array.from(d),p):n.slice()},p.tickValues=function(d){return arguments.length?(r=d==null?null:Array.from(d),p):r&&r.slice()},p.tickFormat=function(d){return arguments.length?(o=d,p):o},p.tickSize=function(d){return arguments.length?(i=a=+d,p):i},p.tickSizeInner=function(d){return arguments.length?(i=+d,p):i},p.tickSizeOuter=function(d){return arguments.length?(a=+d,p):a},p.tickPadding=function(d){return arguments.length?(f=+d,p):f},p.offset=function(d){return arguments.length?(u=+d,p):u},p}function Tl(t){return Pv(kl,t)}var Yv={value:()=>{}};function c0(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new zf(n)}function zf(t){this._=t}function Ov(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}zf.prototype=c0.prototype={constructor:zf,on:function(t,e){var n=this._,r=Ov(t+"",n),o,i=-1,a=r.length;if(arguments.length<2){for(;++i<a;)if((o=(t=r[i]).type)&&(o=Fv(n[o],t.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++i<a;)if(o=(t=r[i]).type)n[o]=s0(n[o],t.name,e);else if(e==null)for(o in n)n[o]=s0(n[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new zf(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,i;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],o=0,i=r.length;o<i;++o)r[o].value.apply(e,n)}};function Fv(t,e){for(var n=0,r=t.length,o;n<r;++n)if((o=t[n]).name===e)return o.value}function s0(t,e,n){for(var r=0,o=t.length;r<o;++r)if(t[r].name===e){t[r]=Yv,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Cl=c0;var Bf="http://www.w3.org/1999/xhtml",Ce={svg:"http://www.w3.org/2000/svg",xhtml:Bf,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function $n(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Ce.hasOwnProperty(e)?{space:Ce[e],local:t}:t}function qv(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Bf&&e.documentElement.namespaceURI===Bf?e.createElement(t):e.createElementNS(n,t)}}function zv(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function In(t){var e=$n(t);return(e.local?zv:qv)(e)}function Bv(){}function Dr(t){return t==null?Bv:function(){return this.querySelector(t)}}function l0(t){typeof t!="function"&&(t=Dr(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i=e[o],a=i.length,f=r[o]=new Array(a),u,c,s=0;s<a;++s)(u=i[s])&&(c=t.call(u,u.__data__,s,i))&&("__data__"in u&&(c.__data__=u.__data__),f[s]=c);return new At(r,this._parents)}function El(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Uv(){return[]}function Ni(t){return t==null?Uv:function(){return this.querySelectorAll(t)}}function Xv(t){return function(){return El(t.apply(this,arguments))}}function p0(t){typeof t=="function"?t=Xv(t):t=Ni(t);for(var e=this._groups,n=e.length,r=[],o=[],i=0;i<n;++i)for(var a=e[i],f=a.length,u,c=0;c<f;++c)(u=a[c])&&(r.push(t.call(u,u.__data__,c,a)),o.push(u));return new At(r,o)}function Di(t){return function(){return this.matches(t)}}function Uf(t){return function(e){return e.matches(t)}}var Hv=Array.prototype.find;function Wv(t){return function(){return Hv.call(this.children,t)}}function Gv(){return this.firstElementChild}function d0(t){return this.select(t==null?Gv:Wv(typeof t=="function"?t:Uf(t)))}var Vv=Array.prototype.filter;function jv(){return Array.from(this.children)}function Zv(t){return function(){return Vv.call(this.children,t)}}function m0(t){return this.selectAll(t==null?jv:Zv(typeof t=="function"?t:Uf(t)))}function h0(t){typeof t!="function"&&(t=Di(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i=e[o],a=i.length,f=r[o]=[],u,c=0;c<a;++c)(u=i[c])&&t.call(u,u.__data__,c,i)&&f.push(u);return new At(r,this._parents)}function Xf(t){return new Array(t.length)}function g0(){return new At(this._enter||this._groups.map(Xf),this._parents)}function Ri(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Ri.prototype={constructor:Ri,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function x0(t){return function(){return t}}function Kv(t,e,n,r,o,i){for(var a=0,f,u=e.length,c=i.length;a<c;++a)(f=e[a])?(f.__data__=i[a],r[a]=f):n[a]=new Ri(t,i[a]);for(;a<u;++a)(f=e[a])&&(o[a]=f)}function Qv(t,e,n,r,o,i,a){var f,u,c=new Map,s=e.length,l=i.length,p=new Array(s),d;for(f=0;f<s;++f)(u=e[f])&&(p[f]=d=a.call(u,u.__data__,f,e)+"",c.has(d)?o[f]=u:c.set(d,u));for(f=0;f<l;++f)d=a.call(t,i[f],f,i)+"",(u=c.get(d))?(r[f]=u,u.__data__=i[f],c.delete(d)):n[f]=new Ri(t,i[f]);for(f=0;f<s;++f)(u=e[f])&&c.get(p[f])===u&&(o[f]=u)}function Jv(t){return t.__data__}function y0(t,e){if(!arguments.length)return Array.from(this,Jv);var n=e?Qv:Kv,r=this._parents,o=this._groups;typeof t!="function"&&(t=x0(t));for(var i=o.length,a=new Array(i),f=new Array(i),u=new Array(i),c=0;c<i;++c){var s=r[c],l=o[c],p=l.length,d=tw(t.call(s,s&&s.__data__,c,r)),m=d.length,h=f[c]=new Array(m),g=a[c]=new Array(m),b=u[c]=new Array(p);n(s,l,h,g,b,d,e);for(var x=0,w=0,y,v;x<m;++x)if(y=h[x]){for(x>=w&&(w=x+1);!(v=g[w])&&++w<m;);y._next=v||null}}return a=new At(a,r),a._enter=f,a._exit=u,a}function tw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function b0(){return new At(this._exit||this._groups.map(Xf),this._parents)}function _0(t,e,n){var r=this.enter(),o=this,i=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(o=e(o),o&&(o=o.selection())),n==null?i.remove():n(i),r&&o?r.merge(o).order():o}function v0(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,o=n.length,i=r.length,a=Math.min(o,i),f=new Array(o),u=0;u<a;++u)for(var c=n[u],s=r[u],l=c.length,p=f[u]=new Array(l),d,m=0;m<l;++m)(d=c[m]||s[m])&&(p[m]=d);for(;u<o;++u)f[u]=n[u];return new At(f,this._parents)}function w0(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],o=r.length-1,i=r[o],a;--o>=0;)(a=r[o])&&(i&&a.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(a,i),i=a);return this}function M0(t){t||(t=ew);function e(l,p){return l&&p?t(l.__data__,p.__data__):!l-!p}for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var a=n[i],f=a.length,u=o[i]=new Array(f),c,s=0;s<f;++s)(c=a[s])&&(u[s]=c);u.sort(e)}return new At(o,this._parents).order()}function ew(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function S0(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function k0(){return Array.from(this)}function T0(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null}function C0(){let t=0;for(let e of this)++t;return t}function E0(){return!this.node()}function A0(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var o=e[n],i=0,a=o.length,f;i<a;++i)(f=o[i])&&t.call(f,f.__data__,i,o);return this}function nw(t){return function(){this.removeAttribute(t)}}function rw(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ow(t,e){return function(){this.setAttribute(t,e)}}function iw(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function aw(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function fw(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function $0(t,e){var n=$n(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?rw:nw:typeof e=="function"?n.local?fw:aw:n.local?iw:ow)(n,e))}function Hf(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function uw(t){return function(){this.style.removeProperty(t)}}function sw(t,e,n){return function(){this.style.setProperty(t,e,n)}}function cw(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function I0(t,e,n){return arguments.length>1?this.each((e==null?uw:typeof e=="function"?cw:sw)(t,e,n==null?"":n)):rr(this.node(),t)}function rr(t,e){return t.style.getPropertyValue(e)||Hf(t).getComputedStyle(t,null).getPropertyValue(e)}function lw(t){return function(){delete this[t]}}function pw(t,e){return function(){this[t]=e}}function dw(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function N0(t,e){return arguments.length>1?this.each((e==null?lw:typeof e=="function"?dw:pw)(t,e)):this.node()[t]}function D0(t){return t.trim().split(/^|\s+/)}function Al(t){return t.classList||new R0(t)}function R0(t){this._node=t,this._names=D0(t.getAttribute("class")||"")}R0.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function L0(t,e){for(var n=Al(t),r=-1,o=e.length;++r<o;)n.add(e[r])}function P0(t,e){for(var n=Al(t),r=-1,o=e.length;++r<o;)n.remove(e[r])}function mw(t){return function(){L0(this,t)}}function hw(t){return function(){P0(this,t)}}function gw(t,e){return function(){(e.apply(this,arguments)?L0:P0)(this,t)}}function Y0(t,e){var n=D0(t+"");if(arguments.length<2){for(var r=Al(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof e=="function"?gw:e?mw:hw)(n,e))}function xw(){this.textContent=""}function yw(t){return function(){this.textContent=t}}function bw(t){return function(){var e=t.apply(this,arguments);this.textContent=e==null?"":e}}function O0(t){return arguments.length?this.each(t==null?xw:(typeof t=="function"?bw:yw)(t)):this.node().textContent}function _w(){this.innerHTML=""}function vw(t){return function(){this.innerHTML=t}}function ww(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e==null?"":e}}function F0(t){return arguments.length?this.each(t==null?_w:(typeof t=="function"?ww:vw)(t)):this.node().innerHTML}function Mw(){this.nextSibling&&this.parentNode.appendChild(this)}function q0(){return this.each(Mw)}function Sw(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function z0(){return this.each(Sw)}function B0(t){var e=typeof t=="function"?t:In(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function kw(){return null}function U0(t,e){var n=typeof t=="function"?t:In(t),r=e==null?kw:typeof e=="function"?e:Dr(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Tw(){var t=this.parentNode;t&&t.removeChild(this)}function X0(){return this.each(Tw)}function Cw(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ew(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function H0(t){return this.select(t?Ew:Cw)}function W0(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Aw(t){return function(e){t.call(this,e,this.__data__)}}function $w(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Iw(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,o=e.length,i;n<o;++n)i=e[n],(!t.type||i.type===t.type)&&i.name===t.name?this.removeEventListener(i.type,i.listener,i.options):e[++r]=i;++r?e.length=r:delete this.__on}}}function Nw(t,e,n){return function(){var r=this.__on,o,i=Aw(e);if(r){for(var a=0,f=r.length;a<f;++a)if((o=r[a]).type===t.type&&o.name===t.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=n),o.value=e;return}}this.addEventListener(t.type,i,n),o={type:t.type,name:t.name,value:e,listener:i,options:n},r?r.push(o):this.__on=[o]}}function G0(t,e,n){var r=$w(t+""),o,i=r.length,a;if(arguments.length<2){var f=this.node().__on;if(f){for(var u=0,c=f.length,s;u<c;++u)for(o=0,s=f[u];o<i;++o)if((a=r[o]).type===s.type&&a.name===s.name)return s.value}return}for(f=e?Nw:Iw,o=0;o<i;++o)this.each(f(r[o],e,n));return this}function V0(t,e,n){var r=Hf(t),o=r.CustomEvent;typeof o=="function"?o=new o(e,n):(o=r.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function Dw(t,e){return function(){return V0(this,t,e)}}function Rw(t,e){return function(){return V0(this,t,e.apply(this,arguments))}}function j0(t,e){return this.each((typeof e=="function"?Rw:Dw)(t,e))}function*Z0(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],o=0,i=r.length,a;o<i;++o)(a=r[o])&&(yield a)}var $l=[null];function At(t,e){this._groups=t,this._parents=e}function K0(){return new At([[document.documentElement]],$l)}function Lw(){return this}At.prototype=K0.prototype={constructor:At,select:l0,selectAll:p0,selectChild:d0,selectChildren:m0,filter:h0,data:y0,enter:g0,exit:b0,join:_0,merge:v0,selection:Lw,order:w0,sort:M0,call:S0,nodes:k0,node:T0,size:C0,empty:E0,each:A0,attr:$0,style:I0,property:N0,classed:Y0,text:O0,html:F0,raise:q0,lower:z0,append:B0,insert:U0,remove:X0,clone:H0,datum:W0,on:G0,dispatch:j0,[Symbol.iterator]:Z0};var Nn=K0;function Dn(t){return typeof t=="string"?new At([[document.querySelector(t)]],[document.documentElement]):new At([[t]],$l)}function Q0(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Il(t,e){if(t=Q0(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}}return[t.pageX,t.pageY]}function Rn(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function or(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function nn(){}var ir=.7,Pr=1/ir,vo="\\s*([+-]?\\d+)\\s*",Li="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",en="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Pw=/^#([0-9a-f]{3,8})$/,Yw=new RegExp("^rgb\\(".concat(vo,",").concat(vo,",").concat(vo,"\\)$")),Ow=new RegExp("^rgb\\(".concat(en,",").concat(en,",").concat(en,"\\)$")),Fw=new RegExp("^rgba\\(".concat(vo,",").concat(vo,",").concat(vo,",").concat(Li,"\\)$")),qw=new RegExp("^rgba\\(".concat(en,",").concat(en,",").concat(en,",").concat(Li,"\\)$")),zw=new RegExp("^hsl\\(".concat(Li,",").concat(en,",").concat(en,"\\)$")),Bw=new RegExp("^hsla\\(".concat(Li,",").concat(en,",").concat(en,",").concat(Li,"\\)$")),J0={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Rn(nn,Ue,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:tg,formatHex:tg,formatHex8:Uw,formatHsl:Xw,formatRgb:eg,toString:eg});function tg(){return this.rgb().formatHex()}function Uw(){return this.rgb().formatHex8()}function Xw(){return fg(this).formatHsl()}function eg(){return this.rgb().formatRgb()}function Ue(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Pw.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?ng(e):n===3?new Ot(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Wf(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Wf(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Yw.exec(t))?new Ot(e[1],e[2],e[3],1):(e=Ow.exec(t))?new Ot(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Fw.exec(t))?Wf(e[1],e[2],e[3],e[4]):(e=qw.exec(t))?Wf(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=zw.exec(t))?ig(e[1],e[2]/100,e[3]/100,1):(e=Bw.exec(t))?ig(e[1],e[2]/100,e[3]/100,e[4]):J0.hasOwnProperty(t)?ng(J0[t]):t==="transparent"?new Ot(NaN,NaN,NaN,0):null}function ng(t){return new Ot(t>>16&255,t>>8&255,t&255,1)}function Wf(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ot(t,e,n,r)}function Pi(t){return t instanceof nn||(t=Ue(t)),t?(t=t.rgb(),new Ot(t.r,t.g,t.b,t.opacity)):new Ot}function Ee(t,e,n,r){return arguments.length===1?Pi(t):new Ot(t,e,n,r==null?1:r)}function Ot(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Rn(Ot,Ee,or(nn,{brighter(t){return t=t==null?Pr:Math.pow(Pr,t),new Ot(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ir:Math.pow(ir,t),new Ot(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ot(Lr(this.r),Lr(this.g),Lr(this.b),Vf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rg,formatHex:rg,formatHex8:Hw,formatRgb:og,toString:og}));function rg(){return"#".concat(Rr(this.r)).concat(Rr(this.g)).concat(Rr(this.b))}function Hw(){return"#".concat(Rr(this.r)).concat(Rr(this.g)).concat(Rr(this.b)).concat(Rr((isNaN(this.opacity)?1:this.opacity)*255))}function og(){let t=Vf(this.opacity);return"".concat(t===1?"rgb(":"rgba(").concat(Lr(this.r),", ").concat(Lr(this.g),", ").concat(Lr(this.b)).concat(t===1?")":", ".concat(t,")"))}function Vf(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Lr(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Rr(t){return t=Lr(t),(t<16?"0":"")+t.toString(16)}function ig(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Be(t,e,n,r)}function fg(t){if(t instanceof Be)return new Be(t.h,t.s,t.l,t.opacity);if(t instanceof nn||(t=Ue(t)),!t)return new Be;if(t instanceof Be)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,o=Math.min(e,n,r),i=Math.max(e,n,r),a=NaN,f=i-o,u=(i+o)/2;return f?(e===i?a=(n-r)/f+(n<r)*6:n===i?a=(r-e)/f+2:a=(e-n)/f+4,f/=u<.5?i+o:2-i-o,a*=60):f=u>0&&u<1?0:a,new Be(a,f,u,t.opacity)}function Yi(t,e,n,r){return arguments.length===1?fg(t):new Be(t,e,n,r==null?1:r)}function Be(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Rn(Be,Yi,or(nn,{brighter(t){return t=t==null?Pr:Math.pow(Pr,t),new Be(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ir:Math.pow(ir,t),new Be(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,o=2*n-r;return new Ot(Nl(t>=240?t-240:t+120,o,r),Nl(t,o,r),Nl(t<120?t+240:t-120,o,r),this.opacity)},clamp(){return new Be(ag(this.h),Gf(this.s),Gf(this.l),Vf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let t=Vf(this.opacity);return"".concat(t===1?"hsl(":"hsla(").concat(ag(this.h),", ").concat(Gf(this.s)*100,"%, ").concat(Gf(this.l)*100,"%").concat(t===1?")":", ".concat(t,")"))}}));function ag(t){return t=(t||0)%360,t<0?t+360:t}function Gf(t){return Math.max(0,Math.min(1,t||0))}function Nl(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}var jf=Math.PI/180,Zf=180/Math.PI;var Kf=18,ug=.96422,sg=1,cg=.82521,lg=4/29,wo=6/29,pg=3*wo*wo,Ww=wo*wo*wo;function dg(t){if(t instanceof rn)return new rn(t.l,t.a,t.b,t.opacity);if(t instanceof Ln)return mg(t);t instanceof Ot||(t=Pi(t));var e=Pl(t.r),n=Pl(t.g),r=Pl(t.b),o=Dl((.2225045*e+.7168786*n+.0606169*r)/sg),i,a;return e===n&&n===r?i=a=o:(i=Dl((.4360747*e+.3850649*n+.1430804*r)/ug),a=Dl((.0139322*e+.0971045*n+.7141733*r)/cg)),new rn(116*o-16,500*(i-o),200*(o-a),t.opacity)}function Mo(t,e,n,r){return arguments.length===1?dg(t):new rn(t,e,n,r==null?1:r)}function rn(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}Rn(rn,Mo,or(nn,{brighter(t){return new rn(this.l+Kf*(t==null?1:t),this.a,this.b,this.opacity)},darker(t){return new rn(this.l-Kf*(t==null?1:t),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=ug*Rl(e),t=sg*Rl(t),n=cg*Rl(n),new Ot(Ll(3.1338561*e-1.6168667*t-.4906146*n),Ll(-.9787684*e+1.9161415*t+.033454*n),Ll(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function Dl(t){return t>Ww?Math.pow(t,1/3):t/pg+lg}function Rl(t){return t>wo?t*t*t:pg*(t-lg)}function Ll(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Pl(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Gw(t){if(t instanceof Ln)return new Ln(t.h,t.c,t.l,t.opacity);if(t instanceof rn||(t=dg(t)),t.a===0&&t.b===0)return new Ln(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Zf;return new Ln(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Oi(t,e,n,r){return arguments.length===1?Gw(t):new Ln(t,e,n,r==null?1:r)}function Ln(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function mg(t){if(isNaN(t.h))return new rn(t.l,0,0,t.opacity);var e=t.h*jf;return new rn(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Rn(Ln,Oi,or(nn,{brighter(t){return new Ln(this.h,this.c,this.l+Kf*(t==null?1:t),this.opacity)},darker(t){return new Ln(this.h,this.c,this.l-Kf*(t==null?1:t),this.opacity)},rgb(){return mg(this).rgb()}}));var yg=-.14861,Yl=1.78277,Ol=-.29227,Qf=-.90649,Fi=1.97294,hg=Fi*Qf,gg=Fi*Yl,xg=Yl*Ol-Qf*yg;function Vw(t){if(t instanceof Yr)return new Yr(t.h,t.s,t.l,t.opacity);t instanceof Ot||(t=Pi(t));var e=t.r/255,n=t.g/255,r=t.b/255,o=(xg*r+hg*e-gg*n)/(xg+hg-gg),i=r-o,a=(Fi*(n-o)-Ol*i)/Qf,f=Math.sqrt(a*a+i*i)/(Fi*o*(1-o)),u=f?Math.atan2(a,i)*Zf-120:NaN;return new Yr(u<0?u+360:u,f,o,t.opacity)}function pe(t,e,n,r){return arguments.length===1?Vw(t):new Yr(t,e,n,r==null?1:r)}function Yr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Rn(Yr,pe,or(nn,{brighter(t){return t=t==null?Pr:Math.pow(Pr,t),new Yr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ir:Math.pow(ir,t),new Yr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*jf,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),o=Math.sin(t);return new Ot(255*(e+n*(yg*r+Yl*o)),255*(e+n*(Ol*r+Qf*o)),255*(e+n*(Fi*r)),this.opacity)}}));function Fl(t,e,n,r,o){var i=t*t,a=i*t;return((1-3*t+3*i-a)*e+(4-6*i+3*a)*n+(1+3*t+3*i-3*a)*r+a*o)/6}function bg(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),o=t[r],i=t[r+1],a=r>0?t[r-1]:2*o-i,f=r<e-1?t[r+2]:2*i-o;return Fl((n-r/e)*e,a,o,i,f)}}function _g(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),o=t[(r+e-1)%e],i=t[r%e],a=t[(r+1)%e],f=t[(r+2)%e];return Fl((n-r/e)*e,o,i,a,f)}}var So=t=>()=>t;function vg(t,e){return function(n){return t+n*e}}function jw(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function ko(t,e){var n=e-t;return n?vg(t,n>180||n<-180?n-360*Math.round(n/360):n):So(isNaN(t)?e:t)}function wg(t){return(t=+t)==1?St:function(e,n){return n-e?jw(e,n,t):So(isNaN(e)?n:e)}}function St(t,e){var n=e-t;return n?vg(t,n):So(isNaN(t)?e:t)}var Ae=function t(e){var n=wg(e);function r(o,i){var a=n((o=Ee(o)).r,(i=Ee(i)).r),f=n(o.g,i.g),u=n(o.b,i.b),c=St(o.opacity,i.opacity);return function(s){return o.r=a(s),o.g=f(s),o.b=u(s),o.opacity=c(s),o+""}}return r.gamma=t,r}(1);function Mg(t){return function(e){var n=e.length,r=new Array(n),o=new Array(n),i=new Array(n),a,f;for(a=0;a<n;++a)f=Ee(e[a]),r[a]=f.r||0,o[a]=f.g||0,i[a]=f.b||0;return r=t(r),o=t(o),i=t(i),f.opacity=1,function(u){return f.r=r(u),f.g=o(u),f.b=i(u),f+""}}}var ql=Mg(bg),Zw=Mg(_g);function Sg(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),o;return function(i){for(o=0;o<n;++o)r[o]=t[o]*(1-i)+e[o]*i;return r}}function kg(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Tg(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,o=new Array(r),i=new Array(n),a;for(a=0;a<r;++a)o[a]=Xe(t[a],e[a]);for(;a<n;++a)i[a]=e[a];return function(f){for(a=0;a<r;++a)i[a]=o[a](f);return i}}function Cg(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function wt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Eg(t,e){var n={},r={},o;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(o in e)o in t?n[o]=Xe(t[o],e[o]):r[o]=e[o];return function(i){for(o in n)r[o]=n[o](i);return r}}var Bl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,zl=new RegExp(Bl.source,"g");function Kw(t){return function(){return t}}function Qw(t){return function(e){return t(e)+""}}function qi(t,e){var n=Bl.lastIndex=zl.lastIndex=0,r,o,i,a=-1,f=[],u=[];for(t=t+"",e=e+"";(r=Bl.exec(t))&&(o=zl.exec(e));)(i=o.index)>n&&(i=e.slice(n,i),f[a]?f[a]+=i:f[++a]=i),(r=r[0])===(o=o[0])?f[a]?f[a]+=o:f[++a]=o:(f[++a]=null,u.push({i:a,x:wt(r,o)})),n=zl.lastIndex;return n<e.length&&(i=e.slice(n),f[a]?f[a]+=i:f[++a]=i),f.length<2?u[0]?Qw(u[0].x):Kw(e):(e=u.length,function(c){for(var s=0,l;s<e;++s)f[(l=u[s]).i]=l.x(c);return f.join("")})}function Xe(t,e){var n=typeof e,r;return e==null||n==="boolean"?So(e):(n==="number"?wt:n==="string"?(r=Ue(e))?(e=r,Ae):qi:e instanceof Ue?Ae:e instanceof Date?Cg:kg(e)?Sg:Array.isArray(e)?Tg:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Eg:wt)(t,e)}function Or(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Ag=180/Math.PI,Jf={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ul(t,e,n,r,o,i){var a,f,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(f=Math.sqrt(n*n+r*r))&&(n/=f,r/=f,u/=f),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(e,t)*Ag,skewX:Math.atan(u)*Ag,scaleX:a,scaleY:f}}var tu;function $g(t){let e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Jf:Ul(e.a,e.b,e.c,e.d,e.e,e.f)}function Ig(t){return t==null?Jf:(tu||(tu=document.createElementNS("http://www.w3.org/2000/svg","g")),tu.setAttribute("transform",t),(t=tu.transform.baseVal.consolidate())?(t=t.matrix,Ul(t.a,t.b,t.c,t.d,t.e,t.f)):Jf)}function Ng(t,e,n,r){function o(c){return c.length?c.pop()+" ":""}function i(c,s,l,p,d,m){if(c!==l||s!==p){var h=d.push("translate(",null,e,null,n);m.push({i:h-4,x:wt(c,l)},{i:h-2,x:wt(s,p)})}else(l||p)&&d.push("translate("+l+e+p+n)}function a(c,s,l,p){c!==s?(c-s>180?s+=360:s-c>180&&(c+=360),p.push({i:l.push(o(l)+"rotate(",null,r)-2,x:wt(c,s)})):s&&l.push(o(l)+"rotate("+s+r)}function f(c,s,l,p){c!==s?p.push({i:l.push(o(l)+"skewX(",null,r)-2,x:wt(c,s)}):s&&l.push(o(l)+"skewX("+s+r)}function u(c,s,l,p,d,m){if(c!==l||s!==p){var h=d.push(o(d)+"scale(",null,",",null,")");m.push({i:h-4,x:wt(c,l)},{i:h-2,x:wt(s,p)})}else(l!==1||p!==1)&&d.push(o(d)+"scale("+l+","+p+")")}return function(c,s){var l=[],p=[];return c=t(c),s=t(s),i(c.translateX,c.translateY,s.translateX,s.translateY,l,p),a(c.rotate,s.rotate,l,p),f(c.skewX,s.skewX,l,p),u(c.scaleX,c.scaleY,s.scaleX,s.scaleY,l,p),c=s=null,function(d){for(var m=-1,h=p.length,g;++m<h;)l[(g=p[m]).i]=g.x(d);return l.join("")}}}var Xl=Ng($g,"px, ","px)","deg)"),Hl=Ng(Ig,", ",")",")");function Dg(t){return function(e,n){var r=t((e=Yi(e)).h,(n=Yi(n)).h),o=St(e.s,n.s),i=St(e.l,n.l),a=St(e.opacity,n.opacity);return function(f){return e.h=r(f),e.s=o(f),e.l=i(f),e.opacity=a(f),e+""}}}var Wl=Dg(ko),Jw=Dg(St);function eu(t,e){var n=St((t=Mo(t)).l,(e=Mo(e)).l),r=St(t.a,e.a),o=St(t.b,e.b),i=St(t.opacity,e.opacity);return function(a){return t.l=n(a),t.a=r(a),t.b=o(a),t.opacity=i(a),t+""}}function Rg(t){return function(e,n){var r=t((e=Oi(e)).h,(n=Oi(n)).h),o=St(e.c,n.c),i=St(e.l,n.l),a=St(e.opacity,n.opacity);return function(f){return e.h=r(f),e.c=o(f),e.l=i(f),e.opacity=a(f),e+""}}}var Gl=Rg(ko),t6=Rg(St);function Lg(t){return function e(n){n=+n;function r(o,i){var a=t((o=pe(o)).h,(i=pe(i)).h),f=St(o.s,i.s),u=St(o.l,i.l),c=St(o.opacity,i.opacity);return function(s){return o.h=a(s),o.s=f(s),o.l=u(Math.pow(s,n)),o.opacity=c(s),o+""}}return r.gamma=e,r}(1)}var e6=Lg(ko),To=Lg(St);function on(t,e){e===void 0&&(e=t,t=Xe);for(var n=0,r=e.length-1,o=e[0],i=new Array(r<0?0:r);n<r;)i[n]=t(o,o=e[++n]);return function(a){var f=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return i[f](a-f)}}function re(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}var Co=0,Bi=0,zi=0,Yg=1e3,nu,Ui,ru=0,Fr=0,ou=0,Xi=typeof performance=="object"&&performance.now?performance:Date,Og=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Wi(){return Fr||(Og(n6),Fr=Xi.now()+ou)}function n6(){Fr=0}function Hi(){this._call=this._time=this._next=null}Hi.prototype=iu.prototype={constructor:Hi,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Wi():+n)+(e==null?0:+e),!this._next&&Ui!==this&&(Ui?Ui._next=this:nu=this,Ui=this),this._call=t,this._time=n,Vl()},stop:function(){this._call&&(this._call=null,this._time=1/0,Vl())}};function iu(t,e,n){var r=new Hi;return r.restart(t,e,n),r}function Fg(){Wi(),++Co;for(var t=nu,e;t;)(e=Fr-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Co}function Pg(){Fr=(ru=Xi.now())+ou,Co=Bi=0;try{Fg()}finally{Co=0,o6(),Fr=0}}function r6(){var t=Xi.now(),e=t-ru;e>Yg&&(ou-=e,ru=t)}function o6(){for(var t,e=nu,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:nu=n);Ui=t,Vl(r)}function Vl(t){if(!Co){Bi&&(Bi=clearTimeout(Bi));var e=t-Fr;e>24?(t<1/0&&(Bi=setTimeout(Pg,t-Xi.now()-ou)),zi&&(zi=clearInterval(zi))):(zi||(ru=Xi.now(),zi=setInterval(r6,Yg)),Co=1,Og(Pg))}}function au(t,e,n){var r=new Hi;return e=e==null?0:+e,r.restart(o=>{r.stop(),t(o+e)},e,n),r}var i6=Cl("start","end","cancel","interrupt"),a6=[],Bg=0,qg=1,uu=2,fu=3,zg=4,su=5,Gi=6;function ar(t,e,n,r,o,i){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;f6(t,n,{name:e,index:r,group:o,on:i6,tween:a6,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Bg})}function Vi(t,e){var n=Bt(t,e);if(n.state>Bg)throw new Error("too late; already scheduled");return n}function Jt(t,e){var n=Bt(t,e);if(n.state>fu)throw new Error("too late; already running");return n}function Bt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function f6(t,e,n){var r=t.__transition,o;r[e]=n,n.timer=iu(i,0,n.time);function i(c){n.state=qg,n.timer.restart(a,n.delay,n.time),n.delay<=c&&a(c-n.delay)}function a(c){var s,l,p,d;if(n.state!==qg)return u();for(s in r)if(d=r[s],d.name===n.name){if(d.state===fu)return au(a);d.state===zg?(d.state=Gi,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[s]):+s<e&&(d.state=Gi,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[s])}if(au(function(){n.state===fu&&(n.state=zg,n.timer.restart(f,n.delay,n.time),f(c))}),n.state=uu,n.on.call("start",t,t.__data__,n.index,n.group),n.state===uu){for(n.state=fu,o=new Array(p=n.tween.length),s=0,l=-1;s<p;++s)(d=n.tween[s].value.call(t,t.__data__,n.index,n.group))&&(o[++l]=d);o.length=l+1}}function f(c){for(var s=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(u),n.state=su,1),l=-1,p=o.length;++l<p;)o[l].call(t,s);n.state===su&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){n.state=Gi,n.timer.stop(),delete r[e];for(var c in r)return;delete t.__transition}}function cu(t,e){var n=t.__transition,r,o,i=!0,a;if(n){e=e==null?null:e+"";for(a in n){if((r=n[a]).name!==e){i=!1;continue}o=r.state>uu&&r.state<su,r.state=Gi,r.timer.stop(),r.on.call(o?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]}i&&delete t.__transition}}function Ug(t){return this.each(function(){cu(this,t)})}function u6(t,e){var n,r;return function(){var o=Jt(this,t),i=o.tween;if(i!==n){r=n=i;for(var a=0,f=r.length;a<f;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}o.tween=r}}function s6(t,e,n){var r,o;if(typeof n!="function")throw new Error;return function(){var i=Jt(this,t),a=i.tween;if(a!==r){o=(r=a).slice();for(var f={name:e,value:n},u=0,c=o.length;u<c;++u)if(o[u].name===e){o[u]=f;break}u===c&&o.push(f)}i.tween=o}}function Xg(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Bt(this.node(),n).tween,o=0,i=r.length,a;o<i;++o)if((a=r[o]).name===t)return a.value;return null}return this.each((e==null?u6:s6)(n,t,e))}function Eo(t,e,n){var r=t._id;return t.each(function(){var o=Jt(this,r);(o.value||(o.value={}))[e]=n.apply(this,arguments)}),function(o){return Bt(o,r).value[e]}}function lu(t,e){var n;return(typeof e=="number"?wt:e instanceof Ue?Ae:(n=Ue(e))?(e=n,Ae):qi)(t,e)}function c6(t){return function(){this.removeAttribute(t)}}function l6(t){return function(){this.removeAttributeNS(t.space,t.local)}}function p6(t,e,n){var r,o=n+"",i;return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=e(r=a,n)}}function d6(t,e,n){var r,o=n+"",i;return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=e(r=a,n)}}function m6(t,e,n){var r,o,i;return function(){var a,f=n(this),u;return f==null?void this.removeAttribute(t):(a=this.getAttribute(t),u=f+"",a===u?null:a===r&&u===o?i:(o=u,i=e(r=a,f)))}}function h6(t,e,n){var r,o,i;return function(){var a,f=n(this),u;return f==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),u=f+"",a===u?null:a===r&&u===o?i:(o=u,i=e(r=a,f)))}}function Hg(t,e){var n=$n(t),r=n==="transform"?Hl:lu;return this.attrTween(t,typeof e=="function"?(n.local?h6:m6)(n,r,Eo(this,"attr."+t,e)):e==null?(n.local?l6:c6)(n):(n.local?d6:p6)(n,r,e))}function g6(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function x6(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function y6(t,e){var n,r;function o(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&x6(t,i)),n}return o._value=e,o}function b6(t,e){var n,r;function o(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&g6(t,i)),n}return o._value=e,o}function Wg(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=$n(t);return this.tween(n,(r.local?y6:b6)(r,e))}function _6(t,e){return function(){Vi(this,t).delay=+e.apply(this,arguments)}}function v6(t,e){return e=+e,function(){Vi(this,t).delay=e}}function Gg(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?_6:v6)(e,t)):Bt(this.node(),e).delay}function w6(t,e){return function(){Jt(this,t).duration=+e.apply(this,arguments)}}function M6(t,e){return e=+e,function(){Jt(this,t).duration=e}}function Vg(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?w6:M6)(e,t)):Bt(this.node(),e).duration}function S6(t,e){if(typeof e!="function")throw new Error;return function(){Jt(this,t).ease=e}}function jg(t){var e=this._id;return arguments.length?this.each(S6(e,t)):Bt(this.node(),e).ease}function k6(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Jt(this,t).ease=n}}function Zg(t){if(typeof t!="function")throw new Error;return this.each(k6(this._id,t))}function Kg(t){typeof t!="function"&&(t=Di(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i=e[o],a=i.length,f=r[o]=[],u,c=0;c<a;++c)(u=i[c])&&t.call(u,u.__data__,c,i)&&f.push(u);return new de(r,this._parents,this._name,this._id)}function Qg(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,o=n.length,i=Math.min(r,o),a=new Array(r),f=0;f<i;++f)for(var u=e[f],c=n[f],s=u.length,l=a[f]=new Array(s),p,d=0;d<s;++d)(p=u[d]||c[d])&&(l[d]=p);for(;f<r;++f)a[f]=e[f];return new de(a,this._parents,this._name,this._id)}function T6(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function C6(t,e,n){var r,o,i=T6(e)?Vi:Jt;return function(){var a=i(this,t),f=a.on;f!==r&&(o=(r=f).copy()).on(e,n),a.on=o}}function Jg(t,e){var n=this._id;return arguments.length<2?Bt(this.node(),n).on.on(t):this.each(C6(n,t,e))}function E6(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function t1(){return this.on("end.remove",E6(this._id))}function e1(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Dr(t));for(var r=this._groups,o=r.length,i=new Array(o),a=0;a<o;++a)for(var f=r[a],u=f.length,c=i[a]=new Array(u),s,l,p=0;p<u;++p)(s=f[p])&&(l=t.call(s,s.__data__,p,f))&&("__data__"in s&&(l.__data__=s.__data__),c[p]=l,ar(c[p],e,n,p,c,Bt(s,n)));return new de(i,this._parents,e,n)}function n1(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Ni(t));for(var r=this._groups,o=r.length,i=[],a=[],f=0;f<o;++f)for(var u=r[f],c=u.length,s,l=0;l<c;++l)if(s=u[l]){for(var p=t.call(s,s.__data__,l,u),d,m=Bt(s,n),h=0,g=p.length;h<g;++h)(d=p[h])&&ar(d,e,n,h,p,m);i.push(p),a.push(s)}return new de(i,a,e,n)}var A6=Nn.prototype.constructor;function r1(){return new A6(this._groups,this._parents)}function $6(t,e){var n,r,o;return function(){var i=rr(this,t),a=(this.style.removeProperty(t),rr(this,t));return i===a?null:i===n&&a===r?o:o=e(n=i,r=a)}}function o1(t){return function(){this.style.removeProperty(t)}}function I6(t,e,n){var r,o=n+"",i;return function(){var a=rr(this,t);return a===o?null:a===r?i:i=e(r=a,n)}}function N6(t,e,n){var r,o,i;return function(){var a=rr(this,t),f=n(this),u=f+"";return f==null&&(u=f=(this.style.removeProperty(t),rr(this,t))),a===u?null:a===r&&u===o?i:(o=u,i=e(r=a,f))}}function D6(t,e){var n,r,o,i="style."+e,a="end."+i,f;return function(){var u=Jt(this,t),c=u.on,s=u.value[i]==null?f||(f=o1(e)):void 0;(c!==n||o!==s)&&(r=(n=c).copy()).on(a,o=s),u.on=r}}function i1(t,e,n){var r=(t+="")=="transform"?Xl:lu;return e==null?this.styleTween(t,$6(t,r)).on("end.style."+t,o1(t)):typeof e=="function"?this.styleTween(t,N6(t,r,Eo(this,"style."+t,e))).each(D6(this._id,t)):this.styleTween(t,I6(t,r,e),n).on("end.style."+t,null)}function R6(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function L6(t,e,n){var r,o;function i(){var a=e.apply(this,arguments);return a!==o&&(r=(o=a)&&R6(t,a,n)),r}return i._value=e,i}function a1(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,L6(t,e,n==null?"":n))}function P6(t){return function(){this.textContent=t}}function Y6(t){return function(){var e=t(this);this.textContent=e==null?"":e}}function f1(t){return this.tween("text",typeof t=="function"?Y6(Eo(this,"text",t)):P6(t==null?"":t+""))}function O6(t){return function(e){this.textContent=t.call(this,e)}}function F6(t){var e,n;function r(){var o=t.apply(this,arguments);return o!==n&&(e=(n=o)&&O6(o)),e}return r._value=t,r}function u1(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,F6(t))}function s1(){for(var t=this._name,e=this._id,n=pu(),r=this._groups,o=r.length,i=0;i<o;++i)for(var a=r[i],f=a.length,u,c=0;c<f;++c)if(u=a[c]){var s=Bt(u,e);ar(u,t,n,c,a,{time:s.time+s.delay+s.duration,delay:0,duration:s.duration,ease:s.ease})}return new de(r,this._parents,t,n)}function c1(){var t,e,n=this,r=n._id,o=n.size();return new Promise(function(i,a){var f={value:a},u={value:function(){--o===0&&i()}};n.each(function(){var c=Jt(this,r),s=c.on;s!==t&&(e=(t=s).copy(),e._.cancel.push(f),e._.interrupt.push(f),e._.end.push(u)),c.on=e}),o===0&&i()})}var q6=0;function de(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function l1(t){return Nn().transition(t)}function pu(){return++q6}var Pn=Nn.prototype;de.prototype=l1.prototype={constructor:de,select:e1,selectAll:n1,selectChild:Pn.selectChild,selectChildren:Pn.selectChildren,filter:Kg,merge:Qg,selection:r1,transition:s1,call:Pn.call,nodes:Pn.nodes,node:Pn.node,size:Pn.size,empty:Pn.empty,each:Pn.each,on:Jg,attr:Hg,attrTween:Wg,style:i1,styleTween:a1,text:f1,textTween:u1,remove:t1,tween:Xg,delay:Gg,duration:Vg,ease:jg,easeVarying:Zg,end:c1,[Symbol.iterator]:Pn[Symbol.iterator]};function du(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var z6={time:null,delay:0,duration:250,ease:du};function B6(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error("transition ".concat(e," not found"));return n}function p1(t){var e,n;t instanceof de?(e=t._id,t=t._name):(e=pu(),(n=z6).time=Wi(),t=t==null?null:t+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var a=r[i],f=a.length,u,c=0;c<f;++c)(u=a[c])&&ar(u,t,e,c,a,n||B6(u,e));return new de(r,this._parents,t,e)}Nn.prototype.interrupt=Ug;Nn.prototype.transition=p1;var{abs:Y$,max:O$,min:F$}=Math;function d1(t){return[+t[0],+t[1]]}function U6(t){return[d1(t[0]),d1(t[1])]}var q$={name:"x",handles:["w","e"].map(jl),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},z$={name:"y",handles:["n","s"].map(jl),input:function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},B$={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(jl),input:function(t){return t==null?null:U6(t)},output:function(t){return t}};function jl(t){return{type:t}}var Zl=Math.PI,Kl=2*Zl,qr=1e-6,X6=Kl-qr;function E1(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function H6(t){let e=Math.floor(t);if(!(e>=0))throw new Error("invalid digits: ".concat(t));if(e>15)return E1;let n=10**e;return function(r){this._+=r[0];for(let o=1,i=r.length;o<i;++o)this._+=Math.round(arguments[o]*n)/n+r[o]}}var m1,h1,g1,x1,y1,b1,_1,v1,w1,M1,S1,k1,T1,C1,fr=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?E1:H6(e)}moveTo(e,n){this._append(m1||(m1=bt(["M",",",""])),this._x0=this._x1=+e,this._y0=this._y1=+n)}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append(h1||(h1=bt(["Z"]))))}lineTo(e,n){this._append(g1||(g1=bt(["L",",",""])),this._x1=+e,this._y1=+n)}quadraticCurveTo(e,n,r,o){this._append(x1||(x1=bt(["Q",",",",",",",""])),+e,+n,this._x1=+r,this._y1=+o)}bezierCurveTo(e,n,r,o,i,a){this._append(y1||(y1=bt(["C",",",",",",",",",",",""])),+e,+n,+r,+o,this._x1=+i,this._y1=+a)}arcTo(e,n,r,o,i){if(e=+e,n=+n,r=+r,o=+o,i=+i,i<0)throw new Error("negative radius: ".concat(i));let a=this._x1,f=this._y1,u=r-e,c=o-n,s=a-e,l=f-n,p=s*s+l*l;if(this._x1===null)this._append(b1||(b1=bt(["M",",",""])),this._x1=e,this._y1=n);else if(p>qr)if(!(Math.abs(l*u-c*s)>qr)||!i)this._append(_1||(_1=bt(["L",",",""])),this._x1=e,this._y1=n);else{let d=r-a,m=o-f,h=u*u+c*c,g=d*d+m*m,b=Math.sqrt(h),x=Math.sqrt(p),w=i*Math.tan((Zl-Math.acos((h+p-g)/(2*b*x)))/2),y=w/x,v=w/b;Math.abs(y-1)>qr&&this._append(v1||(v1=bt(["L",",",""])),e+y*s,n+y*l),this._append(w1||(w1=bt(["A",",",",0,0,",",",",",""])),i,i,+(l*d>s*m),this._x1=e+v*u,this._y1=n+v*c)}}arc(e,n,r,o,i,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error("negative radius: ".concat(r));let f=r*Math.cos(o),u=r*Math.sin(o),c=e+f,s=n+u,l=1^a,p=a?o-i:i-o;this._x1===null?this._append(M1||(M1=bt(["M",",",""])),c,s):(Math.abs(this._x1-c)>qr||Math.abs(this._y1-s)>qr)&&this._append(S1||(S1=bt(["L",",",""])),c,s),r&&(p<0&&(p=p%Kl+Kl),p>X6?this._append(k1||(k1=bt(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),r,r,l,e-f,n-u,r,r,l,this._x1=c,this._y1=s):p>qr&&this._append(T1||(T1=bt(["A",",",",0,",",",",",",",""])),r,r,+(p>=Zl),l,this._x1=e+r*Math.cos(i),this._y1=n+r*Math.sin(i)))}rect(e,n,r,o){this._append(C1||(C1=bt(["M",",","h","v","h","Z"])),this._x0=this._x1=+e,this._y0=this._y1=+n,r=+r,+o,-r)}toString(){return this._}};function A1(){return new fr}A1.prototype=fr.prototype;function He(t=3){return new fr(+t)}function $1(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function zr(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function an(t){return t=zr(Math.abs(t)),t?t[1]:NaN}function I1(t,e){return function(n,r){for(var o=n.length,i=[],a=0,f=t[0],u=0;o>0&&f>0&&(u+f+1>r&&(f=Math.max(1,r-u)),i.push(n.substring(o-=f,o+f)),!((u+=f+1)>r));)f=t[a=(a+1)%t.length];return i.reverse().join(e)}}function N1(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var W6=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function fn(t){if(!(e=W6.exec(t)))throw new Error("invalid format: "+t);var e;return new mu({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}fn.prototype=mu.prototype;function mu(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}mu.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function D1(t){t:for(var e=t.length,n=1,r=-1,o;n<e;++n)switch(t[n]){case".":r=o=n;break;case"0":r===0&&(r=n),o=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(o+1):t}var Ql;function R1(t,e){var n=zr(t,e);if(!n)return t+"";var r=n[0],o=n[1],i=o-(Ql=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,a=r.length;return i===a?r:i>a?r+new Array(i-a+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+zr(t,Math.max(0,e+i-1))[0]}function Jl(t,e){var n=zr(t,e);if(!n)return t+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}var tp={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:$1,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Jl(t*100,e),r:Jl,s:R1,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function ep(t){return t}var L1=Array.prototype.map,P1=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function Y1(t){var e=t.grouping===void 0||t.thousands===void 0?ep:I1(L1.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",o=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?ep:N1(L1.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",f=t.minus===void 0?"\u2212":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function c(l){l=fn(l);var p=l.fill,d=l.align,m=l.sign,h=l.symbol,g=l.zero,b=l.width,x=l.comma,w=l.precision,y=l.trim,v=l.type;v==="n"?(x=!0,v="g"):tp[v]||(w===void 0&&(w=12),y=!0,v="g"),(g||p==="0"&&d==="=")&&(g=!0,p="0",d="=");var _=h==="$"?n:h==="#"&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",M=h==="$"?r:/[%p]/.test(v)?a:"",C=tp[v],E=/[defgprs%]/.test(v);w=w===void 0?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function $(S){var I=_,D=M,P,k,Y;if(v==="c")D=C(S)+D,S="";else{S=+S;var tt=S<0||1/S<0;if(S=isNaN(S)?u:C(Math.abs(S),w),y&&(S=D1(S)),tt&&+S==0&&m!=="+"&&(tt=!1),I=(tt?m==="("?m:f:m==="-"||m==="("?"":m)+I,D=(v==="s"?P1[8+Ql/3]:"")+D+(tt&&m==="("?")":""),E){for(P=-1,k=S.length;++P<k;)if(Y=S.charCodeAt(P),48>Y||Y>57){D=(Y===46?o+S.slice(P+1):S.slice(P))+D,S=S.slice(0,P);break}}}x&&!g&&(S=e(S,1/0));var K=I.length+S.length+D.length,J=K<b?new Array(b-K+1).join(p):"";switch(x&&g&&(S=e(J+S,J.length?b-D.length:1/0),J=""),d){case"<":S=I+S+D+J;break;case"=":S=I+J+S+D;break;case"^":S=J.slice(0,K=J.length>>1)+I+S+D+J.slice(K);break;default:S=J+I+S+D;break}return i(S)}return $.toString=function(){return l+""},$}function s(l,p){var d=c((l=fn(l),l.type="f",l)),m=Math.max(-8,Math.min(8,Math.floor(an(p)/3)))*3,h=Math.pow(10,-m),g=P1[8+m/3];return function(b){return d(h*b)+g}}return{format:c,formatPrefix:s}}var hu,$e,gu;np({thousands:",",grouping:[3],currency:["$",""]});function np(t){return hu=Y1(t),$e=hu.format,gu=hu.formatPrefix,hu}function rp(t){return Math.max(0,-an(Math.abs(t)))}function op(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(an(e)/3)))*3-an(Math.abs(t)))}function ip(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,an(e)-an(t))+1}var H=1e-6,xu=1e-12,Q=Math.PI,lt=Q/2,ap=Q/4,Vt=Q*2,Ut=180/Q,pt=Q/180,rt=Math.abs,Ie=Math.atan,te=Math.atan2,X=Math.cos;var yu=Math.exp;var Br=Math.log,bu=Math.pow,B=Math.sin,oe=Math.sign||function(t){return t>0?1:t<0?-1:0},_t=Math.sqrt,Ao=Math.tan;function _u(t){return t>1?0:t<-1?Q:Math.acos(t)}function $t(t){return t>1?lt:t<-1?-lt:Math.asin(t)}function jt(){}function vu(t,e){t&&F1.hasOwnProperty(t.type)&&F1[t.type](t,e)}var O1={Feature:function(t,e){vu(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,o=n.length;++r<o;)vu(n[r].geometry,e)}},F1={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){fp(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)fp(n[r],e,0)},Polygon:function(t,e){q1(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)q1(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,o=n.length;++r<o;)vu(n[r],e)}};function fp(t,e,n){var r=-1,o=t.length-n,i;for(e.lineStart();++r<o;)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function q1(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)fp(t[n],e,1);e.polygonEnd()}function We(t,e){t&&O1.hasOwnProperty(t.type)?O1[t.type](t,e):vu(t,e)}function ji(t){return[te(t[1],t[0]),$t(t[2])]}function un(t){var e=t[0],n=t[1],r=X(n);return[r*X(e),r*B(e),B(n)]}function Zi(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function $o(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function wu(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Ki(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Qi(t){var e=_t(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Ji(t,e){function n(r,o){return r=t(r,o),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,o){return r=e.invert(r,o),r&&t.invert(r[0],r[1])}),n}function up(t,e){return rt(t)>Q&&(t-=Math.round(t/Vt)*Vt),[t,e]}up.invert=up;function sp(t,e,n){return(t%=Vt)?e||n?Ji(B1(t),U1(e,n)):B1(t):e||n?U1(e,n):up}function z1(t){return function(e,n){return e+=t,rt(e)>Q&&(e-=Math.round(e/Vt)*Vt),[e,n]}}function B1(t){var e=z1(t);return e.invert=z1(-t),e}function U1(t,e){var n=X(t),r=B(t),o=X(e),i=B(e);function a(f,u){var c=X(u),s=X(f)*c,l=B(f)*c,p=B(u),d=p*n+s*r;return[te(l*o-d*i,s*n-p*r),$t(d*o+l*i)]}return a.invert=function(f,u){var c=X(u),s=X(f)*c,l=B(f)*c,p=B(u),d=p*o-l*i;return[te(l*o+p*i,s*n+d*r),$t(d*n-s*r)]},a}function X1(t){t=sp(t[0]*pt,t[1]*pt,t.length>2?t[2]*pt:0);function e(n){return n=t(n[0]*pt,n[1]*pt),n[0]*=Ut,n[1]*=Ut,n}return e.invert=function(n){return n=t.invert(n[0]*pt,n[1]*pt),n[0]*=Ut,n[1]*=Ut,n},e}function W1(t,e,n,r,o,i){if(n){var a=X(e),f=B(e),u=r*n;o==null?(o=e+r*Vt,i=e-u/2):(o=H1(a,o),i=H1(a,i),(r>0?o<i:o>i)&&(o+=r*Vt));for(var c,s=o;r>0?s>i:s<i;s-=u)c=ji([a,-f*X(s),-f*B(s)]),t.point(c[0],c[1])}}function H1(t,e){e=un(e),e[0]-=t,Qi(e);var n=_u(-e[1]);return((-e[2]<0?-n:n)+Vt-H)%Vt}function Mu(){var t=[],e;return{point:function(n,r,o){e.push([n,r,o])},lineStart:function(){t.push(e=[])},lineEnd:jt,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function Io(t,e){return rt(t[0]-e[0])<H&&rt(t[1]-e[1])<H}function Su(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function ku(t,e,n,r,o){var i=[],a=[],f,u;if(t.forEach(function(m){if(!((h=m.length-1)<=0)){var h,g=m[0],b=m[h],x;if(Io(g,b)){if(!g[2]&&!b[2]){for(o.lineStart(),f=0;f<h;++f)o.point((g=m[f])[0],g[1]);o.lineEnd();return}b[0]+=2*H}i.push(x=new Su(g,m,null,!0)),a.push(x.o=new Su(g,null,x,!1)),i.push(x=new Su(b,m,null,!1)),a.push(x.o=new Su(b,null,x,!0))}}),!!i.length){for(a.sort(e),G1(i),G1(a),f=0,u=a.length;f<u;++f)a[f].e=n=!n;for(var c=i[0],s,l;;){for(var p=c,d=!0;p.v;)if((p=p.n)===c)return;s=p.z,o.lineStart();do{if(p.v=p.o.v=!0,p.e){if(d)for(f=0,u=s.length;f<u;++f)o.point((l=s[f])[0],l[1]);else r(p.x,p.n.x,1,o);p=p.n}else{if(d)for(s=p.p.z,f=s.length-1;f>=0;--f)o.point((l=s[f])[0],l[1]);else r(p.x,p.p.x,-1,o);p=p.p}p=p.o,s=p.z,d=!d}while(!p.v);o.lineEnd()}}}function G1(t){if(e=t.length){for(var e,n=0,r=t[0],o;++n<e;)r.n=o=t[n],o.p=r,r=o;r.n=o=t[0],o.p=r}}function cp(t){return rt(t[0])<=Q?t[0]:oe(t[0])*((rt(t[0])+Q)%Vt-Q)}function V1(t,e){var n=cp(e),r=e[1],o=B(r),i=[B(n),-X(n),0],a=0,f=0,u=new be;o===1?r=lt+H:o===-1&&(r=-lt-H);for(var c=0,s=t.length;c<s;++c)if(p=(l=t[c]).length)for(var l,p,d=l[p-1],m=cp(d),h=d[1]/2+ap,g=B(h),b=X(h),x=0;x<p;++x,m=y,g=_,b=M,d=w){var w=l[x],y=cp(w),v=w[1]/2+ap,_=B(v),M=X(v),C=y-m,E=C>=0?1:-1,$=E*C,S=$>Q,I=g*_;if(u.add(te(I*E*B($),b*M+I*X($))),a+=S?C+E*Vt:C,S^m>=n^y>=n){var D=$o(un(d),un(w));Qi(D);var P=$o(i,D);Qi(P);var k=(S^C>=0?-1:1)*$t(P[2]);(r>k||r===k&&(D[0]||D[1]))&&(f+=S^C>=0?1:-1)}}return(a<-H||a<H&&u<-xu)^f&1}function Tu(t,e,n,r){return function(o){var i=e(o),a=Mu(),f=e(a),u=!1,c,s,l,p={point:d,lineStart:h,lineEnd:g,polygonStart:function(){p.point=b,p.lineStart=x,p.lineEnd=w,s=[],c=[]},polygonEnd:function(){p.point=d,p.lineStart=h,p.lineEnd=g,s=_o(s);var y=V1(c,r);s.length?(u||(o.polygonStart(),u=!0),ku(s,V6,y,n,o)):y&&(u||(o.polygonStart(),u=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),u&&(o.polygonEnd(),u=!1),s=c=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function d(y,v){t(y,v)&&o.point(y,v)}function m(y,v){i.point(y,v)}function h(){p.point=m,i.lineStart()}function g(){p.point=d,i.lineEnd()}function b(y,v){l.push([y,v]),f.point(y,v)}function x(){f.lineStart(),l=[]}function w(){b(l[0][0],l[0][1]),f.lineEnd();var y=f.clean(),v=a.result(),_,M=v.length,C,E,$;if(l.pop(),c.push(l),l=null,!!M){if(y&1){if(E=v[0],(C=E.length-1)>0){for(u||(o.polygonStart(),u=!0),o.lineStart(),_=0;_<C;++_)o.point(($=E[_])[0],$[1]);o.lineEnd()}return}M>1&&y&2&&v.push(v.pop().concat(v.shift())),s.push(v.filter(G6))}}return p}}function G6(t){return t.length>1}function V6(t,e){return((t=t.x)[0]<0?t[1]-lt-H:lt-t[1])-((e=e.x)[0]<0?e[1]-lt-H:lt-e[1])}var lp=Tu(function(){return!0},j6,K6,[-Q,-lt]);function j6(t){var e=NaN,n=NaN,r=NaN,o;return{lineStart:function(){t.lineStart(),o=1},point:function(i,a){var f=i>0?Q:-Q,u=rt(i-e);rt(u-Q)<H?(t.point(e,n=(n+a)/2>0?lt:-lt),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(f,n),t.point(i,n),o=0):r!==f&&u>=Q&&(rt(e-r)<H&&(e-=r*H),rt(i-f)<H&&(i-=f*H),n=Z6(e,n,i,a),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(f,n),o=0),t.point(e=i,n=a),r=f},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-o}}}function Z6(t,e,n,r){var o,i,a=B(t-n);return rt(a)>H?Ie((B(e)*(i=X(r))*B(n)-B(r)*(o=X(e))*B(t))/(o*i*a)):(e+r)/2}function K6(t,e,n,r){var o;if(t==null)o=n*lt,r.point(-Q,o),r.point(0,o),r.point(Q,o),r.point(Q,0),r.point(Q,-o),r.point(0,-o),r.point(-Q,-o),r.point(-Q,0),r.point(-Q,o);else if(rt(t[0]-e[0])>H){var i=t[0]<e[0]?Q:-Q;o=n*i/2,r.point(-i,o),r.point(0,o),r.point(i,o)}else r.point(e[0],e[1])}function j1(t){var e=X(t),n=6*pt,r=e>0,o=rt(e)>H;function i(s,l,p,d){W1(d,t,n,p,s,l)}function a(s,l){return X(s)*X(l)>e}function f(s){var l,p,d,m,h;return{lineStart:function(){m=d=!1,h=1},point:function(g,b){var x=[g,b],w,y=a(g,b),v=r?y?0:c(g,b):y?c(g+(g<0?Q:-Q),b):0;if(!l&&(m=d=y)&&s.lineStart(),y!==d&&(w=u(l,x),(!w||Io(l,w)||Io(x,w))&&(x[2]=1)),y!==d)h=0,y?(s.lineStart(),w=u(x,l),s.point(w[0],w[1])):(w=u(l,x),s.point(w[0],w[1],2),s.lineEnd()),l=w;else if(o&&l&&r^y){var _;!(v&p)&&(_=u(x,l,!0))&&(h=0,r?(s.lineStart(),s.point(_[0][0],_[0][1]),s.point(_[1][0],_[1][1]),s.lineEnd()):(s.point(_[1][0],_[1][1]),s.lineEnd(),s.lineStart(),s.point(_[0][0],_[0][1],3)))}y&&(!l||!Io(l,x))&&s.point(x[0],x[1]),l=x,d=y,p=v},lineEnd:function(){d&&s.lineEnd(),l=null},clean:function(){return h|(m&&d)<<1}}}function u(s,l,p){var d=un(s),m=un(l),h=[1,0,0],g=$o(d,m),b=Zi(g,g),x=g[0],w=b-x*x;if(!w)return!p&&s;var y=e*b/w,v=-e*x/w,_=$o(h,g),M=Ki(h,y),C=Ki(g,v);wu(M,C);var E=_,$=Zi(M,E),S=Zi(E,E),I=$*$-S*(Zi(M,M)-1);if(!(I<0)){var D=_t(I),P=Ki(E,(-$-D)/S);if(wu(P,M),P=ji(P),!p)return P;var k=s[0],Y=l[0],tt=s[1],K=l[1],J;Y<k&&(J=k,k=Y,Y=J);var vt=Y-k,at=rt(vt-Q)<H,N=at||vt<H;if(!at&&K<tt&&(J=tt,tt=K,K=J),N?at?tt+K>0^P[1]<(rt(P[0]-k)<H?tt:K):tt<=P[1]&&P[1]<=K:vt>Q^(k<=P[0]&&P[0]<=Y)){var F=Ki(E,(-$+D)/S);return wu(F,M),[P,ji(F)]}}}function c(s,l){var p=r?t:Q-t,d=0;return s<-p?d|=1:s>p&&(d|=2),l<-p?d|=4:l>p&&(d|=8),d}return Tu(a,f,i,r?[0,-t]:[-Q,t-Q])}function Z1(t,e,n,r,o,i){var a=t[0],f=t[1],u=e[0],c=e[1],s=0,l=1,p=u-a,d=c-f,m;if(m=n-a,!(!p&&m>0)){if(m/=p,p<0){if(m<s)return;m<l&&(l=m)}else if(p>0){if(m>l)return;m>s&&(s=m)}if(m=o-a,!(!p&&m<0)){if(m/=p,p<0){if(m>l)return;m>s&&(s=m)}else if(p>0){if(m<s)return;m<l&&(l=m)}if(m=r-f,!(!d&&m>0)){if(m/=d,d<0){if(m<s)return;m<l&&(l=m)}else if(d>0){if(m>l)return;m>s&&(s=m)}if(m=i-f,!(!d&&m<0)){if(m/=d,d<0){if(m>l)return;m>s&&(s=m)}else if(d>0){if(m<s)return;m<l&&(l=m)}return s>0&&(t[0]=a+s*p,t[1]=f+s*d),l<1&&(e[0]=a+l*p,e[1]=f+l*d),!0}}}}}var ta=1e9,Cu=-ta;function No(t,e,n,r){function o(c,s){return t<=c&&c<=n&&e<=s&&s<=r}function i(c,s,l,p){var d=0,m=0;if(c==null||(d=a(c,l))!==(m=a(s,l))||u(c,s)<0^l>0)do p.point(d===0||d===3?t:n,d>1?r:e);while((d=(d+l+4)%4)!==m);else p.point(s[0],s[1])}function a(c,s){return rt(c[0]-t)<H?s>0?0:3:rt(c[0]-n)<H?s>0?2:1:rt(c[1]-e)<H?s>0?1:0:s>0?3:2}function f(c,s){return u(c.x,s.x)}function u(c,s){var l=a(c,1),p=a(s,1);return l!==p?l-p:l===0?s[1]-c[1]:l===1?c[0]-s[0]:l===2?c[1]-s[1]:s[0]-c[0]}return function(c){var s=c,l=Mu(),p,d,m,h,g,b,x,w,y,v,_,M={point:C,lineStart:I,lineEnd:D,polygonStart:$,polygonEnd:S};function C(k,Y){o(k,Y)&&s.point(k,Y)}function E(){for(var k=0,Y=0,tt=d.length;Y<tt;++Y)for(var K=d[Y],J=1,vt=K.length,at=K[0],N,F,Z=at[0],G=at[1];J<vt;++J)N=Z,F=G,at=K[J],Z=at[0],G=at[1],F<=r?G>r&&(Z-N)*(r-F)>(G-F)*(t-N)&&++k:G<=r&&(Z-N)*(r-F)<(G-F)*(t-N)&&--k;return k}function $(){s=l,p=[],d=[],_=!0}function S(){var k=E(),Y=_&&k,tt=(p=_o(p)).length;(Y||tt)&&(c.polygonStart(),Y&&(c.lineStart(),i(null,null,1,c),c.lineEnd()),tt&&ku(p,f,k,i,c),c.polygonEnd()),s=c,p=d=m=null}function I(){M.point=P,d&&d.push(m=[]),v=!0,y=!1,x=w=NaN}function D(){p&&(P(h,g),b&&y&&l.rejoin(),p.push(l.result())),M.point=C,y&&s.lineEnd()}function P(k,Y){var tt=o(k,Y);if(d&&m.push([k,Y]),v)h=k,g=Y,b=tt,v=!1,tt&&(s.lineStart(),s.point(k,Y));else if(tt&&y)s.point(k,Y);else{var K=[x=Math.max(Cu,Math.min(ta,x)),w=Math.max(Cu,Math.min(ta,w))],J=[k=Math.max(Cu,Math.min(ta,k)),Y=Math.max(Cu,Math.min(ta,Y))];Z1(K,J,t,e,n,r)?(y||(s.lineStart(),s.point(K[0],K[1])),s.point(J[0],J[1]),tt||s.lineEnd(),_=!1):tt&&(s.lineStart(),s.point(k,Y),_=!1)}x=k,w=Y,y=tt}return M}}var ea=t=>t;var pp=new be,dp=new be,K1,Q1,mp,hp,ur={point:jt,lineStart:jt,lineEnd:jt,polygonStart:function(){ur.lineStart=Q6,ur.lineEnd=t5},polygonEnd:function(){ur.lineStart=ur.lineEnd=ur.point=jt,pp.add(rt(dp)),dp=new be},result:function(){var t=pp/2;return pp=new be,t}};function Q6(){ur.point=J6}function J6(t,e){ur.point=J1,K1=mp=t,Q1=hp=e}function J1(t,e){dp.add(hp*t-mp*e),mp=t,hp=e}function t5(){J1(K1,Q1)}var gp=ur;var Do=1/0,Eu=Do,na=-Do,Au=na,e5={point:n5,lineStart:jt,lineEnd:jt,polygonStart:jt,polygonEnd:jt,result:function(){var t=[[Do,Eu],[na,Au]];return na=Au=-(Eu=Do=1/0),t}};function n5(t,e){t<Do&&(Do=t),t>na&&(na=t),e<Eu&&(Eu=e),e>Au&&(Au=e)}var Ro=e5;var xp=0,yp=0,ra=0,$u=0,Iu=0,Lo=0,bp=0,_p=0,oa=0,nx,rx,sn,cn,Ge={point:Ur,lineStart:tx,lineEnd:ex,polygonStart:function(){Ge.lineStart=i5,Ge.lineEnd=a5},polygonEnd:function(){Ge.point=Ur,Ge.lineStart=tx,Ge.lineEnd=ex},result:function(){var t=oa?[bp/oa,_p/oa]:Lo?[$u/Lo,Iu/Lo]:ra?[xp/ra,yp/ra]:[NaN,NaN];return xp=yp=ra=$u=Iu=Lo=bp=_p=oa=0,t}};function Ur(t,e){xp+=t,yp+=e,++ra}function tx(){Ge.point=r5}function r5(t,e){Ge.point=o5,Ur(sn=t,cn=e)}function o5(t,e){var n=t-sn,r=e-cn,o=_t(n*n+r*r);$u+=o*(sn+t)/2,Iu+=o*(cn+e)/2,Lo+=o,Ur(sn=t,cn=e)}function ex(){Ge.point=Ur}function i5(){Ge.point=f5}function a5(){ox(nx,rx)}function f5(t,e){Ge.point=ox,Ur(nx=sn=t,rx=cn=e)}function ox(t,e){var n=t-sn,r=e-cn,o=_t(n*n+r*r);$u+=o*(sn+t)/2,Iu+=o*(cn+e)/2,Lo+=o,o=cn*t-sn*e,bp+=o*(sn+t),_p+=o*(cn+e),oa+=o*3,Ur(sn=t,cn=e)}var vp=Ge;function Nu(t){this._context=t}Nu.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Vt);break}}},result:jt};var Mp=new be,wp,ix,ax,ia,aa,Du={point:jt,lineStart:function(){Du.point=u5},lineEnd:function(){wp&&fx(ix,ax),Du.point=jt},polygonStart:function(){wp=!0},polygonEnd:function(){wp=null},result:function(){var t=+Mp;return Mp=new be,t}};function u5(t,e){Du.point=fx,ix=ia=t,ax=aa=e}function fx(t,e){ia-=t,aa-=e,Mp.add(_t(ia*ia+aa*aa)),ia=t,aa=e}var Sp=Du;var ux,Ru,sx,cx,lx,px,dx,mx,Po=class{constructor(e){this._append=e==null?hx:s5(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,n){switch(this._point){case 0:{this._append(lx||(lx=bt(["M",",",""])),e,n),this._point=1;break}case 1:{this._append(px||(px=bt(["L",",",""])),e,n);break}default:{if(this._append(dx||(dx=bt(["M",",",""])),e,n),this._radius!==sx||this._append!==Ru){let r=this._radius,o=this._;this._="",this._append(mx||(mx=bt(["m0,","a",","," 0 1,1 0,","a",","," 0 1,1 0,","z"])),r,r,r,-2*r,r,r,2*r),sx=r,Ru=this._append,cx=this._,this._=o}this._+=cx;break}}}result(){let e=this._;return this._="",e.length?e:null}};function hx(t){let e=1;this._+=t[0];for(let n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function s5(t){let e=Math.floor(t);if(!(e>=0))throw new RangeError("invalid digits: ".concat(t));if(e>15)return hx;if(e!==ux){let n=10**e;ux=e,Ru=function(o){let i=1;this._+=o[0];for(let a=o.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+o[i]}}return Ru}function Xr(t,e){let n=3,r=4.5,o,i;function a(f){return f&&(typeof r=="function"&&i.pointRadius(+r.apply(this,arguments)),We(f,o(i))),i.result()}return a.area=function(f){return We(f,o(gp)),gp.result()},a.measure=function(f){return We(f,o(Sp)),Sp.result()},a.bounds=function(f){return We(f,o(Ro)),Ro.result()},a.centroid=function(f){return We(f,o(vp)),vp.result()},a.projection=function(f){return arguments.length?(o=f==null?(t=null,ea):(t=f).stream,a):t},a.context=function(f){return arguments.length?(i=f==null?(e=null,new Po(n)):new Nu(e=f),typeof r!="function"&&i.pointRadius(r),a):e},a.pointRadius=function(f){return arguments.length?(r=typeof f=="function"?f:(i.pointRadius(+f),+f),a):r},a.digits=function(f){if(!arguments.length)return n;if(f==null)n=null;else{let u=Math.floor(f);if(!(u>=0))throw new RangeError("invalid digits: ".concat(f));n=u}return e===null&&(i=new Po(n)),a},a.projection(t).digits(n).context(e)}function fa(t){return{stream:Yo(t)}}function Yo(t){return function(e){var n=new kp;for(var r in t)n[r]=t[r];return n.stream=e,n}}function kp(){}kp.prototype={constructor:kp,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Tp(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),We(n,t.stream(Ro)),e(Ro.result()),r!=null&&t.clipExtent(r),t}function ua(t,e,n){return Tp(t,function(r){var o=e[1][0]-e[0][0],i=e[1][1]-e[0][1],a=Math.min(o/(r[1][0]-r[0][0]),i/(r[1][1]-r[0][1])),f=+e[0][0]+(o-a*(r[1][0]+r[0][0]))/2,u=+e[0][1]+(i-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([f,u])},n)}function Lu(t,e,n){return ua(t,[[0,0],e],n)}function Pu(t,e,n){return Tp(t,function(r){var o=+e,i=o/(r[1][0]-r[0][0]),a=(o-i*(r[1][0]+r[0][0]))/2,f=-i*r[0][1];t.scale(150*i).translate([a,f])},n)}function Yu(t,e,n){return Tp(t,function(r){var o=+e,i=o/(r[1][1]-r[0][1]),a=-i*r[0][0],f=(o-i*(r[1][1]+r[0][1]))/2;t.scale(150*i).translate([a,f])},n)}var gx=16,c5=X(30*pt);function Cp(t,e){return+e?p5(t,e):l5(t)}function l5(t){return Yo({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function p5(t,e){function n(r,o,i,a,f,u,c,s,l,p,d,m,h,g){var b=c-r,x=s-o,w=b*b+x*x;if(w>4*e&&h--){var y=a+p,v=f+d,_=u+m,M=_t(y*y+v*v+_*_),C=$t(_/=M),E=rt(rt(_)-1)<H||rt(i-l)<H?(i+l)/2:te(v,y),$=t(E,C),S=$[0],I=$[1],D=S-r,P=I-o,k=x*D-b*P;(k*k/w>e||rt((b*D+x*P)/w-.5)>.3||a*p+f*d+u*m<c5)&&(n(r,o,i,a,f,u,S,I,E,y/=M,v/=M,_,h,g),g.point(S,I),n(S,I,E,y,v,_,c,s,l,p,d,m,h,g))}}return function(r){var o,i,a,f,u,c,s,l,p,d,m,h,g={point:b,lineStart:x,lineEnd:y,polygonStart:function(){r.polygonStart(),g.lineStart=v},polygonEnd:function(){r.polygonEnd(),g.lineStart=x}};function b(C,E){C=t(C,E),r.point(C[0],C[1])}function x(){l=NaN,g.point=w,r.lineStart()}function w(C,E){var $=un([C,E]),S=t(C,E);n(l,p,s,d,m,h,l=S[0],p=S[1],s=C,d=$[0],m=$[1],h=$[2],gx,r),r.point(l,p)}function y(){g.point=b,r.lineEnd()}function v(){x(),g.point=_,g.lineEnd=M}function _(C,E){w(o=C,E),i=l,a=p,f=d,u=m,c=h,g.point=w}function M(){n(l,p,s,d,m,h,i,a,o,f,u,c,gx,r),g.lineEnd=y,y()}return g}}var d5=Yo({point:function(t,e){this.stream.point(t*pt,e*pt)}});function m5(t){return Yo({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function h5(t,e,n,r,o){function i(a,f){return a*=r,f*=o,[e+t*a,n-t*f]}return i.invert=function(a,f){return[(a-e)/t*r,(n-f)/t*o]},i}function xx(t,e,n,r,o,i){if(!i)return h5(t,e,n,r,o);var a=X(i),f=B(i),u=a*t,c=f*t,s=a/t,l=f/t,p=(f*n-a*e)/t,d=(f*e+a*n)/t;function m(h,g){return h*=r,g*=o,[u*h-c*g+e,n-c*h-u*g]}return m.invert=function(h,g){return[r*(s*h-l*g+p),o*(d-l*h-s*g)]},m}function ee(t){return Ep(function(){return t})()}function Ep(t){var e,n=150,r=480,o=250,i=0,a=0,f=0,u=0,c=0,s,l=0,p=1,d=1,m=null,h=lp,g=null,b,x,w,y=ea,v=.5,_,M,C,E,$;function S(k){return C(k[0]*pt,k[1]*pt)}function I(k){return k=C.invert(k[0],k[1]),k&&[k[0]*Ut,k[1]*Ut]}S.stream=function(k){return E&&$===k?E:E=d5(m5(s)(h(_(y($=k)))))},S.preclip=function(k){return arguments.length?(h=k,m=void 0,P()):h},S.postclip=function(k){return arguments.length?(y=k,g=b=x=w=null,P()):y},S.clipAngle=function(k){return arguments.length?(h=+k?j1(m=k*pt):(m=null,lp),P()):m*Ut},S.clipExtent=function(k){return arguments.length?(y=k==null?(g=b=x=w=null,ea):No(g=+k[0][0],b=+k[0][1],x=+k[1][0],w=+k[1][1]),P()):g==null?null:[[g,b],[x,w]]},S.scale=function(k){return arguments.length?(n=+k,D()):n},S.translate=function(k){return arguments.length?(r=+k[0],o=+k[1],D()):[r,o]},S.center=function(k){return arguments.length?(i=k[0]%360*pt,a=k[1]%360*pt,D()):[i*Ut,a*Ut]},S.rotate=function(k){return arguments.length?(f=k[0]%360*pt,u=k[1]%360*pt,c=k.length>2?k[2]%360*pt:0,D()):[f*Ut,u*Ut,c*Ut]},S.angle=function(k){return arguments.length?(l=k%360*pt,D()):l*Ut},S.reflectX=function(k){return arguments.length?(p=k?-1:1,D()):p<0},S.reflectY=function(k){return arguments.length?(d=k?-1:1,D()):d<0},S.precision=function(k){return arguments.length?(_=Cp(M,v=k*k),P()):_t(v)},S.fitExtent=function(k,Y){return ua(S,k,Y)},S.fitSize=function(k,Y){return Lu(S,k,Y)},S.fitWidth=function(k,Y){return Pu(S,k,Y)},S.fitHeight=function(k,Y){return Yu(S,k,Y)};function D(){var k=xx(n,0,0,p,d,l).apply(null,e(i,a)),Y=xx(n,r-k[0],o-k[1],p,d,l);return s=sp(f,u,c),M=Ji(e,Y),C=Ji(s,M),_=Cp(M,v),P()}function P(){return E=$=null,S}return function(){return e=t.apply(this,arguments),S.invert=e.invert&&I,D()}}function Oo(t){var e=0,n=Q/3,r=Ep(t),o=r(e,n);return o.parallels=function(i){return arguments.length?r(e=i[0]*pt,n=i[1]*pt):[e*Ut,n*Ut]},o}function yx(t){var e=X(t);function n(r,o){return[r*e,B(o)/e]}return n.invert=function(r,o){return[r/e,$t(o*e)]},n}function bx(t,e){var n=B(t),r=(n+B(e))/2;if(rt(r)<H)return yx(t);var o=1+n*(2*r-n),i=_t(o)/r;function a(f,u){var c=_t(o-2*r*B(u))/r;return[c*B(f*=r),i-c*X(f)]}return a.invert=function(f,u){var c=i-u,s=te(f,rt(c))*oe(c);return c*r<0&&(s-=Q*oe(f)*oe(c)),[s/r,$t((o-(f*f+c*c)*r*r)/(2*r))]},a}function sr(){return Oo(bx).scale(155.424).center([0,33.6442])}function sa(){return sr().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function g5(t){var e=t.length;return{point:function(n,r){for(var o=-1;++o<e;)t[o].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function Ap(){var t,e,n=sa(),r,o=sr().rotate([154,0]).center([-2,58.5]).parallels([55,65]),i,a=sr().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f,u,c={point:function(p,d){u=[p,d]}};function s(p){var d=p[0],m=p[1];return u=null,r.point(d,m),u||(i.point(d,m),u)||(f.point(d,m),u)}s.invert=function(p){var d=n.scale(),m=n.translate(),h=(p[0]-m[0])/d,g=(p[1]-m[1])/d;return(g>=.12&&g<.234&&h>=-.425&&h<-.214?o:g>=.166&&g<.234&&h>=-.214&&h<-.115?a:n).invert(p)},s.stream=function(p){return t&&e===p?t:t=g5([n.stream(e=p),o.stream(p),a.stream(p)])},s.precision=function(p){return arguments.length?(n.precision(p),o.precision(p),a.precision(p),l()):n.precision()},s.scale=function(p){return arguments.length?(n.scale(p),o.scale(p*.35),a.scale(p),s.translate(n.translate())):n.scale()},s.translate=function(p){if(!arguments.length)return n.translate();var d=n.scale(),m=+p[0],h=+p[1];return r=n.translate(p).clipExtent([[m-.455*d,h-.238*d],[m+.455*d,h+.238*d]]).stream(c),i=o.translate([m-.307*d,h+.201*d]).clipExtent([[m-.425*d+H,h+.12*d+H],[m-.214*d-H,h+.234*d-H]]).stream(c),f=a.translate([m-.205*d,h+.212*d]).clipExtent([[m-.214*d+H,h+.166*d+H],[m-.115*d-H,h+.234*d-H]]).stream(c),l()},s.fitExtent=function(p,d){return ua(s,p,d)},s.fitSize=function(p,d){return Lu(s,p,d)},s.fitWidth=function(p,d){return Pu(s,p,d)},s.fitHeight=function(p,d){return Yu(s,p,d)};function l(){return t=e=null,s}return s.scale(1070)}function Ou(t){return function(e,n){var r=X(e),o=X(n),i=t(r*o);return i===1/0?[2,0]:[i*o*B(e),i*B(n)]}}function ln(t){return function(e,n){var r=_t(e*e+n*n),o=t(r),i=B(o),a=X(o);return[te(e*i,r*a),$t(r&&n*i/r)]}}var $p=Ou(function(t){return _t(2/(1+t))});$p.invert=ln(function(t){return 2*$t(t/2)});function Ip(){return ee($p).scale(124.75).clipAngle(180-.001)}var Np=Ou(function(t){return(t=_u(t))&&t/B(t)});Np.invert=ln(function(t){return t});function Dp(){return ee(Np).scale(79.4188).clipAngle(180-.001)}function Fo(t,e){return[t,Br(Ao((lt+e)/2))]}Fo.invert=function(t,e){return[t,2*Ie(yu(e))-lt]};function Rp(){return Lp(Fo).scale(961/Vt)}function Lp(t){var e=ee(t),n=e.center,r=e.scale,o=e.translate,i=e.clipExtent,a=null,f,u,c;e.scale=function(l){return arguments.length?(r(l),s()):r()},e.translate=function(l){return arguments.length?(o(l),s()):o()},e.center=function(l){return arguments.length?(n(l),s()):n()},e.clipExtent=function(l){return arguments.length?(l==null?a=f=u=c=null:(a=+l[0][0],f=+l[0][1],u=+l[1][0],c=+l[1][1]),s()):a==null?null:[[a,f],[u,c]]};function s(){var l=Q*r(),p=e(X1(e.rotate()).invert([0,0]));return i(a==null?[[p[0]-l,p[1]-l],[p[0]+l,p[1]+l]]:t===Fo?[[Math.max(p[0]-l,a),f],[Math.min(p[0]+l,u),c]]:[[a,Math.max(p[1]-l,f)],[u,Math.min(p[1]+l,c)]])}return s()}function Fu(t){return Ao((lt+t)/2)}function _x(t,e){var n=X(t),r=t===e?B(t):Br(n/X(e))/Br(Fu(e)/Fu(t)),o=n*bu(Fu(t),r)/r;if(!r)return Fo;function i(a,f){o>0?f<-lt+H&&(f=-lt+H):f>lt-H&&(f=lt-H);var u=o/bu(Fu(f),r);return[u*B(r*a),o-u*X(r*a)]}return i.invert=function(a,f){var u=o-f,c=oe(r)*_t(a*a+u*u),s=te(a,rt(u))*oe(u);return u*r<0&&(s-=Q*oe(a)*oe(u)),[s/r,2*Ie(bu(o/c,1/r))-lt]},i}function Pp(){return Oo(_x).scale(109.5).parallels([30,30])}function qo(t,e){return[t,e]}qo.invert=qo;function Yp(){return ee(qo).scale(152.63)}function vx(t,e){var n=X(t),r=t===e?B(t):(n-X(e))/(e-t),o=n/r+t;if(rt(r)<H)return qo;function i(a,f){var u=o-f,c=r*a;return[u*B(c),o-u*X(c)]}return i.invert=function(a,f){var u=o-f,c=te(a,rt(u))*oe(u);return u*r<0&&(c-=Q*oe(a)*oe(u)),[c/r,o-oe(r)*_t(a*a+u*u)]},i}function Op(){return Oo(vx).scale(131.154).center([0,13.9389])}var ca=1.340264,la=-.081106,pa=893e-6,da=.003796,qu=_t(3)/2,x5=12;function Fp(t,e){var n=$t(qu*B(e)),r=n*n,o=r*r*r;return[t*X(n)/(qu*(ca+3*la*r+o*(7*pa+9*da*r))),n*(ca+la*r+o*(pa+da*r))]}Fp.invert=function(t,e){for(var n=e,r=n*n,o=r*r*r,i=0,a,f,u;i<x5&&(f=n*(ca+la*r+o*(pa+da*r))-e,u=ca+3*la*r+o*(7*pa+9*da*r),n-=a=f/u,r=n*n,o=r*r*r,!(rt(a)<xu));++i);return[qu*t*(ca+3*la*r+o*(7*pa+9*da*r))/X(n),$t(B(n)/qu)]};function qp(){return ee(Fp).scale(177.158)}function zp(t,e){var n=X(e),r=X(t)*n;return[n*B(t)/r,B(e)/r]}zp.invert=ln(Ie);function Bp(){return ee(zp).scale(144.049).clipAngle(60)}function Up(t,e){return[X(e)*B(t),B(e)]}Up.invert=ln($t);function Xp(){return ee(Up).scale(249.5).clipAngle(90+H)}function Hp(t,e){var n=X(e),r=1+X(t)*n;return[n*B(t)/r,B(e)/r]}Hp.invert=ln(function(t){return 2*Ie(t)});function Wp(){return ee(Hp).scale(250).clipAngle(142)}function Gp(t,e){return[Br(Ao((lt+e)/2)),-t]}Gp.invert=function(t,e){return[-e,2*Ie(yu(t))-lt]};function Vp(){var t=Lp(Gp),e=t.center,n=t.rotate;return t.center=function(r){return arguments.length?e([-r[1],r[0]]):(r=e(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function Ft(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ma(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}var ha=Symbol("implicit");function Hr(){var t=new se,e=[],n=[],r=ha;function o(i){let a=t.get(i);if(a===void 0){if(r!==ha)return r;t.set(i,a=e.push(i)-1)}return n[a%n.length]}return o.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new se;for(let a of i)t.has(a)||t.set(a,e.push(a)-1);return o},o.range=function(i){return arguments.length?(n=Array.from(i),o):n.slice()},o.unknown=function(i){return arguments.length?(r=i,o):r},o.copy=function(){return Hr(e,n).unknown(r)},Ft.apply(o,arguments),o}function cr(){var t=Hr().unknown(void 0),e=t.domain,n=t.range,r=0,o=1,i,a,f=!1,u=0,c=0,s=.5;delete t.unknown;function l(){var p=e().length,d=o<r,m=d?o:r,h=d?r:o;i=(h-m)/Math.max(1,p-u+c*2),f&&(i=Math.floor(i)),m+=(h-m-i*(p-u))*s,a=i*(1-u),f&&(m=Math.round(m),a=Math.round(a));var g=An(p).map(function(b){return m+i*b});return n(d?g.reverse():g)}return t.domain=function(p){return arguments.length?(e(p),l()):e()},t.range=function(p){return arguments.length?([r,o]=p,r=+r,o=+o,l()):[r,o]},t.rangeRound=function(p){return[r,o]=p,r=+r,o=+o,f=!0,l()},t.bandwidth=function(){return a},t.step=function(){return i},t.round=function(p){return arguments.length?(f=!!p,l()):f},t.padding=function(p){return arguments.length?(u=Math.min(1,c=+p),l()):u},t.paddingInner=function(p){return arguments.length?(u=Math.min(1,p),l()):u},t.paddingOuter=function(p){return arguments.length?(c=+p,l()):c},t.align=function(p){return arguments.length?(s=Math.max(0,Math.min(1,p)),l()):s},t.copy=function(){return cr(e(),[r,o]).round(f).paddingInner(u).paddingOuter(c).align(s)},Ft.apply(l(),arguments)}function wx(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return wx(e())},t}function jp(){return wx(cr.apply(null,arguments).paddingInner(1))}function Zp(t){return function(){return t}}function zo(t){return+t}var Mx=[0,1];function he(t){return t}function Kp(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Zp(isNaN(e)?NaN:.5)}function y5(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function b5(t,e,n){var r=t[0],o=t[1],i=e[0],a=e[1];return o<r?(r=Kp(o,r),i=n(a,i)):(r=Kp(r,o),i=n(i,a)),function(f){return i(r(f))}}function _5(t,e,n){var r=Math.min(t.length,e.length)-1,o=new Array(r),i=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)o[a]=Kp(t[a],t[a+1]),i[a]=n(e[a],e[a+1]);return function(f){var u=En(t,f,1,r)-1;return i[u](o[u](f))}}function pn(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Wr(){var t=Mx,e=Mx,n=Xe,r,o,i,a=he,f,u,c;function s(){var p=Math.min(t.length,e.length);return a!==he&&(a=y5(t[0],t[p-1])),f=p>2?_5:b5,u=c=null,l}function l(p){return p==null||isNaN(p=+p)?i:(u||(u=f(t.map(r),e,n)))(r(a(p)))}return l.invert=function(p){return a(o((c||(c=f(e,t.map(r),wt)))(p)))},l.domain=function(p){return arguments.length?(t=Array.from(p,zo),s()):t.slice()},l.range=function(p){return arguments.length?(e=Array.from(p),s()):e.slice()},l.rangeRound=function(p){return e=Array.from(p),n=Or,s()},l.clamp=function(p){return arguments.length?(a=p?!0:he,s()):a!==he},l.interpolate=function(p){return arguments.length?(n=p,s()):n},l.unknown=function(p){return arguments.length?(i=p,l):i},function(p,d){return r=p,o=d,s()}}function ga(){return Wr()(he,he)}function Qp(t,e,n,r){var o=bo(t,e,n),i;switch(r=fn(r==null?",f":r),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(i=op(o,a))&&(r.precision=i),gu(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=ip(o,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=rp(o))&&(r.precision=i-(r.type==="%")*2);break}}return $e(r)}function Yn(t){var e=t.domain;return t.ticks=function(n){var r=e();return ze(r[0],r[r.length-1],n==null?10:n)},t.tickFormat=function(n,r){var o=e();return Qp(o[0],o[o.length-1],n==null?10:n,r)},t.nice=function(n){n==null&&(n=10);var r=e(),o=0,i=r.length-1,a=r[o],f=r[i],u,c,s=10;for(f<a&&(c=a,a=f,f=c,c=o,o=i,i=c);s-- >0;){if(c=Ir(a,f,n),c===u)return r[o]=a,r[i]=f,e(r);if(c>0)a=Math.floor(a/c)*c,f=Math.ceil(f/c)*c;else if(c<0)a=Math.ceil(a*c)/c,f=Math.floor(f*c)/c;else break;u=c}return t},t}function Gr(){var t=ga();return t.copy=function(){return pn(t,Gr())},Ft.apply(t,arguments),Yn(t)}function xa(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,zo),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return xa(t).unknown(e)},t=arguments.length?Array.from(t,zo):[0,1],Yn(n)}function ya(t,e){t=t.slice();var n=0,r=t.length-1,o=t[n],i=t[r],a;return i<o&&(a=n,n=r,r=a,a=o,o=i,i=a),t[n]=e.floor(o),t[r]=e.ceil(i),t}function Sx(t){return Math.log(t)}function kx(t){return Math.exp(t)}function v5(t){return-Math.log(-t)}function w5(t){return-Math.exp(-t)}function M5(t){return isFinite(t)?+("1e"+t):t<0?0:t}function S5(t){return t===10?M5:t===Math.E?Math.exp:e=>Math.pow(t,e)}function k5(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Tx(t){return(e,n)=>-t(-e,n)}function Jp(t){let e=t(Sx,kx),n=e.domain,r=10,o,i;function a(){return o=k5(r),i=S5(r),n()[0]<0?(o=Tx(o),i=Tx(i),t(v5,w5)):t(Sx,kx),e}return e.base=function(f){return arguments.length?(r=+f,a()):r},e.domain=function(f){return arguments.length?(n(f),a()):n()},e.ticks=f=>{let u=n(),c=u[0],s=u[u.length-1],l=s<c;l&&([c,s]=[s,c]);let p=o(c),d=o(s),m,h,g=f==null?10:+f,b=[];if(!(r%1)&&d-p<g){if(p=Math.floor(p),d=Math.ceil(d),c>0){for(;p<=d;++p)for(m=1;m<r;++m)if(h=p<0?m/i(-p):m*i(p),!(h<c)){if(h>s)break;b.push(h)}}else for(;p<=d;++p)for(m=r-1;m>=1;--m)if(h=p>0?m/i(-p):m*i(p),!(h<c)){if(h>s)break;b.push(h)}b.length*2<g&&(b=ze(c,s,g))}else b=ze(p,d,Math.min(d-p,g)).map(i);return l?b.reverse():b},e.tickFormat=(f,u)=>{if(f==null&&(f=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=fn(u)).precision==null&&(u.trim=!0),u=$e(u)),f===1/0)return u;let c=Math.max(1,r*f/e.ticks().length);return s=>{let l=s/i(Math.round(o(s)));return l*r<r-.5&&(l*=r),l<=c?u(s):""}},e.nice=()=>n(ya(n(),{floor:f=>i(Math.floor(o(f))),ceil:f=>i(Math.ceil(o(f)))})),e}function ba(){let t=Jp(Wr()).domain([1,10]);return t.copy=()=>pn(t,ba()).base(t.base()),Ft.apply(t,arguments),t}function Cx(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Ex(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function td(t){var e=1,n=t(Cx(e),Ex(e));return n.constant=function(r){return arguments.length?t(Cx(e=+r),Ex(e)):e},Yn(n)}function _a(){var t=td(Wr());return t.copy=function(){return pn(t,_a()).constant(t.constant())},Ft.apply(t,arguments)}function Ax(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function T5(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function C5(t){return t<0?-t*t:t*t}function ed(t){var e=t(he,he),n=1;function r(){return n===1?t(he,he):n===.5?t(T5,C5):t(Ax(n),Ax(1/n))}return e.exponent=function(o){return arguments.length?(n=+o,r()):n},Yn(e)}function va(){var t=ed(Wr());return t.copy=function(){return pn(t,va()).exponent(t.exponent())},Ft.apply(t,arguments),t}function wa(){var t=[],e=[],n=[],r;function o(){var a=0,f=Math.max(1,e.length);for(n=new Array(f-1);++a<f;)n[a-1]=wl(t,a/f);return i}function i(a){return a==null||isNaN(a=+a)?r:e[En(n,a)]}return i.invertExtent=function(a){var f=e.indexOf(a);return f<0?[NaN,NaN]:[f>0?n[f-1]:t[0],f<n.length?n[f]:t[t.length-1]]},i.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let f of a)f!=null&&!isNaN(f=+f)&&t.push(f);return t.sort(Tt),o()},i.range=function(a){return arguments.length?(e=Array.from(a),o()):e.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.quantiles=function(){return n.slice()},i.copy=function(){return wa().domain(t).range(e).unknown(r)},Ft.apply(i,arguments)}function Ma(){var t=[.5],e=[0,1],n,r=1;function o(i){return i!=null&&i<=i?e[En(t,i,0,r)]:n}return o.domain=function(i){return arguments.length?(t=Array.from(i),r=Math.min(t.length,e.length-1),o):t.slice()},o.range=function(i){return arguments.length?(e=Array.from(i),r=Math.min(t.length,e.length-1),o):e.slice()},o.invertExtent=function(i){var a=e.indexOf(i);return[t[a-1],t[a]]},o.unknown=function(i){return arguments.length?(n=i,o):n},o.copy=function(){return Ma().domain(t).range(e).unknown(n)},Ft.apply(o,arguments)}var nd=new Date,rd=new Date;function gt(t,e,n,r){function o(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return o.floor=i=>(t(i=new Date(+i)),i),o.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),o.round=i=>{let a=o(i),f=o.ceil(i);return i-a<f-i?a:f},o.offset=(i,a)=>(e(i=new Date(+i),a==null?1:Math.floor(a)),i),o.range=(i,a,f)=>{let u=[];if(i=o.ceil(i),f=f==null?1:Math.floor(f),!(i<a)||!(f>0))return u;let c;do u.push(c=new Date(+i)),e(i,f),t(i);while(c<i&&i<a);return u},o.filter=i=>gt(a=>{if(a>=a)for(;t(a),!i(a);)a.setTime(a-1)},(a,f)=>{if(a>=a)if(f<0)for(;++f<=0;)for(;e(a,-1),!i(a););else for(;--f>=0;)for(;e(a,1),!i(a););}),n&&(o.count=(i,a)=>(nd.setTime(+i),rd.setTime(+a),t(nd),t(rd),Math.floor(n(nd,rd))),o.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?o.filter(r?a=>r(a)%i===0:a=>o.count(0,a)%i===0):o)),o}var Sa=gt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Sa.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?gt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Sa);var qL=Sa.range;var Zt=gt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*1e3)},(t,e)=>(e-t)/1e3,t=>t.getUTCSeconds()),$x=Zt.range;var On=gt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*1e3)},(t,e)=>{t.setTime(+t+e*6e4)},(t,e)=>(e-t)/6e4,t=>t.getMinutes()),E5=On.range,Fn=gt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*6e4)},(t,e)=>(e-t)/6e4,t=>t.getUTCMinutes()),A5=Fn.range;var qn=gt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*1e3-t.getMinutes()*6e4)},(t,e)=>{t.setTime(+t+e*36e5)},(t,e)=>(e-t)/36e5,t=>t.getHours()),$5=qn.range,zn=gt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*36e5)},(t,e)=>(e-t)/36e5,t=>t.getUTCHours()),I5=zn.range;var Ne=gt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/864e5,t=>t.getDate()-1),N5=Ne.range,Zr=gt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/864e5,t=>t.getUTCDate()-1),D5=Zr.range,Kr=gt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/864e5,t=>Math.floor(t/864e5)),R5=Kr.range;function Qr(t){return gt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/6048e5)}var _e=Qr(0),lr=Qr(1),zu=Qr(2),Bu=Qr(3),mn=Qr(4),Uu=Qr(5),Xu=Qr(6),Nx=_e.range,L5=lr.range,P5=zu.range,Y5=Bu.range,O5=mn.range,F5=Uu.range,q5=Xu.range;function Jr(t){return gt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/6048e5)}var ve=Jr(0),pr=Jr(1),Hu=Jr(2),Wu=Jr(3),hn=Jr(4),Gu=Jr(5),Vu=Jr(6),Dx=ve.range,z5=pr.range,B5=Hu.range,U5=Wu.range,X5=hn.range,H5=Gu.range,W5=Vu.range;var Bn=gt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth()),G5=Bn.range,Un=gt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth()),V5=Un.range;var ie=gt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ie.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:gt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});var j5=ie.range,ae=gt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ae.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:gt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});var Z5=ae.range;function Lx(t,e,n,r,o,i){let a=[[Zt,1,1e3],[Zt,5,5*1e3],[Zt,15,15*1e3],[Zt,30,30*1e3],[i,1,6e4],[i,5,5*6e4],[i,15,15*6e4],[i,30,30*6e4],[o,1,36e5],[o,3,3*36e5],[o,6,6*36e5],[o,12,12*36e5],[r,1,864e5],[r,2,2*864e5],[n,1,6048e5],[e,1,2592e6],[e,3,3*2592e6],[t,1,31536e6]];function f(c,s,l){let p=s<c;p&&([c,s]=[s,c]);let d=l&&typeof l.range=="function"?l:u(c,s,l),m=d?d.range(c,+s+1):[];return p?m.reverse():m}function u(c,s,l){let p=Math.abs(s-c)/l,d=Cn(([,,g])=>g).right(a,p);if(d===a.length)return t.every(bo(c/31536e6,s/31536e6,l));if(d===0)return Sa.every(Math.max(bo(c,s,l),1));let[m,h]=a[p/a[d-1][2]<a[d][2]/p?d-1:d];return m.every(h)}return[f,u]}var[od,Ta]=Lx(ae,Un,ve,Kr,zn,Fn),[id,ad]=Lx(ie,Bn,_e,Ne,qn,On);function fd(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ud(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ca(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function sd(t){var e=t.dateTime,n=t.date,r=t.time,o=t.periods,i=t.days,a=t.shortDays,f=t.months,u=t.shortMonths,c=Ea(o),s=Aa(o),l=Ea(i),p=Aa(i),d=Ea(a),m=Aa(a),h=Ea(f),g=Aa(f),b=Ea(u),x=Aa(u),w={a:tt,A:K,b:J,B:vt,c:null,d:zx,e:zx,f:_3,g:$3,G:N3,H:x3,I:y3,j:b3,L:Wx,m:v3,M:w3,p:at,q:N,Q:Xx,s:Hx,S:M3,u:S3,U:k3,V:T3,w:C3,W:E3,x:null,X:null,y:A3,Y:I3,Z:D3,"%":Ux},y={a:F,A:Z,b:G,B:V,c:null,d:Bx,e:Bx,f:Y3,g:G3,G:j3,H:R3,I:L3,j:P3,L:Vx,m:O3,M:F3,p:O,q,Q:Xx,s:Hx,S:q3,u:z3,U:B3,V:U3,w:X3,W:H3,x:null,X:null,y:W3,Y:V3,Z:Z3,"%":Ux},v={a:$,A:S,b:I,B:D,c:P,d:Fx,e:Fx,f:d3,g:Ox,G:Yx,H:qx,I:qx,j:s3,L:p3,m:u3,M:c3,p:E,q:f3,Q:h3,s:g3,S:l3,u:n3,U:r3,V:o3,w:e3,W:i3,x:k,X:Y,y:Ox,Y:Yx,Z:a3,"%":m3};w.x=_(n,w),w.X=_(r,w),w.c=_(e,w),y.x=_(n,y),y.X=_(r,y),y.c=_(e,y);function _(A,L){return function(U){var T=[],ct=-1,j=0,ft=A.length,kt,Wt,Tr;for(U instanceof Date||(U=new Date(+U));++ct<ft;)A.charCodeAt(ct)===37&&(T.push(A.slice(j,ct)),(Wt=Px[kt=A.charAt(++ct)])!=null?kt=A.charAt(++ct):Wt=kt==="e"?" ":"0",(Tr=L[kt])&&(kt=Tr(U,Wt)),T.push(kt),j=ct+1);return T.push(A.slice(j,ct)),T.join("")}}function M(A,L){return function(U){var T=Ca(1900,void 0,1),ct=C(T,A,U+="",0),j,ft;if(ct!=U.length)return null;if("Q"in T)return new Date(T.Q);if("s"in T)return new Date(T.s*1e3+("L"in T?T.L:0));if(L&&!("Z"in T)&&(T.Z=0),"p"in T&&(T.H=T.H%12+T.p*12),T.m===void 0&&(T.m="q"in T?T.q:0),"V"in T){if(T.V<1||T.V>53)return null;"w"in T||(T.w=1),"Z"in T?(j=ud(Ca(T.y,0,1)),ft=j.getUTCDay(),j=ft>4||ft===0?pr.ceil(j):pr(j),j=Zr.offset(j,(T.V-1)*7),T.y=j.getUTCFullYear(),T.m=j.getUTCMonth(),T.d=j.getUTCDate()+(T.w+6)%7):(j=fd(Ca(T.y,0,1)),ft=j.getDay(),j=ft>4||ft===0?lr.ceil(j):lr(j),j=Ne.offset(j,(T.V-1)*7),T.y=j.getFullYear(),T.m=j.getMonth(),T.d=j.getDate()+(T.w+6)%7)}else("W"in T||"U"in T)&&("w"in T||(T.w="u"in T?T.u%7:"W"in T?1:0),ft="Z"in T?ud(Ca(T.y,0,1)).getUTCDay():fd(Ca(T.y,0,1)).getDay(),T.m=0,T.d="W"in T?(T.w+6)%7+T.W*7-(ft+5)%7:T.w+T.U*7-(ft+6)%7);return"Z"in T?(T.H+=T.Z/100|0,T.M+=T.Z%100,ud(T)):fd(T)}}function C(A,L,U,T){for(var ct=0,j=L.length,ft=U.length,kt,Wt;ct<j;){if(T>=ft)return-1;if(kt=L.charCodeAt(ct++),kt===37){if(kt=L.charAt(ct++),Wt=v[kt in Px?L.charAt(ct++):kt],!Wt||(T=Wt(A,U,T))<0)return-1}else if(kt!=U.charCodeAt(T++))return-1}return T}function E(A,L,U){var T=c.exec(L.slice(U));return T?(A.p=s.get(T[0].toLowerCase()),U+T[0].length):-1}function $(A,L,U){var T=d.exec(L.slice(U));return T?(A.w=m.get(T[0].toLowerCase()),U+T[0].length):-1}function S(A,L,U){var T=l.exec(L.slice(U));return T?(A.w=p.get(T[0].toLowerCase()),U+T[0].length):-1}function I(A,L,U){var T=b.exec(L.slice(U));return T?(A.m=x.get(T[0].toLowerCase()),U+T[0].length):-1}function D(A,L,U){var T=h.exec(L.slice(U));return T?(A.m=g.get(T[0].toLowerCase()),U+T[0].length):-1}function P(A,L,U){return C(A,e,L,U)}function k(A,L,U){return C(A,n,L,U)}function Y(A,L,U){return C(A,r,L,U)}function tt(A){return a[A.getDay()]}function K(A){return i[A.getDay()]}function J(A){return u[A.getMonth()]}function vt(A){return f[A.getMonth()]}function at(A){return o[+(A.getHours()>=12)]}function N(A){return 1+~~(A.getMonth()/3)}function F(A){return a[A.getUTCDay()]}function Z(A){return i[A.getUTCDay()]}function G(A){return u[A.getUTCMonth()]}function V(A){return f[A.getUTCMonth()]}function O(A){return o[+(A.getUTCHours()>=12)]}function q(A){return 1+~~(A.getUTCMonth()/3)}return{format:function(A){var L=_(A+="",w);return L.toString=function(){return A},L},parse:function(A){var L=M(A+="",!1);return L.toString=function(){return A},L},utcFormat:function(A){var L=_(A+="",y);return L.toString=function(){return A},L},utcParse:function(A){var L=M(A+="",!0);return L.toString=function(){return A},L}}}var Px={"-":"",_:" ",0:"0"},Kt=/^\s*\d+/,Q5=/^%/,J5=/[\\^$*+?|[\]().{}]/g;function ut(t,e,n){var r=t<0?"-":"",o=(r?-t:t)+"",i=o.length;return r+(i<n?new Array(n-i+1).join(e)+o:o)}function t3(t){return t.replace(J5,"\\$&")}function Ea(t){return new RegExp("^(?:"+t.map(t3).join("|")+")","i")}function Aa(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function e3(t,e,n){var r=Kt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function n3(t,e,n){var r=Kt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function r3(t,e,n){var r=Kt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function o3(t,e,n){var r=Kt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function i3(t,e,n){var r=Kt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Yx(t,e,n){var r=Kt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Ox(t,e,n){var r=Kt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function a3(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function f3(t,e,n){var r=Kt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function u3(t,e,n){var r=Kt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Fx(t,e,n){var r=Kt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function s3(t,e,n){var r=Kt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function qx(t,e,n){var r=Kt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function c3(t,e,n){var r=Kt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function l3(t,e,n){var r=Kt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function p3(t,e,n){var r=Kt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function d3(t,e,n){var r=Kt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function m3(t,e,n){var r=Q5.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function h3(t,e,n){var r=Kt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function g3(t,e,n){var r=Kt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function zx(t,e){return ut(t.getDate(),e,2)}function x3(t,e){return ut(t.getHours(),e,2)}function y3(t,e){return ut(t.getHours()%12||12,e,2)}function b3(t,e){return ut(1+Ne.count(ie(t),t),e,3)}function Wx(t,e){return ut(t.getMilliseconds(),e,3)}function _3(t,e){return Wx(t,e)+"000"}function v3(t,e){return ut(t.getMonth()+1,e,2)}function w3(t,e){return ut(t.getMinutes(),e,2)}function M3(t,e){return ut(t.getSeconds(),e,2)}function S3(t){var e=t.getDay();return e===0?7:e}function k3(t,e){return ut(_e.count(ie(t)-1,t),e,2)}function Gx(t){var e=t.getDay();return e>=4||e===0?mn(t):mn.ceil(t)}function T3(t,e){return t=Gx(t),ut(mn.count(ie(t),t)+(ie(t).getDay()===4),e,2)}function C3(t){return t.getDay()}function E3(t,e){return ut(lr.count(ie(t)-1,t),e,2)}function A3(t,e){return ut(t.getFullYear()%100,e,2)}function $3(t,e){return t=Gx(t),ut(t.getFullYear()%100,e,2)}function I3(t,e){return ut(t.getFullYear()%1e4,e,4)}function N3(t,e){var n=t.getDay();return t=n>=4||n===0?mn(t):mn.ceil(t),ut(t.getFullYear()%1e4,e,4)}function D3(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ut(e/60|0,"0",2)+ut(e%60,"0",2)}function Bx(t,e){return ut(t.getUTCDate(),e,2)}function R3(t,e){return ut(t.getUTCHours(),e,2)}function L3(t,e){return ut(t.getUTCHours()%12||12,e,2)}function P3(t,e){return ut(1+Zr.count(ae(t),t),e,3)}function Vx(t,e){return ut(t.getUTCMilliseconds(),e,3)}function Y3(t,e){return Vx(t,e)+"000"}function O3(t,e){return ut(t.getUTCMonth()+1,e,2)}function F3(t,e){return ut(t.getUTCMinutes(),e,2)}function q3(t,e){return ut(t.getUTCSeconds(),e,2)}function z3(t){var e=t.getUTCDay();return e===0?7:e}function B3(t,e){return ut(ve.count(ae(t)-1,t),e,2)}function jx(t){var e=t.getUTCDay();return e>=4||e===0?hn(t):hn.ceil(t)}function U3(t,e){return t=jx(t),ut(hn.count(ae(t),t)+(ae(t).getUTCDay()===4),e,2)}function X3(t){return t.getUTCDay()}function H3(t,e){return ut(pr.count(ae(t)-1,t),e,2)}function W3(t,e){return ut(t.getUTCFullYear()%100,e,2)}function G3(t,e){return t=jx(t),ut(t.getUTCFullYear()%100,e,2)}function V3(t,e){return ut(t.getUTCFullYear()%1e4,e,4)}function j3(t,e){var n=t.getUTCDay();return t=n>=4||n===0?hn(t):hn.ceil(t),ut(t.getUTCFullYear()%1e4,e,4)}function Z3(){return"+0000"}function Ux(){return"%"}function Xx(t){return+t}function Hx(t){return Math.floor(+t/1e3)}var Bo,Uo,Zx,gn,Kx;cd({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function cd(t){return Bo=sd(t),Uo=Bo.format,Zx=Bo.parse,gn=Bo.utcFormat,Kx=Bo.utcParse,Bo}function K3(t){return new Date(t)}function Q3(t){return t instanceof Date?+t:+new Date(+t)}function ju(t,e,n,r,o,i,a,f,u,c){var s=ga(),l=s.invert,p=s.domain,d=c(".%L"),m=c(":%S"),h=c("%I:%M"),g=c("%I %p"),b=c("%a %d"),x=c("%b %d"),w=c("%B"),y=c("%Y");function v(_){return(u(_)<_?d:f(_)<_?m:a(_)<_?h:i(_)<_?g:r(_)<_?o(_)<_?b:x:n(_)<_?w:y)(_)}return s.invert=function(_){return new Date(l(_))},s.domain=function(_){return arguments.length?p(Array.from(_,Q3)):p().map(K3)},s.ticks=function(_){var M=p();return t(M[0],M[M.length-1],_==null?10:_)},s.tickFormat=function(_,M){return M==null?v:c(M)},s.nice=function(_){var M=p();return(!_||typeof _.range!="function")&&(_=e(M[0],M[M.length-1],_==null?10:_)),_?p(ya(M,_)):s},s.copy=function(){return pn(s,ju(t,e,n,r,o,i,a,f,u,c))},s}function Zu(){return Ft.apply(ju(id,ad,ie,Bn,_e,Ne,qn,On,Zt,Uo).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Ku(){return Ft.apply(ju(od,Ta,ae,Un,ve,Zr,zn,Fn,Zt,gn).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function $a(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Qu(){var t=0,e=.5,n=1,r=1,o,i,a,f,u,c=he,s,l=!1,p;function d(h){return isNaN(h=+h)?p:(h=.5+((h=+s(h))-i)*(r*h<r*i?f:u),c(l?Math.max(0,Math.min(1,h)):h))}d.domain=function(h){return arguments.length?([t,e,n]=h,o=s(t=+t),i=s(e=+e),a=s(n=+n),f=o===i?0:.5/(i-o),u=i===a?0:.5/(a-i),r=i<o?-1:1,d):[t,e,n]},d.clamp=function(h){return arguments.length?(l=!!h,d):l},d.interpolator=function(h){return arguments.length?(c=h,d):c};function m(h){return function(g){var b,x,w;return arguments.length?([b,x,w]=g,c=on(h,[b,x,w]),d):[c(0),c(.5),c(1)]}}return d.range=m(Xe),d.rangeRound=m(Or),d.unknown=function(h){return arguments.length?(p=h,d):p},function(h){return s=h,o=h(t),i=h(e),a=h(n),f=o===i?0:.5/(i-o),u=i===a?0:.5/(a-i),r=i<o?-1:1,d}}function Ia(){var t=Yn(Qu()(he));return t.copy=function(){return $a(t,Ia())},ma.apply(t,arguments)}function Ju(){var t=Jp(Qu()).domain([.1,1,10]);return t.copy=function(){return $a(t,Ju()).base(t.base())},ma.apply(t,arguments)}function ts(){var t=td(Qu());return t.copy=function(){return $a(t,ts()).constant(t.constant())},ma.apply(t,arguments)}function es(){var t=ed(Qu());return t.copy=function(){return $a(t,es()).exponent(t.exponent())},ma.apply(t,arguments)}function R(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}var ld=R("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");var pd=R("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666");var dd=R("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666");var md=R("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");var hd=R("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2");var gd=R("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc");var xd=R("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999");var yd=R("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3");var bd=R("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");var _d=R("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");var W=t=>ql(t[t.length-1]);var ns=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(R),rs=W(ns);var os=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(R),is=W(os);var as=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(R),fs=W(as);var us=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(R),ss=W(us);var Na=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(R),Xo=W(Na);var cs=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(R),ls=W(cs);var Da=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(R),Ho=W(Da);var ps=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(R),ds=W(ps);var ms=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(R),hs=W(ms);var gs=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(R),xs=W(gs);var ys=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(R),bs=W(ys);var _s=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(R),vs=W(_s);var ws=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(R),Ms=W(ws);var Ss=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(R),ks=W(Ss);var Ts=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(R),Cs=W(Ts);var Es=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(R),As=W(Es);var $s=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(R),Is=W($s);var Ns=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(R),Ds=W(Ns);var Rs=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(R),Ls=W(Rs);var Ps=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(R),Ys=W(Ps);var Os=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(R),Fs=W(Os);var qs=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(R),zs=W(qs);var Bs=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(R),Us=W(Bs);var Xs=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(R),Hs=W(Xs);var Ws=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(R),Gs=W(Ws);var Vs=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(R),js=W(Vs);var Zs=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(R),Ks=W(Zs);function Qs(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}var Js=To(pe(300,.5,0),pe(-240,.5,1));var ec=To(pe(-100,.75,.35),pe(80,1.5,.8)),nc=To(pe(260,.75,.35),pe(80,1.5,.8)),tc=pe();function rc(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return tc.h=360*t-100,tc.s=1.5-1.5*e,tc.l=.8-.9*e,tc+""}var oc=Ee(),J3=Math.PI/3,t8=Math.PI*2/3;function ic(t){var e;return t=(.5-t)*Math.PI,oc.r=255*(e=Math.sin(t))*e,oc.g=255*(e=Math.sin(t+J3))*e,oc.b=255*(e=Math.sin(t+t8))*e,oc+""}function ac(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function fc(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}var uc=fc(R("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),sc=fc(R("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),cc=fc(R("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),lc=fc(R("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function qt(t){return function(){return t}}var vd=Math.cos;var Wo=Math.min,Ra=Math.sin,st=Math.sqrt,wd=1e-12,to=Math.PI,uq=to/2,Go=2*to;function pc(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{let r=Math.floor(n);if(!(r>=0))throw new RangeError("invalid digits: ".concat(n));e=r}return t},()=>new fr(e)}var pq=Array.prototype.slice;function dc(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Qx(t){this._context=t}Qx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Xn(t){return new Qx(t)}function mc(t){return t[0]}function hc(t){return t[1]}function La(t,e){var n=qt(!0),r=null,o=Xn,i=null,a=pc(f);t=typeof t=="function"?t:t===void 0?mc:qt(t),e=typeof e=="function"?e:e===void 0?hc:qt(e);function f(u){var c,s=(u=dc(u)).length,l,p=!1,d;for(r==null&&(i=o(d=a())),c=0;c<=s;++c)!(c<s&&n(l=u[c],c,u))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+t(l,c,u),+e(l,c,u));if(d)return i=null,d+""||null}return f.x=function(u){return arguments.length?(t=typeof u=="function"?u:qt(+u),f):t},f.y=function(u){return arguments.length?(e=typeof u=="function"?u:qt(+u),f):e},f.defined=function(u){return arguments.length?(n=typeof u=="function"?u:qt(!!u),f):n},f.curve=function(u){return arguments.length?(o=u,r!=null&&(i=o(r)),f):o},f.context=function(u){return arguments.length?(u==null?r=i=null:i=o(r=u),f):r},f}function Pa(t,e,n){var r=null,o=qt(!0),i=null,a=Xn,f=null,u=pc(c);t=typeof t=="function"?t:t===void 0?mc:qt(+t),e=typeof e=="function"?e:e===void 0?qt(0):qt(+e),n=typeof n=="function"?n:n===void 0?hc:qt(+n);function c(l){var p,d,m,h=(l=dc(l)).length,g,b=!1,x,w=new Array(h),y=new Array(h);for(i==null&&(f=a(x=u())),p=0;p<=h;++p){if(!(p<h&&o(g=l[p],p,l))===b)if(b=!b)d=p,f.areaStart(),f.lineStart();else{for(f.lineEnd(),f.lineStart(),m=p-1;m>=d;--m)f.point(w[m],y[m]);f.lineEnd(),f.areaEnd()}b&&(w[p]=+t(g,p,l),y[p]=+e(g,p,l),f.point(r?+r(g,p,l):w[p],n?+n(g,p,l):y[p]))}if(x)return f=null,x+""||null}function s(){return La().defined(o).curve(a).context(i)}return c.x=function(l){return arguments.length?(t=typeof l=="function"?l:qt(+l),r=null,c):t},c.x0=function(l){return arguments.length?(t=typeof l=="function"?l:qt(+l),c):t},c.x1=function(l){return arguments.length?(r=l==null?null:typeof l=="function"?l:qt(+l),c):r},c.y=function(l){return arguments.length?(e=typeof l=="function"?l:qt(+l),n=null,c):e},c.y0=function(l){return arguments.length?(e=typeof l=="function"?l:qt(+l),c):e},c.y1=function(l){return arguments.length?(n=l==null?null:typeof l=="function"?l:qt(+l),c):n},c.lineX0=c.lineY0=function(){return s().x(t).y(e)},c.lineY1=function(){return s().x(t).y(n)},c.lineX1=function(){return s().x(r).y(e)},c.defined=function(l){return arguments.length?(o=typeof l=="function"?l:qt(!!l),c):o},c.curve=function(l){return arguments.length?(a=l,i!=null&&(f=a(i)),c):a},c.context=function(l){return arguments.length?(l==null?i=f=null:f=a(i=l),c):i},c}var gc=class{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}};function Md(t){return new gc(t,!0)}function Sd(t){return new gc(t,!1)}var e8=st(3),Ya={draw(t,e){let n=st(e+Wo(e/28,.75))*.59436,r=n/2,o=r*e8;t.moveTo(0,n),t.lineTo(0,-n),t.moveTo(-o,-r),t.lineTo(o,r),t.moveTo(-o,r),t.lineTo(o,-r)}};var Hn={draw(t,e){let n=st(e/to);t.moveTo(n,0),t.arc(0,0,n,0,Go)}};var Oa={draw(t,e){let n=st(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}};var Jx=st(1/3),n8=Jx*2,Fa={draw(t,e){let n=st(e/n8),r=n*Jx;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}};var qa={draw(t,e){let n=st(e)*.62625;t.moveTo(0,-n),t.lineTo(n,0),t.lineTo(0,n),t.lineTo(-n,0),t.closePath()}};var za={draw(t,e){let n=st(e-Wo(e/7,2))*.87559;t.moveTo(-n,0),t.lineTo(n,0),t.moveTo(0,n),t.lineTo(0,-n)}};var Ba={draw(t,e){let n=st(e),r=-n/2;t.rect(r,r,n,n)}};var Ua={draw(t,e){let n=st(e)*.4431;t.moveTo(n,n),t.lineTo(n,-n),t.lineTo(-n,-n),t.lineTo(-n,n),t.closePath()}};var r8=.8908130915292852,ty=Ra(to/10)/Ra(7*to/10),o8=Ra(Go/10)*ty,i8=-vd(Go/10)*ty,Xa={draw(t,e){let n=st(e*r8),r=o8*n,o=i8*n;t.moveTo(0,-n),t.lineTo(r,o);for(let i=1;i<5;++i){let a=Go*i/5,f=vd(a),u=Ra(a);t.lineTo(u*n,-f*n),t.lineTo(f*r-u*o,u*r+f*o)}t.closePath()}};var kd=st(3),Ha={draw(t,e){let n=-st(e/(kd*3));t.moveTo(0,n*2),t.lineTo(-kd*n,-n),t.lineTo(kd*n,-n),t.closePath()}};var a8=st(3),Wa={draw(t,e){let n=st(e)*.6824,r=n/2,o=n*a8/2;t.moveTo(0,-n),t.lineTo(o,r),t.lineTo(-o,r),t.closePath()}};var De=-.5,Re=st(3)/2,Td=1/st(12),f8=(Td/2+1)*3,Ga={draw(t,e){let n=st(e/f8),r=n/2,o=n*Td,i=r,a=n*Td+n,f=-i,u=a;t.moveTo(r,o),t.lineTo(i,a),t.lineTo(f,u),t.lineTo(De*r-Re*o,Re*r+De*o),t.lineTo(De*i-Re*a,Re*i+De*a),t.lineTo(De*f-Re*u,Re*f+De*u),t.lineTo(De*r+Re*o,De*o-Re*r),t.lineTo(De*i+Re*a,De*a-Re*i),t.lineTo(De*f+Re*u,De*u-Re*f),t.closePath()}};var Vo={draw(t,e){let n=st(e-Wo(e/6,1.7))*.6189;t.moveTo(-n,-n),t.lineTo(n,n),t.moveTo(-n,n),t.lineTo(n,-n)}};var xc=[Hn,Oa,Fa,Ba,Xa,Ha,Ga],Cd=[Hn,za,Vo,Wa,Ya,Ua,qa];function Le(){}function jo(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Va(t){this._context=t}Va.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:jo(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:jo(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Ed(t){return new Va(t)}function ey(t){this._context=t}ey.prototype={areaStart:Le,areaEnd:Le,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:jo(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Ad(t){return new ey(t)}function ny(t){this._context=t}ny.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:jo(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function $d(t){return new ny(t)}function ry(t,e){this._basis=new Va(t),this._beta=e}ry.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r=t[0],o=e[0],i=t[n]-r,a=e[n]-o,f=-1,u;++f<=n;)u=f/n,this._basis.point(this._beta*t[f]+(1-this._beta)*(r+u*i),this._beta*e[f]+(1-this._beta)*(o+u*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var Id=function t(e){function n(r){return e===1?new Va(r):new ry(r,e)}return n.beta=function(r){return t(+r)},n}(.85);function Zo(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function yc(t,e){this._context=t,this._k=(1-e)/6}yc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Zo(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Zo(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Nd=function t(e){function n(r){return new yc(r,e)}return n.tension=function(r){return t(+r)},n}(0);function bc(t,e){this._context=t,this._k=(1-e)/6}bc.prototype={areaStart:Le,areaEnd:Le,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Zo(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Dd=function t(e){function n(r){return new bc(r,e)}return n.tension=function(r){return t(+r)},n}(0);function _c(t,e){this._context=t,this._k=(1-e)/6}_c.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Zo(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Rd=function t(e){function n(r){return new _c(r,e)}return n.tension=function(r){return t(+r)},n}(0);function ja(t,e,n){var r=t._x1,o=t._y1,i=t._x2,a=t._y2;if(t._l01_a>wd){var f=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*f-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,o=(o*f-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>wd){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,s=3*t._l23_a*(t._l23_a+t._l12_a);i=(i*c+t._x1*t._l23_2a-e*t._l12_2a)/s,a=(a*c+t._y1*t._l23_2a-n*t._l12_2a)/s}t._context.bezierCurveTo(r,o,i,a,t._x2,t._y2)}function oy(t,e){this._context=t,this._alpha=e}oy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:ja(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Ld=function t(e){function n(r){return e?new oy(r,e):new yc(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function iy(t,e){this._context=t,this._alpha=e}iy.prototype={areaStart:Le,areaEnd:Le,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:ja(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Pd=function t(e){function n(r){return e?new iy(r,e):new bc(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function ay(t,e){this._context=t,this._alpha=e}ay.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ja(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Yd=function t(e){function n(r){return e?new ay(r,e):new _c(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function fy(t){this._context=t}fy.prototype={areaStart:Le,areaEnd:Le,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Od(t){return new fy(t)}function uy(t){return t<0?-1:1}function sy(t,e,n){var r=t._x1-t._x0,o=e-t._x1,i=(t._y1-t._y0)/(r||o<0&&-0),a=(n-t._y1)/(o||r<0&&-0),f=(i*o+a*r)/(r+o);return(uy(i)+uy(a))*Math.min(Math.abs(i),Math.abs(a),.5*Math.abs(f))||0}function cy(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Fd(t,e,n){var r=t._x0,o=t._y0,i=t._x1,a=t._y1,f=(i-r)/3;t._context.bezierCurveTo(r+f,o+f*e,i-f,a-f*n,i,a)}function vc(t){this._context=t}vc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Fd(this,this._t0,cy(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Fd(this,cy(this,n=sy(this,t,e)),n);break;default:Fd(this,this._t0,n=sy(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function ly(t){this._context=new py(t)}(ly.prototype=Object.create(vc.prototype)).point=function(t,e){vc.prototype.point.call(this,e,t)};function py(t){this._context=t}py.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,o,i){this._context.bezierCurveTo(e,t,r,n,i,o)}};function qd(t){return new vc(t)}function zd(t){return new ly(t)}function my(t){this._context=t}my.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=dy(t),o=dy(e),i=0,a=1;a<n;++i,++a)this._context.bezierCurveTo(r[0][i],o[0][i],r[1][i],o[1][i],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function dy(t){var e,n=t.length-1,r,o=new Array(n),i=new Array(n),a=new Array(n);for(o[0]=0,i[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)o[e]=1,i[e]=4,a[e]=4*t[e]+2*t[e+1];for(o[n-1]=2,i[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=o[e]/i[e-1],i[e]-=r,a[e]-=r*a[e-1];for(o[n-1]=a[n-1]/i[n-1],e=n-2;e>=0;--e)o[e]=(a[e]-o[e+1])/i[e];for(i[n-1]=(t[n]+o[n-1])/2,e=0;e<n-1;++e)i[e]=2*t[e+1]-o[e+1];return[o,i]}function Bd(t){return new my(t)}function wc(t,e){this._context=t,this._t=e}wc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Ud(t){return new wc(t,.5)}function Xd(t){return new wc(t,0)}function Hd(t){return new wc(t,1)}function dr(t,e,n){this.k=t,this.x=e,this.y=n}dr.prototype={constructor:dr,scale:function(t){return t===1?this:new dr(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new dr(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Wd=new dr(1,0,0);Gd.prototype=dr.prototype;function Gd(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Wd;return t.__zoom}function Pe(t){return t!=null&&!Number.isNaN(t)}function fe(t,e){return+Pe(e)-+Pe(t)||Tt(t,e)}function eo(t,e){return+Pe(e)-+Pe(t)||ke(t,e)}function Za(t){return t!=null&&"".concat(t)!==""}function Vd(t){return isFinite(t)?t:NaN}function no(t){return t>0&&isFinite(t)?t:NaN}function Ko(t){return t<0&&isFinite(t)?t:NaN}function Mc(t,e){if(t instanceof Date||(t=new Date(+t)),isNaN(t))return typeof e=="function"?e(t):e;let n=t.getUTCHours(),r=t.getUTCMinutes(),o=t.getUTCSeconds(),i=t.getUTCMilliseconds();return"".concat(u8(t.getUTCFullYear(),4),"-").concat(Wn(t.getUTCMonth()+1,2),"-").concat(Wn(t.getUTCDate(),2)).concat(n||r||o||i?"T".concat(Wn(n,2),":").concat(Wn(r,2)).concat(o||i?":".concat(Wn(o,2)).concat(i?".".concat(Wn(i,3)):""):"","Z"):"")}function u8(t){return t<0?"-".concat(Wn(-t,6)):t>9999?"+".concat(Wn(t,6)):Wn(t,4)}function Wn(t,e){return"".concat(t).padStart(e,"0")}var s8=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function Ka(t,e){return s8.test(t+="")?new Date(t):typeof e=="function"?e(t):e}var Jo=1e3,hr=Jo*60,gr=hr*60,yn=gr*24,xn=yn*7,ro=yn*30,mr=yn*365,jd=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",Jo],["5 seconds",5*Jo],["15 seconds",15*Jo],["30 seconds",30*Jo],["minute",hr],["5 minutes",5*hr],["15 minutes",15*hr],["30 minutes",30*hr],["hour",gr],["3 hours",3*gr],["6 hours",6*gr],["12 hours",12*gr],["day",yn],["2 days",2*yn],["week",xn],["2 weeks",2*xn],["month",ro],["3 months",3*ro],["6 months",6*ro],["year",mr],["2 years",2*mr],["5 years",5*mr],["10 years",10*mr],["20 years",20*mr],["50 years",50*mr],["100 years",100*mr]],Zd=new Map([["second",Jo],["minute",hr],["hour",gr],["day",yn],["monday",xn],["tuesday",xn],["wednesday",xn],["thursday",xn],["friday",xn],["saturday",xn],["sunday",xn],["week",xn],["month",ro],["year",mr]]),gy=new Map([["second",Zt],["minute",On],["hour",qn],["day",Ne],["monday",lr],["tuesday",zu],["wednesday",Bu],["thursday",mn],["friday",Uu],["saturday",Xu],["sunday",_e],["week",_e],["month",Bn],["year",ie]]),Kd=new Map([["second",Zt],["minute",Fn],["hour",zn],["day",Kr],["monday",pr],["tuesday",Hu],["wednesday",Wu],["thursday",hn],["friday",Gu],["saturday",Vu],["sunday",ve],["week",ve],["month",Un],["year",ae]]),ti=Symbol("intervalDuration"),kc=Symbol("intervalType");for(let[t,e]of gy)e[ti]=Zd.get(t),e[kc]="time";for(let[t,e]of Kd)e[ti]=Zd.get(t),e[kc]="utc";var Qa=[["year",ae,"utc"],["month",Un,"utc"],["day",Kr,"utc",6*ro],["hour",zn,"utc",3*yn],["minute",Fn,"utc",6*gr],["second",Zt,"utc",30*hr]],Sc=[["year",ie,"time"],["month",Bn,"time"],["day",Ne,"time",6*ro],["hour",qn,"time",3*yn],["minute",On,"time",6*gr],["second",Zt,"time",30*hr]],c8=[Qa[0],Sc[0],Qa[1],Sc[1],Qa[2],Sc[2],...Qa.slice(3)];function xy(t){let e="".concat(t).toLowerCase();e.endsWith("s")&&(e=e.slice(0,-1));let n=1,r=/^(?:(\d+)\s+)/.exec(e);switch(r&&(e=e.slice(r[0].length),n=+r[1]),e){case"quarter":e="month",n*=3;break;case"half":e="month",n*=6;break}let o=Kd.get(e);if(!o)throw new Error("unknown interval: ".concat(t));if(n>1&&!o.every)throw new Error("non-periodic interval: ".concat(e));return[e,n]}function Qd(t){return yy(xy(t),"time")}function Ja(t){return yy(xy(t),"utc")}function yy([t,e],n){let r=(n==="time"?gy:Kd).get(t);return e>1&&(r=r.every(e),r[ti]=Zd.get(t)*e,r[kc]=n),r}function Jd(t,e){if(!(e>1))return;let n=t[ti];if(!jd.some(([,o])=>o===n)||n%yn===0&&yn<n&&n<ro)return;let[r]=jd[Cn(([,o])=>Math.log(o)).center(jd,Math.log(n*e))];return(t[kc]==="time"?Qd:Ja)(r)}function hy(t,e,n){let r=e==="time"?Uo:gn;if(n==null)return r(t==="year"?"%Y":t==="month"?"%Y-%m":t==="day"?"%Y-%m-%d":t==="hour"||t==="minute"?"%Y-%m-%dT%H:%M":t==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");let o=l8(n);switch(t){case"millisecond":return Qo(r(".%L"),r(":%M:%S"),o);case"second":return Qo(r(":%S"),r("%-I:%M"),o);case"minute":return Qo(r("%-I:%M"),r("%p"),o);case"hour":return Qo(r("%-I %p"),r("%b %-d"),o);case"day":return Qo(r("%-d"),r("%b"),o);case"month":return Qo(r("%b"),r("%Y"),o);case"year":return r("%Y")}throw new Error("unable to format time ticks")}function l8(t){return t==="left"||t==="right"?(e,n)=>"\n".concat(e,"\n").concat(n):t==="top"?(e,n)=>"".concat(n,"\n").concat(e):(e,n)=>"".concat(e,"\n").concat(n)}function p8(t){return t==="time"?Sc:t==="utc"?Qa:c8}function by(t,e,n){let r=Gt(Ff(e,(o,i)=>Math.abs(i-o)));if(r<1e3)return hy("millisecond","utc",n);for(let[o,i,a,f]of p8(t)){if(r>f||o==="hour"&&!r)break;if(e.every(u=>i.floor(u)>=u))return hy(o,a,n)}}function Qo(t,e,n){return(r,o,i)=>{let a=t(r,o),f=e(r,o),u=o-Gn(i);return o!==u&&i[u]!==void 0&&f===e(i[u],u)?a:n(a,f)}}var tf=Object.getPrototypeOf(Uint8Array),d8=Object.prototype.toString,tm=Symbol("reindex");function Mt(t,e,n){let r=typeof e;return r==="string"?_y(t,em(e),n):r==="function"?_y(t,e,n):r==="number"||e instanceof Date||r==="boolean"?xt(t,xr(e),n):typeof(e==null?void 0:e.transform)=="function"?vy(e.transform(t),n):m8(vy(e,n),t==null?void 0:t[tm])}function m8(t,e){return e?Tc(t,e):t}function _y(t,e,n){return xt(t,(n==null?void 0:n.prototype)instanceof tf?h8(e):e,n)}function vy(t,e){return e===void 0?Ht(t):t instanceof e?t:e.prototype instanceof tf&&!(t instanceof tf)?e.from(t,nm):e.from(t)}function h8(t){return(e,n)=>nm(t(e,n))}var ei=[null],em=t=>e=>e[t],bn={transform:me},dt={transform:t=>t};var wy=()=>1,My=()=>!0,Xt=t=>t==null?t:"".concat(t),mt=t=>t==null?t:+t;var ni=t=>t?t[0]:void 0,ef=t=>t?t[1]:void 0;var xr=t=>()=>t;function Sy(t){let e=+"".concat(t).slice(1)/100;return(n,r)=>Te(n,e,r)}function _n(t){return t instanceof tf?t:xt(t,nm,Float64Array)}function nm(t){return t==null?NaN:Number(t)}function ky(t){return xt(t,rm)}function rm(t){return t instanceof Date&&!isNaN(t)?t:typeof t=="string"?Ka(t):t==null||isNaN(t=+t)?void 0:new Date(t)}function ge(t,e){return t===void 0&&(t=e),t===null?[void 0,"none"]:ai(t)?[void 0,t]:[t,void 0]}function It(t,e){return t===void 0&&(t=e),t===null||typeof t=="number"?[void 0,t]:[t,void 0]}function om(t,e,n){if(t!=null)return ue(t,e,n)}function ue(t,e,n){let r="".concat(t).toLowerCase();if(!n.includes(r))throw new Error("invalid ".concat(e,": ").concat(t));return r}function Ht(t){return t==null||t instanceof Array||t instanceof tf?t:Array.from(t)}function xt(t,e,n=Array){return t==null?t:t instanceof n?t.map(e):n.from(t,e)}function yr(t,e=Array){return t instanceof e?t.slice():e.from(t)}function Ty({x:t,x1:e,x2:n}){return t!==void 0||e!==void 0||n!==void 0}function im({y:t,y1:e,y2:n}){return t!==void 0||e!==void 0||n!==void 0}function Cy(t){return Ty(t)||im(t)||t.interval!==void 0}function Ve(t){return(t==null?void 0:t.toString)===d8}function ri(t){return Ve(t)&&(t.type!==void 0||t.domain!==void 0)}function oi(t){return Ve(t)&&typeof t.transform!="function"}function br(t){return oi(t)&&t.value===void 0&&t.channel===void 0}function Ey(t,e,n,r=dt){return e===void 0&&n===void 0?(e=0,n=t===void 0?r:t):e===void 0?e=t===void 0?0:t:n===void 0&&(n=t===void 0?0:t),[e,n]}function vn(t,e){return t===void 0&&e===void 0?[ni,ef]:[t,e]}function _r({z:t,fill:e,stroke:n}={}){return t===void 0&&([t]=ge(e)),t===void 0&&([t]=ge(n)),t}function me(t){let e=t.length,n=new Uint32Array(e);for(let r=0;r<e;++r)n[r]=r;return n}function Tc(t,e){return xt(e,n=>t[n],t.constructor)}function Ay(t,e,n){return t.subarray?t.subarray(e,n):t.slice(e,n)}function Vn(t){return t!==null&&typeof t=="object"?t.valueOf():t}function $y(t,e){if(e[t]!==void 0)return e[t];switch(t){case"x1":case"x2":t="x";break;case"y1":case"y2":t="y";break}return e[t]}function ii(t){let e;return[{transform:()=>e,label:je(t)},n=>e=n]}function Ye(t){return t==null?[t]:ii(t)}function je(t,e){return typeof t=="string"?t:t&&t.label!==void 0?t.label:e}function nf(t,e){return{transform(n){let r=t.transform(n),o=e.transform(n);return Rt(r)||Rt(o)?xt(r,(i,a)=>new Date((+r[a]+ +o[a])/2)):xt(r,(i,a)=>(+r[a]+ +o[a])/2,Float64Array)},label:t.label}}function rf(t,e){let n=am(e==null?void 0:e.interval,e==null?void 0:e.type);return n?xt(t,n):t}function am(t,e){let n=Cc(t,e);return n&&(r=>Pe(r)?n.floor(r):r)}function Cc(t,e){if(t!=null){if(typeof t=="number"){0<t&&t<1&&Number.isInteger(1/t)&&(t=-1/t);let n=Math.abs(t);return t<0?{floor:r=>Math.floor(r*n)/n,offset:r=>(r*n+1)/n,range:(r,o)=>An(Math.ceil(r*n),o*n).map(i=>i/n)}:{floor:r=>Math.floor(r/n)*n,offset:r=>r+n,range:(r,o)=>An(Math.ceil(r/n),o/n).map(i=>i*n)}}if(typeof t=="string")return(e==="time"?Qd:Ja)(t);if(typeof t.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof t.offset!="function")throw new Error("invalid interval; missing offset method");return t}}function wn(t,e){if(t=Cc(t,e),t&&typeof t.range!="function")throw new Error("invalid interval: missing range method");return t}function Iy(t,e){if(t=wn(t,e),t&&typeof t.ceil!="function")throw new Error("invalid interval: missing ceil method");return t}function Ny(t){return vr(t)&&typeof(t==null?void 0:t.floor)=="function"&&t.floor()instanceof Date}function vr(t){return typeof(t==null?void 0:t.range)=="function"}function Mn(t){return t===void 0||oi(t)?t:{value:t}}function Dy(t){return t==null?null:{transform:e=>Mt(e,t,Float64Array),label:je(t)}}function xe(t){return t&&typeof t[Symbol.iterator]=="function"}function Ec(t){for(let e of t)if(e!=null)return typeof e!="object"||e instanceof Date}function fm(t){for(let e of t){if(e==null)continue;let n=typeof e;return n==="string"||n==="boolean"}}function Rt(t){for(let e of t)if(e!=null)return e instanceof Date}function Ry(t){for(let e of t)if(e!=null)return typeof e=="string"&&isNaN(e)&&Ka(e)}function Ly(t){for(let e of t)if(e!=null){if(typeof e!="string")return!1;if(e.trim())return!isNaN(e)}}function Py(t){for(let e of t)if(e!=null)return typeof e=="number"}function Ac(t,e){let n;for(let r of t)if(r!=null){if(!e(r))return!1;n=!0}return n}var g8=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function ai(t){return typeof t!="string"?!1:(t=t.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(t)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(t)||g8.has(t))}function Yy(t){return typeof t=="number"&&(0<=t&&t<=1||isNaN(t))}function zt(t){return t==null||jn(t)}function jn(t){return/^\s*none\s*$/i.test(t)}function Oy(t){return/^\s*round\s*$/i.test(t)}function $c(t,e){return om(t,e,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function wr(t="middle"){return $c(t,"frameAnchor")}function Gn(t){if(t==null)return;let e=t[0],n=t[t.length-1];return ke(e,n)}function Fy(t={},...e){let n=t;for(let r of e)for(let o in r)if(n[o]===void 0){let i=r[o];n===t?n={...n,[o]:i}:n[o]=i}return n}function x8(t){console.warn("named iterables are deprecated; please use an object instead");let e=new Set;return Object.fromEntries(Array.from(t,n=>{let{name:r}=n;if(r==null)throw new Error("missing name");let o="".concat(r);if(o==="__proto__")throw new Error("illegal name: ".concat(o));if(e.has(o))throw new Error("duplicate name: ".concat(o));return e.add(o),[r,n]}))}function um(t){return xe(t)?x8(t):t}var Oe=Symbol("position"),we=Symbol("color"),oo=Symbol("radius"),io=Symbol("length"),ao=Symbol("opacity"),fi=Symbol("symbol"),qy=Symbol("projection"),ht=new Map([["x",Oe],["y",Oe],["fx",Oe],["fy",Oe],["r",oo],["color",we],["opacity",ao],["symbol",fi],["length",io],["projection",qy]]);function zy(t){return t===Oe||t===qy}function By(t){return t===Oe||t===oo||t===io||t===ao}var y8=Math.sqrt(3),b8=2/y8,_8={draw(t,e){let n=Math.sqrt(e/Math.PI),r=n*b8,o=r/2;t.moveTo(0,r),t.lineTo(n,o),t.lineTo(n,-o),t.lineTo(0,-r),t.lineTo(-n,-o),t.lineTo(-n,o),t.closePath()}},sm=new Map([["asterisk",Ya],["circle",Hn],["cross",Oa],["diamond",Fa],["diamond2",qa],["hexagon",_8],["plus",za],["square",Ba],["square2",Ua],["star",Xa],["times",Vo],["triangle",Ha],["triangle2",Wa],["wye",Ga]]);function cm(t){return t&&typeof t.draw=="function"}function Uy(t){return cm(t)?!0:typeof t!="string"?!1:sm.has(t.toLowerCase())}function ui(t){if(t==null||cm(t))return t;let e=sm.get("".concat(t).toLowerCase());if(e)return e;throw new Error("invalid symbol: ".concat(t))}function Xy(t){if(t==null||cm(t))return[void 0,t];if(typeof t=="string"){let e=sm.get("".concat(t).toLowerCase());if(e)return[void 0,e]}return[t,void 0]}function fo({filter:t,sort:e,reverse:n,transform:r,initializer:o,...i}={},a){if(r===void 0&&(t!=null&&(r=Hy(t)),e!=null&&!br(e)&&(r=lm(r,dm(e))),n&&(r=lm(r,Wy))),a!=null&&o!=null)throw new Error("transforms cannot be applied after initializers");return{...i,...(e===null||br(e))&&{sort:e},transform:lm(r,a)}}function Zn({filter:t,sort:e,reverse:n,initializer:r,...o}={},i){return r===void 0&&(t!=null&&(r=Hy(t)),e!=null&&!br(e)&&(r=pm(r,dm(e))),n&&(r=pm(r,Wy))),{...o,...(e===null||br(e))&&{sort:e},initializer:pm(r,i)}}function lm(t,e){return t==null?e===null?void 0:e:e==null?t===null?void 0:t:function(n,r,o){return{data:n,facets:r}=t.call(this,n,r,o),e.call(this,Ht(n),r,o)}}function pm(t,e){return t==null?e===null?void 0:e:e==null?t===null?void 0:t:function(n,r,o,...i){let a,f,u,c,s,l;return{data:f=n,facets:u=r,channels:a}=t.call(this,n,r,o,...i),{data:s=f,facets:l=u,channels:c}=e.call(this,f,u,{...o,...a},...i),{data:s,facets:l,channels:{...a,...c}}}}function v8(t,e){return(t.initializer!=null?Zn:fo)(t,e)}function Hy(t){return(e,n)=>{let r=Mt(e,t);return{data:e,facets:n.map(o=>o.filter(i=>r[i]))}}}function Wy(t,e){return{data:t,facets:e.map(n=>n.slice().reverse())}}function Gy(t,{sort:e,...n}={}){return{...(oi(t)&&t.channel!==void 0?Zn:v8)(n,dm(t)),sort:br(e)?e:null}}function dm(t){return(typeof t=="function"&&t.length!==1?w8:M8)(t)}function w8(t){return(e,n)=>{let r=(o,i)=>t(e[o],e[i]);return{data:e,facets:n.map(o=>o.slice().sort(r))}}}function M8(t){let e,n;({channel:e,value:t,order:n}={...Mn(t)});let r=e==null?void 0:e.startsWith("-");if(r&&(e=e.slice(1)),n===void 0&&(n=r?eo:fe),typeof n!="function")switch("".concat(n).toLowerCase()){case"ascending":n=fe;break;case"descending":n=eo;break;default:throw new Error("invalid order: ".concat(n))}return(o,i,a)=>{let f;if(e===void 0)f=Mt(o,t);else{if(a===void 0)throw new Error("channel sort requires an initializer");if(f=a[e],!f)return{};f=f.value}let u=(c,s)=>n(f[c],f[s]);return{data:o,facets:i.map(c=>c.slice().sort(u))}}}function af(t,...e){for(let{name:n}of t)if(e.includes(n))return!0;return!1}function Zy(t,e,n=mm){let r=Object.entries(t);return e.title!=null&&t.title===void 0&&r.push(["title",E8]),e.href!=null&&t.href===void 0&&r.push(["href",Ic]),r.filter(([,o])=>o!==void 0).map(([o,i])=>i===null?S8(o):n(o,i,e))}function mm(t,e,n,r=hm){let o;Ve(e)&&"reduce"in e&&(o=e.scale,e=e.reduce);let i=r(t,e,n),[a,f]=ii(i.label),u;return{name:t,output:o===void 0?a:{value:a,scale:o},initialize(c){i.initialize(c),u=f([])},scope(c,s){i.scope(c,s)},reduce(c,s){u.push(i.reduce(c,s))}}}function S8(t){return{name:t,initialize(){},scope(){},reduce(){}}}function hm(t,e,n,r=ff){let o=$y(t,n),i=r(e,o),a,f;return{label:je(i===of?null:o,i.label),initialize(u){a=o===void 0?u:Mt(u,o),i.scope==="data"&&(f=i.reduceIndex(me(u),a))},scope(u,c){i.scope===u&&(f=i.reduceIndex(c,a))},reduce(u,c){return i.scope==null?i.reduceIndex(u,a,c):i.reduceIndex(u,a,f,c)}}}function gm(t,e){return e?tn(Je(t,n=>e[n]),ni):[[,t]]}function ff(t,e,n=k8){if(t==null)return n(t);if(typeof t.reduceIndex=="function")return t;if(typeof t.reduce=="function"&&Ve(t))return T8(t);if(typeof t=="function")return C8(t);if(/^p\d{2}$/i.test(t))return Kn(Sy(t));switch("".concat(t).toLowerCase()){case"first":return Ic;case"last":return A8;case"identity":return xm;case"count":return of;case"distinct":return $8;case"sum":return e==null?of:I8;case"proportion":return jy(e,"data");case"proportion-facet":return jy(e,"facet");case"deviation":return Kn(xo);case"min":return Kn(ce);case"min-index":return Kn(Rf);case"max":return Kn(Gt);case"max-index":return Kn(Df);case"mean":return Vy(Yf);case"median":return Vy(Nr);case"variance":return Kn(go);case"mode":return Kn(Of)}return n(t)}function k8(t){throw new Error("invalid reduce: ".concat(t))}function Ky(t,e){for(let n in e){let r=e[n];if(r!==void 0&&!t.some(o=>o.name===n))return r}}function Qy(t,e,n){if(e){let r=e.output.transform(),o=(i,a)=>fe(r[i],r[a]);t.forEach(i=>i.sort(o))}n&&t.forEach(r=>r.reverse())}function T8(t){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...t,reduceIndex:t.reduce.bind(t)}}function C8(t){return{reduceIndex(e,n,r){return t(Tc(n,e),r)}}}function Kn(t){return{reduceIndex(e,n){return t(e,r=>n[r])}}}function Vy(t){return{reduceIndex(e,n){let r=t(e,o=>n[o]);return Rt(n)?new Date(r):r}}}var xm={reduceIndex(t,e){return Tc(e,t)}},Ic={reduceIndex(t,e){return e[t[0]]}},E8={reduceIndex(t,e){let r=tn(qe(t,i=>i.length,i=>e[i]),ef),o=r.slice(-5).reverse();if(o.length<r.length){let i=r.slice(0,-4);o[5-1]=["\u2026 ".concat(i.length.toLocaleString("en-US")," more"),le(i,ef)]}return o.map(([i,a])=>"".concat(i," (").concat(a.toLocaleString("en-US"),")")).join("\n")}},A8={reduceIndex(t,e){return e[t[t.length-1]]}},of={label:"Frequency",reduceIndex(t){return t.length}},$8={label:"Distinct",reduceIndex(t,e){let n=new Fe;for(let r of t)n.add(e[r]);return n.size}},I8=Kn(le);function jy(t,e){return t==null?{scope:e,label:"Frequency",reduceIndex:(n,r,o=1)=>n.length/o}:{scope:e,reduceIndex:(n,r,o=1)=>le(n,i=>r[i])/o}}function si(t,{scale:e,type:n,value:r,filter:o,hint:i,label:a=je(r)},f){return i===void 0&&typeof(r==null?void 0:r.transform)=="function"&&(i=r.hint),bm(f,{scale:e,type:n,value:Mt(t,r),label:a,filter:o,hint:i})}function tb(t,e){return Object.fromEntries(Object.entries(t).map(([n,r])=>[n,si(e,r,n)]))}function eb(t,e){let n=Object.fromEntries(Object.entries(t).map(([r,{scale:o,value:i}])=>{let a=o==null?null:e[o];return[r,a==null?i:xt(i,a)]}));return n.channels=t,n}function bm(t,e){let{scale:n,value:r}=e;if(n===!0||n==="auto")switch(t){case"fill":case"stroke":case"color":e.scale=n!==!0&&Ac(r,ai)?null:"color";break;case"fillOpacity":case"strokeOpacity":case"opacity":e.scale=n!==!0&&Ac(r,Yy)?null:"opacity";break;case"symbol":n!==!0&&Ac(r,Uy)?(e.scale=null,e.value=xt(r,ui)):e.scale="symbol";break;default:e.scale=ht.has(t)?t:null;break}else if(n===!1)e.scale=null;else if(n!=null&&!ht.has(n))throw new Error("unknown scale: ".concat(n));return e}function nb(t,e,n,r,o){let{order:i,reverse:a,reduce:f=!0,limit:u}=o;for(let c in o){if(!ht.has(c))continue;let{value:s,order:l=i,reverse:p=a,reduce:d=f,limit:m=u}=Mn(o[c]),h=s==null?void 0:s.startsWith("-");if(h&&(s=s.slice(1)),l=l===void 0?h!==(s==="width"||s==="height")?ob:rb:R8(l),d==null||d===!1)continue;let g=c==="fx"||c==="fy"?D8(e,r[c]):N8(n,c);if(!g)throw new Error("missing channel for scale: ".concat(c));let b=g.value,[x=0,w=1/0]=xe(m)?m:m<0?[m]:[0,m];if(s==null)g.domain=()=>{let y=Array.from(new Fe(b));return p&&(y=y.reverse()),(x!==0||w!==1/0)&&(y=y.slice(x,w)),y};else{let y=s==="data"?t:s==="height"?Jy(n,"y1","y2"):s==="width"?Jy(n,"x1","x2"):ym(n,s,s==="y"?"y2":s==="x"?"x2":void 0),v=ff(d===!0?"max":d,y);g.domain=()=>{let _=yl(me(b),M=>v.reduceIndex(M,y),M=>b[M]);return l&&_.sort(l),p&&_.reverse(),(x!==0||w!==1/0)&&(_=_.slice(x,w)),_.map(ni)}}}}function N8(t,e){for(let n in t){let r=t[n];if(r.scale===e)return r}}function D8(t,e){let n=t.original;if(n===t)return e;let r=e.value,o=e.value=[];for(let i=0;i<n.length;++i){let a=r[n[i][0]];for(let f of t[i])o[f]=a}return e}function Jy(t,e,n){let r=ym(t,e),o=ym(t,n);return xt(o,(i,a)=>Math.abs(i-r[a]),Float64Array)}function ym(t,e,n){let r=t[e];if(!r&&n!==void 0&&(r=t[n]),r)return r.value;throw new Error("missing channel: ".concat(e))}function R8(t){if(t==null||typeof t=="function")return t;switch("".concat(t).toLowerCase()){case"ascending":return rb;case"descending":return ob}throw new Error("invalid order: ".concat(t))}function rb([t,e],[n,r]){return fe(e,r)||fe(t,n)}function ob([t,e],[n,r]){return eo(e,r)||fe(t,n)}function _m(t,e){let n=t[e];if(n){for(;n.source;)n=n.source;return n.source===null?null:n}}function Nc(t){let e,n;return(...r)=>(((n==null?void 0:n.length)!==r.length||n.some((o,i)=>o!==r[i]))&&(n=r,e=t(...r)),e)}var L8=Nc(t=>new Intl.NumberFormat(t)),cX=Nc((t,e)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...e&&{month:e}})),lX=Nc((t,e)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...e&&{weekday:e}}));function P8(t="en-US"){let e=L8(t);return n=>n!=null&&!isNaN(n)?e.format(n):void 0}function Y8(t){return Mc(t,"Invalid Date")}function O8(t="en-US"){let e=P8(t);return n=>(n instanceof Date?Y8:typeof n=="number"?e:Xt)(n)}var Ze=O8();var vm=0,wm;function ib(){let t=vm;return vm=0,wm=void 0,t}function ye(t){t!==wm&&(wm=t,console.warn(t),++vm)}var ne=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5,F8=0;function ab(){return"plot-clip-".concat(++F8)}function fb(t,{title:e,href:n,ariaLabel:r,ariaDescription:o,ariaHidden:i,target:a,fill:f,fillOpacity:u,stroke:c,strokeWidth:s,strokeOpacity:l,strokeLinejoin:p,strokeLinecap:d,strokeMiterlimit:m,strokeDasharray:h,strokeDashoffset:g,opacity:b,mixBlendMode:x,imageFilter:w,paintOrder:y,pointerEvents:v,shapeRendering:_,channels:M},{ariaLabel:C,fill:E="currentColor",fillOpacity:$,stroke:S="none",strokeOpacity:I,strokeWidth:D,strokeLinecap:P,strokeLinejoin:k,strokeMiterlimit:Y,paintOrder:tt}){E===null&&(f=null,u=null),S===null&&(c=null,l=null),zt(E)?!zt(S)&&(!zt(f)||M!=null&&M.fill)&&(S="none"):zt(S)&&(!zt(c)||M!=null&&M.stroke)&&(E="none");let[K,J]=ge(f,E),[vt,at]=It(u,$),[N,F]=ge(c,S),[Z,G]=It(l,I),[V,O]=It(b);jn(F)||(s===void 0&&(s=D),d===void 0&&(d=P),p===void 0&&(p=k),m===void 0&&!Oy(p)&&(m=Y),!jn(J)&&y===void 0&&(y=tt));let[q,A]=It(s);return E!==null&&(t.fill=Nt(J,"currentColor"),t.fillOpacity=uf(at,1)),S!==null&&(t.stroke=Nt(F,"none"),t.strokeWidth=uf(A,1),t.strokeOpacity=uf(G,1),t.strokeLinejoin=Nt(p,"miter"),t.strokeLinecap=Nt(d,"butt"),t.strokeMiterlimit=uf(m,4),t.strokeDasharray=Nt(h,"none"),t.strokeDashoffset=Nt(g,"0")),t.target=Xt(a),t.ariaLabel=Xt(C),t.ariaDescription=Xt(o),t.ariaHidden=Xt(i),t.opacity=uf(O,1),t.mixBlendMode=Nt(x,"normal"),t.imageFilter=Nt(w,"none"),t.paintOrder=Nt(y,"normal"),t.pointerEvents=Nt(v,"auto"),t.shapeRendering=Nt(_,"auto"),{title:{value:e,optional:!0,filter:null},href:{value:n,optional:!0,filter:null},ariaLabel:{value:r,optional:!0,filter:null},fill:{value:K,scale:"auto",optional:!0},fillOpacity:{value:vt,scale:"auto",optional:!0},stroke:{value:N,scale:"auto",optional:!0},strokeOpacity:{value:Z,scale:"auto",optional:!0},strokeWidth:{value:q,optional:!0},opacity:{value:V,scale:"auto",optional:!0}}}function q8(t,e){e&&t.filter(n=>Za(e[n])).append("title").call(B8,e)}function z8(t,e){e&&t.filter(([n])=>Za(e[n])).append("title").call(U8,e)}function B8(t,e){e&&t.text(n=>Ze(e[n]))}function U8(t,e){e&&t.text(([n])=>Ze(e[n]))}function Me(t,{target:e,tip:n},{ariaLabel:r,title:o,fill:i,fillOpacity:a,stroke:f,strokeOpacity:u,strokeWidth:c,opacity:s,href:l}){r&&et(t,"aria-label",p=>r[p]),i&&et(t,"fill",p=>i[p]),a&&et(t,"fill-opacity",p=>a[p]),f&&et(t,"stroke",p=>f[p]),u&&et(t,"stroke-opacity",p=>u[p]),c&&et(t,"stroke-width",p=>c[p]),s&&et(t,"opacity",p=>s[p]),l&&ub(t,p=>l[p],e),n||q8(t,o)}function uo(t,{target:e,tip:n},{ariaLabel:r,title:o,fill:i,fillOpacity:a,stroke:f,strokeOpacity:u,strokeWidth:c,opacity:s,href:l}){r&&et(t,"aria-label",([p])=>r[p]),i&&et(t,"fill",([p])=>i[p]),a&&et(t,"fill-opacity",([p])=>a[p]),f&&et(t,"stroke",([p])=>f[p]),u&&et(t,"stroke-opacity",([p])=>u[p]),c&&et(t,"stroke-width",([p])=>c[p]),s&&et(t,"opacity",([p])=>s[p]),l&&ub(t,([p])=>l[p],e),n||z8(t,o)}function X8({ariaLabel:t,title:e,fill:n,fillOpacity:r,stroke:o,strokeOpacity:i,strokeWidth:a,opacity:f,href:u},{tip:c}){return[t,c?void 0:e,n,r,o,i,a,f,u].filter(s=>s!==void 0)}function Mm(t,e,n){let r=Je(t,o=>e[o]);return n===void 0&&r.size>1+t.length>>1&&ye("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),r.values()}function*Dc(t,e,n,r){let{z:o}=n,{z:i}=r,a=X8(r,n),f=[...e,...a];for(let u of i?Mm(t,i,o):[t]){let c,s;t:for(let l of u){for(let p of f)if(!Pe(p[l])){s&&s.push(-1);continue t}if(c===void 0){s&&(yield s),c=a.map(p=>Vn(p[l])),s=[l];continue}s.push(l);for(let p=0;p<a.length;++p)if(Vn(a[p][l])!==c[p]){yield s,c=a.map(m=>Vn(m[l])),s=[l];continue t}}s&&(yield s)}}function Rc(t){return t===!0?t="frame":t===!1?t=null:t!=null&&(t=ue(t,"clip",["frame","sphere"])),t}function H8(t,e,n,r){let o,{clip:i=r.clip}=e;switch(i){case"frame":{let{width:a,height:f,marginLeft:u,marginRight:c,marginTop:s,marginBottom:l}=n,p=ab();o="url(#".concat(p,")"),t=ot("svg:g",r).call(d=>d.append("svg:clipPath").attr("id",p).append("rect").attr("x",u).attr("y",s).attr("width",a-c-u).attr("height",f-s-l)).each(function(){this.appendChild(t.node()),t.node=()=>this});break}case"sphere":{let{projection:a}=r;if(!a)throw new Error('the "sphere" clip option requires a projection');let f=ab();o="url(#".concat(f,")"),t.append("clipPath").attr("id",f).append("path").attr("d",Xr(a)({type:"Sphere"}));break}}et(t,"aria-label",e.ariaLabel),et(t,"aria-description",e.ariaDescription),et(t,"aria-hidden",e.ariaHidden),et(t,"clip-path",o)}function Lt(t,e,n,r){H8(t,e,n,r),et(t,"fill",e.fill),et(t,"fill-opacity",e.fillOpacity),et(t,"stroke",e.stroke),et(t,"stroke-width",e.strokeWidth),et(t,"stroke-opacity",e.strokeOpacity),et(t,"stroke-linejoin",e.strokeLinejoin),et(t,"stroke-linecap",e.strokeLinecap),et(t,"stroke-miterlimit",e.strokeMiterlimit),et(t,"stroke-dasharray",e.strokeDasharray),et(t,"stroke-dashoffset",e.strokeDashoffset),et(t,"shape-rendering",e.shapeRendering),et(t,"filter",e.imageFilter),et(t,"paint-order",e.paintOrder);let{pointerEvents:o=r.pointerSticky===!1?"none":void 0}=e;et(t,"pointer-events",o)}function Dt(t,e){W8(t,"mix-blend-mode",e.mixBlendMode),et(t,"opacity",e.opacity)}function ub(t,e,n){t.each(function(r){let o=e(r);if(o!=null){let i=this.ownerDocument.createElementNS(Ce.svg,"a");i.setAttribute("fill","inherit"),i.setAttributeNS(Ce.xlink,"href",o),n!=null&&i.setAttribute("target",n),this.parentNode.insertBefore(i,this).appendChild(this)}})}function et(t,e,n){n!=null&&t.attr(e,n)}function W8(t,e,n){n!=null&&t.style(e,n)}function Pt(t,e,{x:n,y:r},o=ne,i=ne){o+=e.dx,i+=e.dy,n!=null&&n.bandwidth&&(o+=n.bandwidth()/2),r!=null&&r.bandwidth&&(i+=r.bandwidth()/2),(o||i)&&t.attr("transform","translate(".concat(o,",").concat(i,")"))}function Nt(t,e){if((t=Xt(t))!==e)return t}function uf(t,e){if((t=mt(t))!==e)return t}var G8=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function ci(t){if(t===void 0)return"plot-d6a7b5";if(t="".concat(t),!G8.test(t))throw new Error("invalid class name: ".concat(t));return t}function li(t,e){if(typeof e=="string")t.property("style",e);else if(e!=null)for(let n of t)Object.assign(n.style,e)}function Sn({frameAnchor:t},{width:e,height:n,marginTop:r,marginRight:o,marginBottom:i,marginLeft:a}){return[/left$/.test(t)?a:/right$/.test(t)?e-o:(a+e-o)/2,/^top/.test(t)?r:/^bottom/.test(t)?n-i:(r+n-i)/2]}function pi(t={}){let{document:e=typeof window<"u"?window.document:void 0,clip:n}=t;return{document:e,clip:Rc(n)}}function ot(t,{document:e}){return Dn(In(t).call(e.documentElement))}var cb=Math.PI,Qn=2*cb,sb=.618;function lb({projection:t,inset:e=0,insetTop:n=e,insetRight:r=e,insetBottom:o=e,insetLeft:i=e}={},a){if(t==null)return;if(typeof t.stream=="function")return t;let f,u,c="frame";if(Ve(t)){let v;if({type:t,domain:u,inset:v,insetTop:n=v!==void 0?v:n,insetRight:r=v!==void 0?v:r,insetBottom:o=v!==void 0?v:o,insetLeft:i=v!==void 0?v:i,clip:c=c,...f}=t,t==null)return}typeof t!="function"&&({type:t}=pb(t));let{width:s,height:l,marginLeft:p,marginRight:d,marginTop:m,marginBottom:h}=a,g=s-p-d-i-r,b=l-m-h-n-o;if(t=t==null?void 0:t({width:g,height:b,clip:c,...f}),t==null)return;c=V8(c,p,m,s-d,l-h);let x=p+i,w=m+n,y;if(u!=null){let[[v,_],[M,C]]=Xr(t).bounds(u),E=Math.min(g/(M-v),b/(C-_));E>0?(x-=(E*(v+M)-g)/2,w-=(E*(_+C)-b)/2,y=fa({point($,S){this.stream.point($*E+x,S*E+w)}})):ye("Warning: the projection could not be fit to the specified domain; using the default scale.")}return y!=null||(y=x===0&&w===0?db():fa({point(v,_){this.stream.point(v+x,_+w)}})),{stream:v=>t.stream(y.stream(c(v)))}}function pb(t){switch("".concat(t).toLowerCase()){case"albers-usa":return Ke(Ap,.7463,.4673);case"albers":return Lc(sa,.7463,.4673);case"azimuthal-equal-area":return Ke(Ip,4,4);case"azimuthal-equidistant":return Ke(Dp,Qn,Qn);case"conic-conformal":return Lc(Pp,Qn,Qn);case"conic-equal-area":return Lc(sr,6.1702,2.9781);case"conic-equidistant":return Lc(Op,7.312,3.6282);case"equal-earth":return Ke(qp,5.4133,2.6347);case"equirectangular":return Ke(Yp,Qn,cb);case"gnomonic":return Ke(Bp,3.4641,3.4641);case"identity":return{type:db};case"reflect-y":return{type:j8};case"mercator":return Ke(Rp,Qn,Qn);case"orthographic":return Ke(Xp,2,2);case"stereographic":return Ke(Wp,2,2);case"transverse-mercator":return Ke(Vp,Qn,Qn);default:throw new Error("unknown projection type: ".concat(t))}}function V8(t,e,n,r,o){if(t===!1||t==null||typeof t=="number")return i=>i;switch(t===!0&&(t="frame"),"".concat(t).toLowerCase()){case"frame":return No(e,n,r,o);default:throw new Error("unknown projection clip type: ".concat(t))}}function Ke(t,e,n){return{type:({width:r,height:o,rotate:i,precision:a=.15,clip:f})=>{var c,s,l;let u=t();return a!=null&&((c=u.precision)==null||c.call(u,a)),i!=null&&((s=u.rotate)==null||s.call(u,i)),typeof f=="number"&&((l=u.clipAngle)==null||l.call(u,f)),u.scale(Math.min(r/e,o/n)),u.translate([r/2,o/2]),u},aspectRatio:n/e}}function Lc(t,e,n){let{type:r,aspectRatio:o}=Ke(t,e,n);return{type:i=>{let{parallels:a,domain:f,width:u,height:c}=i,s=r(i);return a!=null&&(s.parallels(a),f===void 0&&s.fitSize([u,c],{type:"Sphere"})),s},aspectRatio:o}}var db=xr({stream:t=>t}),j8=xr(fa({point(t,e){this.stream.point(t,-e)}}));function mb(t,e,n,r){let o=n[t],i=n[e],a=o.length,f=n[t]=new Float64Array(a).fill(NaN),u=n[e]=new Float64Array(a).fill(NaN),c,s=r.stream({point(l,p){f[c]=l,u[c]=p}});for(c=0;c<a;++c)s.point(o[c],i[c])}function hb({projection:t}={}){return t==null?!1:typeof t.stream=="function"?!0:(Ve(t)&&(t=t.type),t!=null)}function gb(t){if(typeof(t==null?void 0:t.stream)=="function")return sb;if(Ve(t)&&(t=t.type),t!=null){if(typeof t!="function"){let{aspectRatio:e}=pb(t);if(e)return e}return sb}}function xb(t){let e=[],n=[],r={scale:"x",value:e},o={scale:"y",value:n},i={point(a,f){e.push(a),n.push(f)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(let a of t.value)We(a,i);return[r,o]}var Z8=["#4269d0","#efb118","#ff725c","#6cc5b0","#a463f2","#ff8ab7","#9c6b4e","#97bbf5","#3ca951","#9498a0"],wb=new Map([["accent",pd],["category10",ld],["dark2",dd],["observable10",Z8],["paired",md],["pastel1",hd],["pastel2",gd],["set1",xd],["set2",yd],["set3",bd],["tableau10",_d]]);function Mb(t){return t!=null&&wb.has("".concat(t).toLowerCase())}var yb=new Map([...wb,["brbg",Jn(ns,rs)],["prgn",Jn(os,is)],["piyg",Jn(as,fs)],["puor",Jn(us,ss)],["rdbu",Jn(Na,Xo)],["rdgy",Jn(cs,ls)],["rdylbu",Jn(Da,Ho)],["rdylgn",Jn(ps,ds)],["spectral",Jn(ms,hs)],["burd",bb(Na,Xo)],["buylrd",bb(Da,Ho)],["blues",Qt(qs,zs)],["greens",Qt(Bs,Us)],["greys",Qt(Xs,Hs)],["oranges",Qt(Zs,Ks)],["purples",Qt(Ws,Gs)],["reds",Qt(Vs,js)],["turbo",tr(ac)],["viridis",tr(uc)],["magma",tr(sc)],["inferno",tr(cc)],["plasma",tr(lc)],["cividis",tr(Qs)],["cubehelix",tr(Js)],["warm",tr(ec)],["cool",tr(nc)],["bugn",Qt(gs,xs)],["bupu",Qt(ys,bs)],["gnbu",Qt(_s,vs)],["orrd",Qt(ws,Ms)],["pubu",Qt(Ts,Cs)],["pubugn",Qt(Ss,ks)],["purd",Qt(Es,As)],["rdpu",Qt($s,Is)],["ylgn",Qt(Rs,Ls)],["ylgnbu",Qt(Ns,Ds)],["ylorbr",Qt(Ps,Ys)],["ylorrd",Qt(Os,Fs)],["rainbow",_b(rc)],["sinebow",_b(ic)]]);function Qt(t,e){return({length:n})=>n===1?[t[3][1]]:n===2?[t[3][1],t[3][2]]:(n=Math.max(3,Math.floor(n)),n>9?re(e,n):t[n])}function Jn(t,e){return({length:n})=>n===2?[t[3][0],t[3][2]]:(n=Math.max(3,Math.floor(n)),n>11?re(e,n):t[n])}function bb(t,e){return({length:n})=>n===2?[t[3][2],t[3][0]]:(n=Math.max(3,Math.floor(n)),n>11?re(r=>e(1-r),n):t[n].slice().reverse())}function tr(t){return({length:e})=>re(t,Math.max(2,Math.floor(e)))}function _b(t){return({length:e})=>re(t,Math.floor(e)+1).slice(0,-1)}function Sm(t){let e="".concat(t).toLowerCase();if(!yb.has(e))throw new Error("unknown ordinal scheme: ".concat(e));return yb.get(e)}function sf(t,e){let n=Sm(t),r=typeof n=="function"?n({length:e}):n;return r.length!==e?r.slice(0,e):r}function Sb(t,e="greys"){let n=new Set,[r,o]=sf(e,2);for(let i of t)if(i!=null)if(i===!0)n.add(o);else if(i===!1)n.add(r);else return;return[...n]}var vb=new Map([["brbg",rs],["prgn",is],["piyg",fs],["puor",ss],["rdbu",Xo],["rdgy",ls],["rdylbu",Ho],["rdylgn",ds],["spectral",hs],["burd",t=>Xo(1-t)],["buylrd",t=>Ho(1-t)],["blues",zs],["greens",Us],["greys",Hs],["purples",Gs],["reds",js],["oranges",Ks],["turbo",ac],["viridis",uc],["magma",sc],["inferno",cc],["plasma",lc],["cividis",Qs],["cubehelix",Js],["warm",ec],["cool",nc],["bugn",xs],["bupu",bs],["gnbu",vs],["orrd",Ms],["pubugn",ks],["pubu",Cs],["purd",As],["rdpu",Is],["ylgnbu",Ds],["ylgn",Ls],["ylorbr",Ys],["ylorrd",Fs],["rainbow",rc],["sinebow",ic]]);function di(t){let e="".concat(t).toLowerCase();if(!vb.has(e))throw new Error("unknown quantitative scheme: ".concat(e));return vb.get(e)}var K8=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function kb(t){return t!=null&&K8.has("".concat(t).toLowerCase())}var Tm=t=>e=>t(1-e),km=[0,1],Tb=new Map([["number",wt],["rgb",Ae],["hsl",Wl],["hcl",Gl],["lab",eu]]);function Cm(t){let e="".concat(t).toLowerCase();if(!Tb.has(e))throw new Error("unknown interpolator: ".concat(e));return Tb.get(e)}function hi(t,e,n,{type:r,nice:o,clamp:i,zero:a,domain:f=Rb(t,n),unknown:u,round:c,scheme:s,interval:l,range:p=ht.get(t)===oo?e4(n,f):ht.get(t)===io?n4(n,f):ht.get(t)===ao?km:void 0,interpolate:d=ht.get(t)===we?s==null&&p!==void 0?Ae:di(s!==void 0?s:r==="cyclical"?"rainbow":"turbo"):c?Or:wt,reverse:m}){if(l=wn(l,r),(r==="cyclical"||r==="sequential")&&(r="linear"),typeof d!="function"&&(d=Cm(d)),m=!!m,p!==void 0){let h=(f=Ht(f)).length,g=(p=Ht(p)).length;if(h!==g){if(d.length===1)throw new Error("invalid piecewise interpolator");d=on(d,p),p=void 0}}if(d.length===1?(m&&(d=Tm(d),m=!1),p===void 0&&(p=Float64Array.from(f,(h,g)=>g/(f.length-1)),p.length===2&&(p=km)),e.interpolate((p===km?xr:cf)(d))):e.interpolate(d),a){let[h,g]=Et(f);(h>0||g<0)&&(f=yr(f),Gn(f)!==Math.sign(h)?f[f.length-1]=0:f[0]=0)}return m&&(f=nr(f)),e.domain(f).unknown(u),o&&(e.nice(Q8(o,r)),f=e.domain()),p!==void 0&&e.range(p),i&&e.clamp(i),{type:r,domain:f,range:p,scale:e,interpolate:d,interval:l}}function Q8(t,e){return t===!0?void 0:typeof t=="number"?t:Iy(t,e)}function Cb(t,e,n){return hi(t,Gr(),e,n)}function Eb(t,e,n){return Em(t,e,{...n,exponent:.5})}function Em(t,e,{exponent:n=1,...r}){return hi(t,va().exponent(n),e,{...r,type:"pow"})}function Ab(t,e,{base:n=10,domain:r=r4(e),...o}){return hi(t,ba().base(n),e,{...o,domain:r})}function $b(t,e,{constant:n=1,...r}){return hi(t,_a().constant(n),e,r)}function Ib(t,e,{range:n,quantiles:r=n===void 0?5:(n=[...n]).length,n:o=r,scheme:i="rdylbu",domain:a=o4(e),unknown:f,interpolate:u,reverse:c}){return n===void 0&&(n=u!==void 0?re(u,o):ht.get(t)===we?sf(i,o):void 0),a.length>0&&(a=wa(a,n===void 0?{length:o}:n).quantiles()),Pc(t,e,{domain:a,range:n,reverse:c,unknown:f})}function Nb(t,e,{range:n,n:r=n===void 0?5:(n=[...n]).length,scheme:o="rdylbu",domain:i=Rb(t,e),unknown:a,interpolate:f,reverse:u}){let[c,s]=Et(i),l;return n===void 0?(l=ze(c,s,r),l[0]<=c&&l.splice(0,1),l[l.length-1]>=s&&l.pop(),r=l.length+1,n=f!==void 0?re(f,r):ht.get(t)===we?sf(o,r):void 0):(l=re(wt(c,s),r+1).slice(1,-1),c instanceof Date&&(l=l.map(p=>new Date(p)))),Gn(Ht(i))<0&&l.reverse(),Pc(t,e,{domain:l,range:n,reverse:u,unknown:a})}function Pc(t,e,{domain:n=[0],unknown:r,scheme:o="rdylbu",interpolate:i,range:a=i!==void 0?re(i,n.length+1):ht.get(t)===we?sf(o,n.length+1):void 0,reverse:f}){n=Ht(n);let u=Gn(n);if(!isNaN(u)&&!J8(n,u))throw new Error("the ".concat(t," scale has a non-monotonic domain"));return f&&(a=nr(a)),{type:"threshold",scale:Ma(u<0?nr(n):n,a===void 0?[]:a).unknown(r),domain:n,range:a}}function J8(t,e){for(let n=1,r=t.length,o=t[0];n<r;++n){let i=ke(o,o=t[n]);if(i!==0&&i!==e)return!1}return!0}function Db(t){return{type:"identity",scale:By(ht.get(t))?xa():e=>e}}function mi(t,e=Vd){return t.length?[ce(t,({value:n})=>n===void 0?n:ce(n,e)),Gt(t,({value:n})=>n===void 0?n:Gt(n,e))]:[0,1]}function Rb(t,e){let n=ht.get(t);return(n===oo||n===ao||n===io?t4:mi)(e)}function t4(t){return[0,t.length?Gt(t,({value:e})=>e===void 0?e:Gt(e,Vd)):1]}function e4(t,e){let n=t.find(({radius:a})=>a!==void 0);if(n!==void 0)return[0,n.radius];let r=Te(t,.5,({value:a})=>a===void 0?NaN:Te(a,.25,no)),o=e.map(a=>3*Math.sqrt(a/r)),i=30/Gt(o);return i<1?o.map(a=>a*i):o}function n4(t,e){let n=Nr(t,({value:i})=>i===void 0?NaN:Nr(i,Math.abs)),r=e.map(i=>12*i/n),o=60/Gt(r);return o<1?r.map(i=>i*o):r}function r4(t){for(let{value:e}of t)if(e!==void 0)for(let n of e){if(n>0)return mi(t,no);if(n<0)return mi(t,Ko)}return[1,10]}function o4(t){let e=[];for(let{value:n}of t)if(n!==void 0)for(let r of n)e.push(r);return e}function cf(t){return(e,n)=>r=>t(e+r*(n-e))}function Yc(t,e,n,r,{type:o,nice:i,clamp:a,domain:f=mi(r),unknown:u,pivot:c=0,scheme:s,range:l,symmetric:p=!0,interpolate:d=ht.get(t)===we?s==null&&l!==void 0?Ae:di(s!==void 0?s:"rdbu"):wt,reverse:m}){c=+c,f=Ht(f);let[h,g]=f;if(f.length>2&&ye("Warning: the diverging ".concat(t," scale domain contains extra elements.")),ke(h,g)<0&&([h,g]=[g,h],m=!m),h=Math.min(h,c),g=Math.max(g,c),typeof d!="function"&&(d=Cm(d)),l!==void 0&&(d=d.length===1?cf(d)(...l):on(d,l)),m&&(d=Tm(d)),p){let b=n.apply(c),x=b-n.apply(h),w=n.apply(g)-b;x<w?h=n.invert(b-w):x>w&&(g=n.invert(b+x))}return e.domain([h,c,g]).unknown(u).interpolator(d),a&&e.clamp(a),i&&e.nice(i),{type:o,domain:[h,g],pivot:c,interpolate:d,scale:e}}function Lb(t,e,n){return Yc(t,Ia(),i4,e,n)}function Pb(t,e,n){return Am(t,e,{...n,exponent:.5})}function Am(t,e,{exponent:n=1,...r}){return Yc(t,es().exponent(n=+n),u4(n),e,{...r,type:"diverging-pow"})}function Yb(t,e,{base:n=10,pivot:r=1,domain:o=mi(e,r<0?Ko:no),...i}){return Yc(t,Ju().base(n=+n),a4,e,{domain:o,pivot:r,...i})}function Ob(t,e,{constant:n=1,...r}){return Yc(t,ts().constant(n=+n),s4(n),e,r)}var i4={apply(t){return t},invert(t){return t}},a4={apply:Math.log,invert:Math.exp},f4={apply(t){return Math.sign(t)*Math.sqrt(Math.abs(t))},invert(t){return Math.sign(t)*(t*t)}};function u4(t){return t===.5?f4:{apply(e){return Math.sign(e)*Math.pow(Math.abs(e),t)},invert(e){return Math.sign(e)*Math.pow(Math.abs(e),1/t)}}}function s4(t){return{apply(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))},invert(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}}function Fb(t,e,n,r){return hi(t,e,n,r)}function qb(t,e,n){return Fb(t,Zu(),e,n)}function zb(t,e,n){return Fb(t,Ku(),e,n)}var gi=Symbol("ordinal");function Ub(t,e,n,{type:r,interval:o,domain:i,range:a,reverse:f,hint:u}){return o=wn(o,r),i===void 0&&(i=Vb(n,o,t)),(r==="categorical"||r===gi)&&(r="ordinal"),f&&(i=nr(i)),i=e.domain(i).domain(),a!==void 0&&(typeof a=="function"&&(a=a(i)),e.range(a)),{type:r,domain:i,range:a,scale:e,hint:u,interval:o}}function Xb(t,e,{type:n,interval:r,domain:o,range:i,scheme:a,unknown:f,...u}){r=wn(r,n),o===void 0&&(o=Vb(e,r,t));let c;if(ht.get(t)===fi)c=c4(e),i=i===void 0?l4(c):xt(i,ui);else if(ht.get(t)===we&&(i===void 0&&(n==="ordinal"||n===gi)&&(i=Sb(o,a),i!==void 0&&(a=void 0)),a===void 0&&i===void 0&&(a=n==="ordinal"?"turbo":"observable10"),a!==void 0))if(i!==void 0){let s=di(a),l=i[0],p=i[1]-i[0];i=({length:d})=>re(m=>s(l+p*m),d)}else i=Sm(a);if(f===ha)throw new Error("implicit unknown on ".concat(t," scale is not supported"));return Ub(t,Hr().unknown(f),e,{...u,type:n,domain:o,range:i,hint:c})}function Hb(t,e,{align:n=.5,padding:r=.5,...o}){return Gb(jp().align(n).padding(r),e,o,t)}function Wb(t,e,{align:n=.5,padding:r=.1,paddingInner:o=r,paddingOuter:i=t==="fx"||t==="fy"?0:r,...a}){return Gb(cr().align(n).paddingInner(o).paddingOuter(i),e,a,t)}function Gb(t,e,n,r){let{round:o}=n;return o!==void 0&&t.round(o=!!o),t=Ub(r,t,e,n),t.round=o,t}function Vb(t,e,n){let r=new Fe;for(let{value:o,domain:i}of t){if(i!==void 0)return i();if(o!==void 0)for(let a of o)r.add(a)}if(e!==void 0){let[o,i]=Et(r).map(e.floor,e);return e.range(o,e.offset(i))}if(r.size>1e4&&ht.get(n)===Oe)throw new Error("implicit ordinal domain of ".concat(n," scale has more than 10,000 values"));return tn(r,fe)}function Bb(t,e){let n;for(let{hint:r}of t){let o=r==null?void 0:r[e];if(o!==void 0){if(n===void 0)n=o;else if(n!==o)return}}return n}function c4(t){return{fill:Bb(t,"fill"),stroke:Bb(t,"stroke")}}function l4(t){return zt(t.fill)?Cd:xc}function lf(t,{label:e,inset:n=0,insetTop:r=n,insetRight:o=n,insetBottom:i=n,insetLeft:a=n,round:f,nice:u,clamp:c,zero:s,align:l,padding:p,projection:d,facet:{label:m=e}={},...h}={}){let g={};for(let[b,x]of t){let w=h[b],y=m4(b,x,{round:ht.get(b)===Oe?f:void 0,nice:u,clamp:c,zero:s,align:l,padding:p,projection:d,...w});if(y){let{label:v=b==="fx"||b==="fy"?m:e,percent:_,transform:M,inset:C,insetTop:E=C!==void 0?C:b==="y"?r:0,insetRight:$=C!==void 0?C:b==="x"?o:0,insetBottom:S=C!==void 0?C:b==="y"?i:0,insetLeft:I=C!==void 0?C:b==="x"?a:0}=w||{};if(M==null)M=void 0;else if(typeof M!="function")throw new Error("invalid scale transform; not a function");y.percent=!!_,y.label=v===void 0?p4(x,y):v,y.transform=M,b==="x"||b==="fx"?(y.insetLeft=+I,y.insetRight=+$):(b==="y"||b==="fy")&&(y.insetTop=+E,y.insetBottom=+S),g[b]=y}}return g}function Im(t){let e={},n={scales:e};for(let[r,o]of Object.entries(t)){let{scale:i,type:a,interval:f,label:u}=o;e[r]=y4(o),n[r]=i,i.type=a,f!=null&&(i.interval=f),u!=null&&(i.label=u)}return n}function Jb(t,e){let{x:n,y:r,fx:o,fy:i}=t,a=o||i?Fc(e):e;o&&jb(o,a),i&&Zb(i,a);let f=o||i?Nm(t,e):e;n&&jb(n,f),r&&Zb(r,f)}function p4(t=[],e){let n;for(let{label:r}of t)if(r!==void 0){if(n===void 0)n=r;else if(n!==r)return}if(n!==void 0)return!kn(e)&&e.percent&&(n="".concat(n," (%)")),{inferred:!0,toString:()=>n}}function t_(t){return Math.sign(Gn(t.domain()))*Math.sign(Gn(t.range()))}function Fc(t){let{marginTop:e,marginRight:n,marginBottom:r,marginLeft:o,width:i,height:a,facet:{marginTop:f,marginRight:u,marginBottom:c,marginLeft:s}}=t;return{marginTop:Math.max(e,f),marginRight:Math.max(n,u),marginBottom:Math.max(r,c),marginLeft:Math.max(o,s),width:i,height:a}}function Nm({fx:t,fy:e},n){let{marginTop:r,marginRight:o,marginBottom:i,marginLeft:a,width:f,height:u}=Fc(n);return{marginTop:r,marginRight:o,marginBottom:i,marginLeft:a,width:t?t.scale.bandwidth()+a+o:f,height:e?e.scale.bandwidth()+r+i:u,facet:{width:f,height:u}}}function jb(t,e){if(t.range===void 0){let{insetLeft:n,insetRight:r}=t,{width:o,marginLeft:i=0,marginRight:a=0}=e,f=i+n,u=o-a-r;t.range=[f,Math.max(f,u)],kn(t)||(t.range=n_(t)),t.scale.range(t.range)}e_(t)}function Zb(t,e){if(t.range===void 0){let{insetTop:n,insetBottom:r}=t,{height:o,marginTop:i=0,marginBottom:a=0}=e,f=i+n,u=o-a-r;t.range=[Math.max(f,u),f],kn(t)?t.range.reverse():t.range=n_(t),t.scale.range(t.range)}e_(t)}function e_(t){t.round===void 0&&g4(t)&&d4(t)<=30&&t.scale.round(!0)}function d4({scale:t}){let e=t.domain().length,[n,r]=t.range(),o=t.paddingInner?t.paddingInner():1,i=t.paddingOuter?t.paddingOuter():t.padding(),a=e-o,f=Math.abs(r-n)/Math.max(1,a+i*2);return(f-Math.floor(f))*a}function n_(t){let e=t.scale.domain().length+Dm(t);if(!(e>2))return t.range;let[n,r]=t.range;return Array.from({length:e},(o,i)=>n+i/(e-1)*(r-n))}function m4(t,e=[],n={}){let r=h4(t,e,n);if(n.type===void 0&&n.domain===void 0&&n.range===void 0&&n.interval==null&&t!=="fx"&&t!=="fy"&&kn({type:r})){let o=e.map(({value:i})=>i).filter(i=>i!==void 0);o.some(Rt)?ye("Warning: some data associated with the ".concat(t,' scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "').concat(xi(r),'" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ').concat(t," scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ").concat(t,' scale to "').concat(xi(r),'".')):o.some(Ry)?ye("Warning: some data associated with the ".concat(t,' scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "').concat(xi(r),'" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ').concat(t,' scale to "').concat(xi(r),'".')):o.some(Ly)&&ye("Warning: some data associated with the ".concat(t,' scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "').concat(xi(r),'" scale. If you want to treat this data as ordinal, you can specify the interval of the ').concat(t," scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ").concat(t,' scale to "').concat(xi(r),'".'))}switch(n.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":n=Oc(e,n,_n);break;case"identity":switch(ht.get(t)){case Oe:n=Oc(e,n,_n);break;case fi:n=Oc(e,n,x4);break}break;case"utc":case"time":n=Oc(e,n,ky);break}switch(r){case"diverging":return Lb(t,e,n);case"diverging-sqrt":return Pb(t,e,n);case"diverging-pow":return Am(t,e,n);case"diverging-log":return Yb(t,e,n);case"diverging-symlog":return Ob(t,e,n);case"categorical":case"ordinal":case gi:return Xb(t,e,n);case"cyclical":case"sequential":case"linear":return Cb(t,e,n);case"sqrt":return Eb(t,e,n);case"threshold":return Pc(t,e,n);case"quantile":return Ib(t,e,n);case"quantize":return Nb(t,e,n);case"pow":return Em(t,e,n);case"log":return Ab(t,e,n);case"symlog":return $b(t,e,n);case"utc":return zb(t,e,n);case"time":return qb(t,e,n);case"point":return Hb(t,e,n);case"band":return Wb(t,e,n);case"identity":return Db(t);case void 0:return;default:throw new Error("unknown scale type: ".concat(r))}}function xi(t){return typeof t=="symbol"?t.description:t}function Kb(t){return typeof t=="string"?"".concat(t).toLowerCase():t}var Qb={toString:()=>"projection"};function h4(t,e,{type:n,domain:r,range:o,scheme:i,pivot:a,projection:f}){if(n=Kb(n),t==="fx"||t==="fy")return"band";(t==="x"||t==="y")&&f!=null&&(n=Qb);for(let c of e){let s=Kb(c.type);if(s!==void 0){if(n===void 0)n=s;else if(n!==s)throw new Error("scale incompatible with channel: ".concat(n," !== ").concat(s))}}if(n===Qb)return;if(n!==void 0)return n;if(r===void 0&&!e.some(({value:c})=>c!==void 0))return;let u=ht.get(t);if(u===oo)return"sqrt";if(u===ao||u===io)return"linear";if(u===fi)return"ordinal";if((r||o||[]).length>2)return $m(u);if(r!==void 0){if(fm(r))return $m(u);if(Rt(r))return"utc"}else{let c=e.map(({value:s})=>s).filter(s=>s!==void 0);if(c.some(fm))return $m(u);if(c.some(Rt))return"utc"}if(u===we){if(a!=null||kb(i))return"diverging";if(Mb(i))return"categorical"}return"linear"}function $m(t){switch(t){case Oe:return"point";case we:return gi;default:return"ordinal"}}function kn({type:t}){return t==="ordinal"||t==="point"||t==="band"||t===gi}function Dm({type:t}){return t==="threshold"}function g4({type:t}){return t==="point"||t==="band"}function Mr(t){if(t===void 0)return!0;let e=t.domain(),n=t(e[0]);for(let r=1,o=e.length;r<o;++r)if(t(e[r])-n)return!1;return!0}function Oc(t,{domain:e,...n},r){var o;for(let i of t)i.value!==void 0&&(e===void 0&&(e=(o=i.value)==null?void 0:o.domain),i.value=r(i.value));return{domain:e===void 0?e:r(e),...n}}function x4(t){return xt(t,ui)}function r_(t){return e=>{if(!ht.has(e="".concat(e)))throw new Error("unknown scale: ".concat(e));return t[e]}}function y4({scale:t,type:e,domain:n,range:r,interpolate:o,interval:i,transform:a,percent:f,pivot:u}){if(e==="identity")return{type:"identity",apply:s=>s,invert:s=>s};let c=t.unknown?t.unknown():void 0;return{type:e,domain:yr(n),...r!==void 0&&{range:yr(r)},...a!==void 0&&{transform:a},...f&&{percent:f},...c!==void 0&&{unknown:c},...i!==void 0&&{interval:i},...o!==void 0&&{interpolate:o},...t.clamp&&{clamp:t.clamp()},...u!==void 0&&{pivot:u,symmetric:!1},...t.base&&{base:t.base()},...t.exponent&&{exponent:t.exponent()},...t.constant&&{constant:t.constant()},...t.align&&{align:t.align(),round:t.round()},...t.padding&&(t.paddingInner?{paddingInner:t.paddingInner(),paddingOuter:t.paddingOuter()}:{padding:t.padding()}),...t.bandwidth&&{bandwidth:t.bandwidth(),step:t.step()},apply:s=>t(s),...t.invert&&{invert:s=>t.invert(s)}}}function i_(t,e,n={}){var h;let r=.5-ne,o=.5+ne,i=.5+ne,a=.5-ne;for(let{marginTop:g,marginRight:b,marginBottom:x,marginLeft:w}of e)g>r&&(r=g),b>o&&(o=b),x>i&&(i=x),w>a&&(a=w);let{margin:f,marginTop:u=f!==void 0?f:r,marginRight:c=f!==void 0?f:o,marginBottom:s=f!==void 0?f:i,marginLeft:l=f!==void 0?f:a}=n;u=+u,c=+c,s=+s,l=+l;let{width:p=640,height:d=b4(t,n,{width:p,marginTopDefault:r,marginRightDefault:o,marginBottomDefault:i,marginLeftDefault:a})+Math.max(0,u-r+s-i)}=n;p=+p,d=+d;let m={width:p,height:d,marginTop:u,marginRight:c,marginBottom:s,marginLeft:l};if(t.fx||t.fy){let{margin:g,marginTop:b=g!==void 0?g:u,marginRight:x=g!==void 0?g:c,marginBottom:w=g!==void 0?g:s,marginLeft:y=g!==void 0?g:l}=(h=n.facet)!=null?h:{};b=+b,x=+x,w=+w,y=+y,m.facet={marginTop:b,marginRight:x,marginBottom:w,marginLeft:y}}return m}function b4({x:t,y:e,fy:n,fx:r},{projection:o,aspectRatio:i},{width:a,marginTopDefault:f,marginRightDefault:u,marginBottomDefault:c,marginLeftDefault:s}){let l=n?n.scale.domain().length:1,p=gb(o);if(p){let m=r?r.scale.domain().length:1,h=(1.1*l-.1)/(1.1*m-.1)*p,g=Math.max(.1,Math.min(10,h));return Math.round((a-s-u)*g+f+c)}let d=e?kn(e)?e.scale.domain().length:Math.max(7,17/l):1;if(i!=null){if(i=+i,!(isFinite(i)&&i>0))throw new Error("invalid aspectRatio: ".concat(i));let m=o_("y",e)/(o_("x",t)*i),h=r?r.scale.bandwidth():1,g=n?n.scale.bandwidth():1,b=h*(a-s-u)-t.insetLeft-t.insetRight;return(m*b+e.insetTop+e.insetBottom)/g+f+c}return!!(e||n)*Math.max(1,Math.min(60,d*l))*20+!!r*30+60}function o_(t,e){if(!e)throw new Error("aspectRatio requires ".concat(t," scale"));let{type:n,domain:r}=e,o;switch(n){case"linear":case"utc":case"time":o=Number;break;case"pow":{let f=e.scale.exponent();o=u=>Math.pow(u,f);break}case"log":o=Math.log;break;case"point":case"band":return r.length;default:throw new Error("unsupported ".concat(t," scale for aspectRatio: ").concat(n))}let[i,a]=Et(r);return Math.abs(o(a)-o(i))}function f_(t,e){let{fx:n,fy:r}=lf(t,e),o=n==null?void 0:n.scale.domain(),i=r==null?void 0:r.scale.domain();return o&&i?Af(o,i).map(([a,f],u)=>({x:a,y:f,i:u})):o?o.map((a,f)=>({x:a,i:f})):i?i.map((a,f)=>({y:a,i:f})):void 0}function u_(t,{x:e,y:n}){return e&&(e=Om(e)),n&&(n=Om(n)),t.filter(e&&n?r=>e.has(r.x)&&n.has(r.y):e?r=>e.has(r.x):r=>n.has(r.y)).sort(e&&n?(r,o)=>e.get(r.x)-e.get(o.x)||n.get(r.y)-n.get(o.y):e?(r,o)=>e.get(r.x)-e.get(o.x):(r,o)=>n.get(r.y)-n.get(o.y))}function zc(t,{fx:e,fy:n}){let r=me(t),o=e==null?void 0:e.value,i=n==null?void 0:n.value;return e&&n?qe(r,a=>(a.fx=o[a[0]],a.fy=i[a[0]],a),a=>o[a],a=>i[a]):e?qe(r,a=>(a.fx=o[a[0]],a),a=>o[a]):qe(r,a=>(a.fy=i[a[0]],a),a=>i[a])}function s_(t,e,{marginTop:n,marginLeft:r}){return t&&e?({x:o,y:i})=>"translate(".concat(t(o)-r,",").concat(e(i)-n,")"):t?({x:o})=>"translate(".concat(t(o)-r,",0)"):({y:o})=>"translate(0,".concat(e(o)-n,")")}function c_(t){let e=[],n=new Uint32Array(le(t,r=>r.length));for(let r of t){let o=0;for(let i of t)r!==i&&(n.set(i,o),o+=i.length);e.push(n.slice(0,o))}return e}var _4=new Map([["top",Rm],["right",Ym],["bottom",Lm],["left",Pm],["top-left",qc(Rm,Pm)],["top-right",qc(Rm,Ym)],["bottom-left",qc(Lm,Pm)],["bottom-right",qc(Lm,Ym)],["top-empty",w4],["right-empty",k4],["bottom-empty",M4],["left-empty",S4],["empty",T4]]);function l_(t){if(t==null)return null;let e=_4.get("".concat(t).toLowerCase());if(e)return e;throw new Error("invalid facet anchor: ".concat(t))}var a_=new WeakMap;function Om(t){let e=a_.get(t);return e||a_.set(t,e=new se(xt(t,(n,r)=>[n,r]))),e}function Sr(t,e){return Om(t).get(e)}function v4(t,e,n){return e=Vn(e),n=Vn(n),t.find(r=>Object.is(Vn(r.x),e)&&Object.is(Vn(r.y),n))}function Bc(t,e,n){var r;return(r=v4(t,e,n))==null?void 0:r.empty}function Rm(t,{y:e},{y:n}){return e?Sr(e,n)===0:!0}function Lm(t,{y:e},{y:n}){return e?Sr(e,n)===e.length-1:!0}function Pm(t,{x:e},{x:n}){return e?Sr(e,n)===0:!0}function Ym(t,{x:e},{x:n}){return e?Sr(e,n)===e.length-1:!0}function w4(t,{y:e},{x:n,y:r,empty:o}){if(o)return!1;if(!e)return;let i=Sr(e,r);if(i>0)return Bc(t,n,e[i-1])}function M4(t,{y:e},{x:n,y:r,empty:o}){if(o)return!1;if(!e)return;let i=Sr(e,r);if(i<e.length-1)return Bc(t,n,e[i+1])}function S4(t,{x:e},{x:n,y:r,empty:o}){if(o)return!1;if(!e)return;let i=Sr(e,n);if(i>0)return Bc(t,e[i-1],r)}function k4(t,{x:e},{x:n,y:r,empty:o}){if(o)return!1;if(!e)return;let i=Sr(e,n);if(i<e.length-1)return Bc(t,e[i+1],r)}function T4(t,e,{empty:n}){return n}function qc(t,e){return function(){return t.apply(null,arguments)&&e.apply(null,arguments)}}function Uc(t,{channels:{fx:e,fy:n},groups:r}){return e&&n?t.map(({x:o,y:i})=>{var a,f;return(f=(a=r.get(o))==null?void 0:a.get(i))!=null?f:[]}):e?t.map(({x:o})=>{var i;return(i=r.get(o))!=null?i:[]}):t.map(({y:o})=>{var i;return(i=r.get(o))!=null?i:[]})}var yt=class{constructor(e,n={},r={},o){let{facet:i="auto",facetAnchor:a,fx:f,fy:u,sort:c,dx:s=0,dy:l=0,margin:p=0,marginTop:d=p,marginRight:m=p,marginBottom:h=p,marginLeft:g=p,clip:b=o==null?void 0:o.clip,channels:x,tip:w,render:y}=r;if(this.data=e,this.sort=br(c)?c:null,this.initializer=Zn(r).initializer,this.transform=this.initializer?r.transform:fo(r).transform,i===null||i===!1?this.facet=null:(this.facet=ue(i===!0?"include":i,"facet",["auto","include","exclude","super"]),this.fx=e===ei&&typeof f=="string"?[f]:f,this.fy=e===ei&&typeof u=="string"?[u]:u),this.facetAnchor=l_(a),n=um(n),x!==void 0&&(n={...C4(x),...n}),o!==void 0&&(n={...fb(this,r,o),...n}),this.channels=Object.fromEntries(Object.entries(n).map(([v,_])=>{if(oi(_.value)){let{value:M,label:C=_.label,scale:E=_.scale}=_.value;_={..._,label:C,scale:E,value:M}}if(e===ei&&typeof _.value=="string"){let{value:M}=_;_={..._,value:[M]}}return[v,_]}).filter(([v,{value:_,optional:M}])=>{if(_!=null)return!0;if(M)return!1;throw new Error("missing channel value: ".concat(v))})),this.dx=+s,this.dy=+l,this.marginTop=+d,this.marginRight=+m,this.marginBottom=+h,this.marginLeft=+g,this.clip=Rc(b),this.tip=E4(w),this.facet==="super"){if(f||u)throw new Error("super-faceting cannot use fx or fy");for(let v in this.channels){let{scale:_}=n[v];if(!(_!=="x"&&_!=="y"))throw new Error("super-faceting cannot use x or y")}}y!=null&&(this.render=qm(y,this.render))}initialize(e,n,r){let o=Ht(this.data);e===void 0&&o!=null&&(e=[me(o)]);let i=e;this.transform!=null&&({facets:e,data:o}=this.transform(o,e,r),o=Ht(o)),e!==void 0&&(e.original=i);let a=tb(this.channels,o);return this.sort!=null&&nb(o,e,a,n,this.sort),{data:o,facets:e,channels:a}}filter(e,n,r){for(let o in n){let{filter:i=Pe}=n[o];if(i!==null){let a=r[o];e=e.filter(f=>i(a[f]))}}return e}project(e,n,r){for(let o in e)if(e[o].scale==="x"&&/^x|x$/.test(o)){let i=o.replace(/^x|x$/,"y");i in e&&e[i].scale==="y"&&mb(o,i,n,r.projection)}}scale(e,n,r){let o=eb(e,n);return r.projection&&this.project(e,o,r),o}};function Fm(...t){return t.plot=yt.prototype.plot,t}function qm(t,e){if(t==null)return e===null?void 0:e;if(e==null)return t===null?void 0:t;if(typeof t!="function")throw new TypeError("invalid render transform: ".concat(t));if(typeof e!="function")throw new TypeError("invalid render transform: ".concat(e));return function(n,r,o,i,a,f){return t.call(this,n,r,o,i,a,(u,c,s,l,p)=>e.call(this,u,c,s,l,p,f))}}function C4(t){return Object.fromEntries(Object.entries(um(t)).map(([e,n])=>(n=typeof n=="string"?{value:n,label:e}:Mn(n),n.filter===void 0&&n.scale==null&&(n={...n,filter:null}),[e,n])))}function E4(t){return t===!0?"xy":t===!1||t==null?null:typeof t=="string"?ue(t,"tip",["x","y","xy"]):t}function so(t,e){return(t==null?void 0:t.tip)===!0?{...t,tip:e}:Ve(t==null?void 0:t.tip)&&t.tip.pointer===void 0?{...t,tip:{...t.tip,pointer:e}}:t}var p_=new WeakMap;function zm(t,e,{x:n,y:r,px:o,py:i,maxRadius:a=40,channels:f,render:u,...c}={}){return a=+a,o!=null&&(n!=null||(n=null),f={...f,px:{value:o,scale:"x"}}),i!=null&&(r!=null||(r=null),f={...f,py:{value:i,scale:"y"}}),{x:n,y:r,channels:f,...c,render:qm(function(s,l,p,d,m,h){m={...m,pointerSticky:!1};let g=m.ownerSVGElement,{data:b}=m.getMarkState(this),x=p_.get(g);x||p_.set(g,x={sticky:!1,roots:[],renders:[]});let w=x.renders.push(F)-1,{x:y,y:v,fx:_,fy:M}=l,C=_?_(s.fx)-d.marginLeft:0,E=M?M(s.fy)-d.marginTop:0;y!=null&&y.bandwidth&&(C+=y.bandwidth()/2),v!=null&&v.bandwidth&&(E+=v.bandwidth()/2);let $=s.fi!=null,S;if($){let O=x.facetStates;O||(x.facetStates=O=new Map),S=O.get(this),S||O.set(this,S=new Map)}let[I,D]=Sn(this,d),{px:P,py:k}=p,Y=P?O=>P[O]:Um(p,I),tt=k?O=>k[O]:Xm(p,D),K,J,vt,at;function N(O,q){if($)if(at&&(at=cancelAnimationFrame(at)),O==null)S.delete(s.fi);else{S.set(s.fi,q),at=requestAnimationFrame(()=>{at=null;for(let[A,L]of S)if(L<q||L===q&&A<s.fi){O=null;break}F(O)});return}F(O)}function F(O){if(K===O&&vt===x.sticky)return;K=O,vt=m.pointerSticky=x.sticky;let q=K==null?[]:[K];$&&(q.fx=s.fx,q.fy=s.fy,q.fi=s.fi);let A=h(q,l,p,d,m);if(J){if($){let L=J.parentNode,U=J.getAttribute("transform"),T=A.getAttribute("transform");U?A.setAttribute("transform",U):A.removeAttribute("transform"),T?L.setAttribute("transform",T):L.removeAttribute("transform"),A.removeAttribute("aria-label"),A.removeAttribute("aria-description"),A.removeAttribute("aria-hidden")}J.replaceWith(A)}return x.roots[w]=J=A,K==null&&(S==null?void 0:S.size)>1||m.dispatchValue(K==null?null:b[K]),A}function Z(O){if(x.sticky||O.pointerType==="mouse"&&O.buttons===1)return;let[q,A]=Il(O);q-=C,A-=E;let L=q<d.marginLeft||q>d.width-d.marginRight?1:t,U=A<d.marginTop||A>d.height-d.marginBottom?1:e,T=null,ct=a*a;for(let j of s){let ft=L*(Y(j)-q),kt=U*(tt(j)-A),Wt=ft*ft+kt*kt;Wt<=ct&&(T=j,ct=Wt)}if(T!=null&&(t!==1||e!==1)){let j=Y(T)-q,ft=tt(T)-A;ct=j*j+ft*ft}N(T,ct)}function G(O){O.pointerType==="mouse"&&K!=null&&(x.sticky&&x.roots.some(q=>q==null?void 0:q.contains(O.target))||(x.sticky?(x.sticky=!1,x.renders.forEach(q=>q(null))):(x.sticky=!0,F(K)),O.stopImmediatePropagation()))}function V(O){O.pointerType==="mouse"&&(x.sticky||N(null))}return g.addEventListener("pointerenter",Z),g.addEventListener("pointermove",Z),g.addEventListener("pointerdown",G),g.addEventListener("pointerleave",V),F(null)},u)}}function d_(t){return zm(1,1,t)}function m_(t){return zm(1,.01,t)}function Bm(t){return zm(.01,1,t)}function Um({x1:t,x2:e,x:n=t},r){return t&&e?o=>(t[o]+e[o])/2:n?o=>n[o]:()=>r}function Xm({y1:t,y2:e,y:n=t},r){return t&&e?o=>(t[o]+e[o])/2:n?o=>n[o]:()=>r}function Xc(t){return kn(t)&&t.interval===void 0?void 0:"tabular-nums"}function h_(t,e){let{label:n=t.label,tickSize:r=6,width:o=240,height:i=44+r,marginTop:a=18,marginRight:f=0,marginBottom:u=16+r,marginLeft:c=0,style:s,ticks:l=(o-c-f)/64,tickFormat:p,fontVariant:d=Xc(t),round:m=!0,opacity:h,className:g}=e,b=pi(e);g=ci(g),h=It(h)[1],p===null&&(p=()=>null);let x=ot("svg",b).attr("class","".concat(g,"-ramp")).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",o).attr("height",i).attr("viewBox","0 0 ".concat(o," ").concat(i)).call(I=>I.append("style").text(".".concat(g,"-ramp {\n  display: block;\n  height: auto;\n  height: intrinsic;\n  max-width: 100%;\n  overflow: visible;\n}\n.").concat(g,"-ramp text {\n  white-space: pre;\n}"))).call(li,s),w=I=>I.selectAll(".tick line").attr("y1",a+u-i),y,v=m?(I,D)=>I.rangeRound(D):(I,D)=>I.range(D),{type:_,domain:M,range:C,interpolate:E,scale:$,pivot:S}=t;if(E){let I=C===void 0?E:on(E.length===1?cf(E):E,C);y=v($.copy(),re(wt(c,o-f),Math.min(M.length+(S!==void 0),C===void 0?1/0:C.length)));let D=256,P=b.document.createElement("canvas");P.width=D,P.height=1;let k=P.getContext("2d");for(let Y=0,tt=D-1;Y<D;++Y)k.fillStyle=I(Y/tt),k.fillRect(Y,0,1,1);x.append("image").attr("opacity",h).attr("x",c).attr("y",a).attr("width",o-c-f).attr("height",i-a-u).attr("preserveAspectRatio","none").attr("xlink:href",P.toDataURL())}else if(_==="threshold"){let I=M,D=p===void 0?P=>P:typeof p=="string"?$e(p):p;y=v(Gr().domain([-1,C.length-1]),[c,o-f]),x.append("g").attr("fill-opacity",h).selectAll().data(C).enter().append("rect").attr("x",(P,k)=>y(k-1)).attr("y",a).attr("width",(P,k)=>y(k)-y(k-1)).attr("height",i-a-u).attr("fill",P=>P),l=xt(I,(P,k)=>k),p=P=>D(I[P],P)}else y=v(cr().domain(M),[c,o-f]),x.append("g").attr("fill-opacity",h).selectAll().data(M).enter().append("rect").attr("x",y).attr("y",a).attr("width",Math.max(0,y.bandwidth()-1)).attr("height",i-a-u).attr("fill",$),w=()=>{};return x.append("g").attr("transform","translate(0,".concat(i-u,")")).call(Tl(y).ticks(Array.isArray(l)?null:l,typeof p=="string"?p:void 0).tickFormat(typeof p=="function"?p:void 0).tickSize(r).tickValues(Array.isArray(l)?l:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",Nt(d,"normal")).call(w).call(I=>I.select(".domain").remove()),n!==void 0&&x.append("text").attr("x",c).attr("y",a-6).attr("fill","currentColor").attr("font-weight","bold").text(n),x.node()}var Hm=Math.PI/180;function pf(t,{marker:e,markerStart:n=e,markerMid:r=e,markerEnd:o=e}={}){t.markerStart=Wm(n),t.markerMid=Wm(r),t.markerEnd=Wm(o)}function Wm(t){if(t==null||t===!1)return null;if(t===!0)return x_;if(typeof t=="function")return t;switch("".concat(t).toLowerCase()){case"none":return null;case"arrow":return g_("auto");case"arrow-reverse":return g_("auto-start-reverse");case"dot":return A4;case"circle":case"circle-fill":return x_;case"circle-stroke":return $4;case"tick":return Gm("auto");case"tick-x":return Gm(90);case"tick-y":return Gm(0)}throw new Error("invalid marker: ".concat(t))}function g_(t){return(e,n)=>ot("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",t).attr("fill","none").attr("stroke",e).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(r=>r.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function A4(t,e){return ot("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","none").call(n=>n.append("circle").attr("r",2.5)).node()}function x_(t,e){return ot("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","var(--plot-background)").attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function $4(t,e){return ot("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","var(--plot-background)").attr("stroke",t).attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function Gm(t){return(e,n)=>ot("svg:marker",n).attr("viewBox","-3 -3 6 6").attr("markerWidth",6).attr("markerHeight",6).attr("orient",t).attr("stroke",e).call(r=>r.append("path").attr("d","M0,-3v6")).node()}var I4=0;function Vm(t,e,{stroke:n},r){return b_(t,e,n&&(o=>n[o]),r)}function y_(t,e,{stroke:n},r){return b_(t,e,n&&(([o])=>n[o]),r)}function b_(t,{markerStart:e,markerMid:n,markerEnd:r,stroke:o},i=()=>o,a){let f=new Map;function u(c){return function(s){let l=i(s),p=f.get(c);p||f.set(c,p=new Map);let d=p.get(l);if(!d){let m=this.parentNode.insertBefore(c(l,a),this),h="plot-marker-".concat(++I4);m.setAttribute("id",h),p.set(l,d="url(#".concat(h,")"))}return d}}e&&t.attr("marker-start",u(e)),n&&t.attr("marker-mid",u(n)),r&&t.attr("marker-end",u(r))}function df({inset:t,insetLeft:e,insetRight:n,...r}={}){return[e,n]=__(t,e,n),{inset:t,insetLeft:e,insetRight:n,...r}}function Hc({inset:t,insetTop:e,insetBottom:n,...r}={}){return[e,n]=__(t,e,n),{inset:t,insetTop:e,insetBottom:n,...r}}function __(t,e,n){return t===void 0&&e===void 0&&n===void 0?ne?[1,0]:[.5,.5]:[e,n]}function v_(t,{interval:e}){return t={...Mn(t)},t.interval=Cc(t.interval===void 0?e:t.interval),t}function w_(t,e,n,r){let{[t]:o,["".concat(t,"1")]:i,["".concat(t,"2")]:a}=n,{value:f,interval:u}=v_(o,n);if(f==null||u==null&&!r)return n;let c=je(o);if(u==null){let d,m={transform:h=>d||(d=Mt(h,f)),label:c};return{...n,[t]:void 0,["".concat(t,"1")]:i===void 0?m:i,["".concat(t,"2")]:a===void 0&&!(i===a&&r)?m:a}}let s,l;function p(d){return l!==void 0&&d===s?l:l=xt(Mt(s=d,f),m=>u.floor(m))}return e({...n,[t]:void 0,["".concat(t,"1")]:i===void 0?{transform:p,label:c}:i,["".concat(t,"2")]:a===void 0?{transform:d=>p(d).map(m=>u.offset(m)),label:c}:a})}function M_(t,e,n){let{[t]:r}=n,{value:o,interval:i}=v_(r,n);return o==null||i==null?n:e({...n,[t]:{label:je(r),transform:a=>{let f=xt(Mt(a,o),c=>i.floor(c)),u=f.map(c=>i.offset(c));return f.map(Rt(f)?(c,s)=>c==null||isNaN(c=+c)||(s=u[s],s==null)||isNaN(s=+s)?void 0:new Date((c+s)/2):(c,s)=>c==null||(s=u[s],s==null)?NaN:(+c+ +s)/2)}}})}function jm(t={}){return w_("x",df,t)}function Wc(t={}){return w_("y",Hc,t)}function S_(t={}){return M_("x",df,t)}function k_(t={}){return M_("y",Hc,t)}var T_={ariaLabel:"rule",fill:null,stroke:"currentColor"},Zm=class extends yt{constructor(e,n={}){let{x:r,y1:o,y2:i,inset:a=0,insetTop:f=a,insetBottom:u=a}=n;super(e,{x:{value:r,scale:"x",optional:!0},y1:{value:o,scale:"y",optional:!0},y2:{value:i,scale:"y",optional:!0}},so(n,"x"),T_),this.insetTop=mt(f),this.insetBottom=mt(u),pf(this,n)}render(e,n,r,o,i){let{x:a,y:f}=n,{x:u,y1:c,y2:s}=r,{width:l,height:p,marginTop:d,marginRight:m,marginLeft:h,marginBottom:g}=o,{insetTop:b,insetBottom:x}=this;return ot("svg:g",i).call(Lt,this,o,i).call(Pt,this,{x:u&&a},ne,0).call(w=>w.selectAll().data(e).enter().append("line").call(Dt,this).attr("x1",u?y=>u[y]:(h+l-m)/2).attr("x2",u?y=>u[y]:(h+l-m)/2).attr("y1",c&&!Mr(f)?y=>c[y]+b:d+b).attr("y2",s&&!Mr(f)?f.bandwidth?y=>s[y]+f.bandwidth()-x:y=>s[y]-x:p-g-x).call(Me,this,r).call(Vm,this,r,i)).node()}},Km=class extends yt{constructor(e,n={}){let{x1:r,x2:o,y:i,inset:a=0,insetRight:f=a,insetLeft:u=a}=n;super(e,{y:{value:i,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:o,scale:"x",optional:!0}},so(n,"y"),T_),this.insetRight=mt(f),this.insetLeft=mt(u),pf(this,n)}render(e,n,r,o,i){let{x:a,y:f}=n,{y:u,x1:c,x2:s}=r,{width:l,height:p,marginTop:d,marginRight:m,marginLeft:h,marginBottom:g}=o,{insetLeft:b,insetRight:x}=this;return ot("svg:g",i).call(Lt,this,o,i).call(Pt,this,{y:u&&f},0,ne).call(w=>w.selectAll().data(e).enter().append("line").call(Dt,this).attr("x1",c&&!Mr(a)?y=>c[y]+b:h+b).attr("x2",s&&!Mr(a)?a.bandwidth?y=>s[y]+a.bandwidth()-x:y=>s[y]-x:l-m-x).attr("y1",u?y=>u[y]:(d+p-g)/2).attr("y2",u?y=>u[y]:(d+p-g)/2).call(Me,this,r).call(Vm,this,r,i)).node()}};function C_(t,e){let{x:n=dt,y:r,y1:o,y2:i,...a}=Wc(e);return[o,i]=A_(r,o,i),new Zm(t,{...a,x:n,y1:o,y2:i})}function E_(t,e){let{y:n=dt,x:r,x1:o,x2:i,...a}=jm(e);return[o,i]=A_(r,o,i),new Km(t,{...a,y:n,x1:o,x2:i})}function A_(t,e,n){if(t==null){if(e===void 0){if(n!==void 0)return[0,n]}else if(n===void 0)return[0,e]}else{if(e===void 0)return n===void 0?[0,t]:[t,n];if(n===void 0)return[t,e]}return[e,n]}function yi(t,...e){let n=e.length;for(let r=0,o=!0;r<n;++r)typeof e[r]!="function"&&(o&&(t=t.slice(),o=!1),t.splice(r,2,t[r]+e[r]+t[r+1]),e.splice(r,1),--r,--n);return r=>{let o=t[0];for(let i=0;i<n;++i)o+=e[i](r)+t[i+1];return o}}var N4={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},L_="\xAD",R_,mf=class extends yt{constructor(e,n={}){let{x:r,y:o,text:i=xe(e)&&Ec(e)?dt:bn,frameAnchor:a,textAnchor:f=/right$/i.test(a)?"end":/left$/i.test(a)?"start":"middle",lineAnchor:u=/^top/i.test(a)?"top":/^bottom/i.test(a)?"bottom":"middle",lineHeight:c=1,lineWidth:s=1/0,textOverflow:l,monospace:p,fontFamily:d=p?"ui-monospace, monospace":void 0,fontSize:m,fontStyle:h,fontVariant:g,fontWeight:b,rotate:x}=n,[w,y]=It(x,0),[v,_]=P4(m);if(super(e,{x:{value:r,scale:"x",optional:!0},y:{value:o,scale:"y",optional:!0},fontSize:{value:v,optional:!0},rotate:{value:Dy(w),optional:!0},text:{value:i,filter:Za,optional:!0}},n,N4),this.rotate=y,this.textAnchor=Nt(f,"middle"),this.lineAnchor=ue(u,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+c,this.lineWidth=+s,this.textOverflow=Jm(l),this.monospace=!!p,this.fontFamily=Xt(d),this.fontSize=_,this.fontStyle=Xt(h),this.fontVariant=Xt(g),this.fontWeight=Xt(b),this.frameAnchor=wr(a),!(this.lineWidth>=0))throw new Error("invalid lineWidth: ".concat(s));this.splitLines=nh(this),this.clipLine=rh(this)}render(e,n,r,o,i){let{x:a,y:f}=n,{x:u,y:c,rotate:s,text:l,title:p,fontSize:d}=r,{rotate:m}=this,[h,g]=Sn(this,o);return ot("svg:g",i).call(Lt,this,o,i).call(eh,this,l,o).call(Pt,this,{x:u&&a,y:c&&f}).call(b=>b.selectAll().data(e).enter().append("text").call(Dt,this).call(D4,this,l,p).attr("transform",yi(R_||(R_=bt(["translate(",",",")",""])),u?x=>u[x]:h,c?x=>c[x]:g,s?x=>" rotate(".concat(s[x],")"):m?" rotate(".concat(m,")"):"")).call(et,"font-size",d&&(x=>d[x])).call(Me,this,r)).node()}};function Jm(t){return t==null?null:ue(t,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function D4(t,e,n,r){if(!n)return;let{lineAnchor:o,lineHeight:i,textOverflow:a,splitLines:f,clipLine:u}=e;t.each(function(c){var d;let s=f((d=Ze(n[c]))!=null?d:"").map(u),l=s.length,p=o==="top"?.71:o==="bottom"?1-l:(164-l*100)/200;if(l>1){let m=0;for(let h=0;h<l;++h){if(++m,!s[h])continue;let g=this.ownerDocument.createElementNS(Ce.svg,"tspan");g.setAttribute("x",0),h===m-1?g.setAttribute("y","".concat((p+h)*i,"em")):g.setAttribute("dy","".concat(m*i,"em")),g.textContent=s[h],this.appendChild(g),m=0}}else p&&this.setAttribute("y","".concat(p*i,"em")),this.textContent=s[0];if(a&&!r&&s[0]!==n[c]){let m=this.ownerDocument.createElementNS(Ce.svg,"title");m.textContent=n[c],this.appendChild(m)}})}function th(t,{x:e,y:n,...r}={}){return r.frameAnchor===void 0&&([e,n]=vn(e,n)),new mf(t,{...r,x:e,y:n})}function P_(t,{x:e=dt,...n}={}){return new mf(t,k_({...n,x:e}))}function Y_(t,{y:e=dt,...n}={}){return new mf(t,S_({...n,y:e}))}function eh(t,e,n){et(t,"text-anchor",e.textAnchor),et(t,"font-family",e.fontFamily),et(t,"font-size",e.fontSize),et(t,"font-style",e.fontStyle),et(t,"font-variant",e.fontVariant===void 0?R4(n):e.fontVariant),et(t,"font-weight",e.fontWeight)}function R4(t){return t&&(Py(t)||Rt(t))?"tabular-nums":void 0}var L4=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function P4(t){return t==null||typeof t=="number"?[void 0,t]:typeof t!="string"?[t,void 0]:(t=t.trim().toLowerCase(),L4.has(t)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(t)?[void 0,t]:[t,void 0])}function Y4(t,e,n){let r=[],o,i=0;for(let[a,f,u]of O4(t)){if(o===void 0&&(o=a),i>o&&n(t,o,f)>e&&(r.push(t.slice(o,i)+(t[i-1]===L_?"-":"")),o=a),u){r.push(t.slice(o,f)),o=void 0;continue}i=f}return r}function*O4(t){let e=0,n=0,r=t.length;for(;n<r;){let o=1;switch(t[n]){case L_:case"-":++n,yield[e,n,!1],e=n;break;case" ":for(yield[e,n,!1];t[++n]===" ";);e=n;break;case"\r":t[n+1]==="\n"&&++o;case"\n":yield[e,n,!0],n+=o,e=n;break;default:++n;break}}yield[e,n,!0]}var $_={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"\u2018":31,"\u2019":31,"\u201C":47,"\u201D":47,"\u2026":82};function Gc(t,e=0,n=t.length){var o;let r=0;for(let i=e;i<n;i=bi(t,i))r+=(o=$_[t[i]])!=null?o:F_(t,i)?120:$_.e;return r}function Vc(t,e=0,n=t.length){let r=0;for(let o=e;o<n;o=bi(t,o))r+=F_(t,o)?126:63;return r}function nh({monospace:t,lineWidth:e,textOverflow:n}){if(n!=null||e==1/0)return i=>i.split(/\r\n?|\n/g);let r=t?Vc:Gc,o=e*100;return i=>Y4(i,o,r)}function rh({monospace:t,lineWidth:e,textOverflow:n}){if(n==null||e==1/0)return i=>i;let r=t?Vc:Gc,o=e*100;switch(n){case"clip-start":return i=>N_(i,o,r,"");case"clip-end":return i=>I_(i,o,r,"");case"ellipsis-start":return i=>N_(i,o,r,co);case"ellipsis-middle":return i=>F4(i,o,r,co);case"ellipsis-end":return i=>I_(i,o,r,co)}}var co="\u2026";function lo(t,e,n,r){let o=[],i=0;for(let a=0,f=0,u=t.length;a<u;a=f){f=bi(t,a);let c=n(t,a,f);if(i+c>e){for(i+=r;i>e&&a>0;)f=a,a=o.pop(),i-=n(t,a,f);return[a,e-i]}i+=c,o.push(a)}return[-1,0]}function I_(t,e,n,r){t=t.trim();let o=n(r),[i]=lo(t,e,n,o);return i<0?t:t.slice(0,i).trimEnd()+r}function F4(t,e,n,r){t=t.trim();let o=n(t);if(o<=e)return t;let i=n(r)/2,[a,f]=lo(t,e/2,n,i),[u]=lo(t,o-e/2-f+i,n,-i);return u<0?r:t.slice(0,a).trimEnd()+r+t.slice(bi(t,u)).trimStart()}function N_(t,e,n,r){t=t.trim();let o=n(t);if(o<=e)return t;let i=n(r),[a]=lo(t,o-e+i,n,-i);return a<0?r:r+t.slice(bi(t,a)).trimStart()}var Qm=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,D_=new RegExp("\\p{Extended_Pictographic}","uy");function bi(t,e){return e+=q4(t,e)?2:1,B4(t,e)&&(e=Qm.lastIndex),z4(t,e)?bi(t,e+1):e}function O_(t,e){return t.charCodeAt(e)<128}function q4(t,e){let n=t.charCodeAt(e);if(n>=55296&&n<56320){let r=t.charCodeAt(e+1);return r>=56320&&r<57344}return!1}function z4(t,e){return t.charCodeAt(e)===8205}function B4(t,e){return O_(t,e)?!1:(Qm.lastIndex=e,Qm.test(t))}function F_(t,e){return O_(t,e)?!1:(D_.lastIndex=e,D_.test(t))}var U4={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},z_=3.5,X4=z_*5,B_={draw(t,e,n){let r=e*n/X4;t.moveTo(0,0),t.lineTo(0,-e),t.moveTo(-r,r-e),t.lineTo(0,-e),t.lineTo(r,r-e)}},H4={draw(t,e,n){t.moveTo(-n,0),t.lineTo(0,-e),t.lineTo(n,0)}},W4=new Map([["arrow",B_],["spike",H4]]);function G4(t){return t&&typeof t.draw=="function"}function V4(t){if(G4(t))return t;let e=W4.get("".concat(t).toLowerCase());if(e)return e;throw new Error("invalid shape: ".concat(t))}var q_,jc=class extends yt{constructor(e,n={}){let{x:r,y:o,r:i=z_,length:a,rotate:f,shape:u=B_,anchor:c="middle",frameAnchor:s}=n,[l,p]=It(a,12),[d,m]=It(f,0);super(e,{x:{value:r,scale:"x",optional:!0},y:{value:o,scale:"y",optional:!0},length:{value:l,scale:"length",optional:!0},rotate:{value:d,optional:!0}},n,U4),this.r=+i,this.length=p,this.rotate=m,this.shape=V4(u),this.anchor=ue(c,"anchor",["start","middle","end"]),this.frameAnchor=wr(s)}render(e,n,r,o,i){let{x:a,y:f}=n,{x:u,y:c,length:s,rotate:l}=r,{length:p,rotate:d,anchor:m,shape:h,r:g}=this,[b,x]=Sn(this,o);return ot("svg:g",i).call(Lt,this,o,i).call(Pt,this,{x:u&&a,y:c&&f}).call(w=>w.selectAll().data(e).enter().append("path").call(Dt,this).attr("transform",yi(q_||(q_=bt(["translate(",",",")","",""])),u?y=>u[y]:b,c?y=>c[y]:x,l?y=>" rotate(".concat(l[y],")"):d?" rotate(".concat(d,")"):"",m==="start"?"":m==="end"?s?y=>" translate(0,".concat(s[y],")"):" translate(0,".concat(p,")"):s?y=>" translate(0,".concat(s[y]/2,")"):" translate(0,".concat(p/2,")"))).attr("d",s?y=>{let v=He();return h.draw(v,s[y],g),v}:(()=>{let y=He();return h.draw(y,p,g),y})()).call(Me,this,r)).node()}};function U_(t,e={}){let{x:n=dt,...r}=e;return new jc(t,{...r,x:n})}function X_(t,e={}){let{y:n=dt,...r}=e;return new jc(t,{...r,y:n})}function kr(t,e){return arguments.length<2&&!xe(t)&&(e=t,t=null),e===void 0&&(e={}),[t,e]}function Zc({anchor:t}={},e){return t===void 0?e[0]:ue(t,"anchor",e)}function H_(t){return Zc(t,["left","right"])}function W_(t){return Zc(t,["right","left"])}function G_(t){return Zc(t,["bottom","top"])}function V_(t){return Zc(t,["top","bottom"])}function ih(){let[t,e]=kr(...arguments);return K_("y",H_(e),t,e)}function j_(){let[t,e]=kr(...arguments);return K_("fy",W_(e),t,e)}function ah(){let[t,e]=kr(...arguments);return Q_("x",G_(e),t,e)}function Z_(){let[t,e]=kr(...arguments);return Q_("fx",V_(e),t,e)}function K_(t,e,n,{color:r="currentColor",opacity:o=1,stroke:i=r,strokeOpacity:a=o,strokeWidth:f=1,fill:u=r,fillOpacity:c=o,textAnchor:s,textStroke:l,textStrokeOpacity:p,textStrokeWidth:d,tickSize:m=t==="y"?6:0,tickPadding:h,tickRotate:g,x:b,margin:x,marginTop:w=x===void 0?20:x,marginRight:y=x===void 0?e==="right"?40:0:x,marginBottom:v=x===void 0?20:x,marginLeft:_=x===void 0?e==="left"?40:0:x,label:M,labelAnchor:C,labelArrow:E,labelOffset:$,...S}){return m=mt(m),h=mt(h),g=mt(g),C!==void 0&&(C=ue(C,"labelAnchor",["center","top","bottom"])),E=c2(E),Fm(m&&!zt(i)?j4(t,e,n,{stroke:i,strokeOpacity:a,strokeWidth:f,tickSize:m,tickPadding:h,tickRotate:g,x:b,...S}):null,zt(u)?null:K4(t,e,n,{fill:u,fillOpacity:c,stroke:l,strokeOpacity:p,strokeWidth:d,textAnchor:s,tickSize:m,tickPadding:h,tickRotate:g,x:b,marginTop:w,marginRight:y,marginBottom:v,marginLeft:_,...S}),!zt(u)&&M!==null?th([],a2({fill:u,fillOpacity:c,...S},function(I,D,P,k,Y){let tt=k[t],{marginTop:K,marginRight:J,marginBottom:vt,marginLeft:at}=t==="y"&&Y.inset||Y,N=C!=null?C:tt.bandwidth?"center":"top",F=$!=null?$:(e==="right"?J:at)-3;return N==="center"?(this.textAnchor=void 0,this.lineAnchor=e==="right"?"bottom":"top",this.frameAnchor=e,this.rotate=-90):(this.textAnchor=e==="right"?"end":"start",this.lineAnchor=N,this.frameAnchor="".concat(N,"-").concat(e),this.rotate=0),this.dy=N==="top"?3-K:N==="bottom"?vt-3:0,this.dx=e==="right"?F:-F,this.ariaLabel="".concat(t,"-axis label"),{facets:[[0]],channels:{text:{value:[s2(t,tt,{anchor:e,label:M,labelAnchor:N,labelArrow:E})]}}}})):null)}function Q_(t,e,n,{color:r="currentColor",opacity:o=1,stroke:i=r,strokeOpacity:a=o,strokeWidth:f=1,fill:u=r,fillOpacity:c=o,textAnchor:s,textStroke:l,textStrokeOpacity:p,textStrokeWidth:d,tickSize:m=t==="x"?6:0,tickPadding:h,tickRotate:g,y:b,margin:x,marginTop:w=x===void 0?e==="top"?30:0:x,marginRight:y=x===void 0?20:x,marginBottom:v=x===void 0?e==="bottom"?30:0:x,marginLeft:_=x===void 0?20:x,label:M,labelAnchor:C,labelArrow:E,labelOffset:$,...S}){return m=mt(m),h=mt(h),g=mt(g),C!==void 0&&(C=ue(C,"labelAnchor",["center","left","right"])),E=c2(E),Fm(m&&!zt(i)?Z4(t,e,n,{stroke:i,strokeOpacity:a,strokeWidth:f,tickSize:m,tickPadding:h,tickRotate:g,y:b,...S}):null,zt(u)?null:Q4(t,e,n,{fill:u,fillOpacity:c,stroke:l,strokeOpacity:p,strokeWidth:d,textAnchor:s,tickSize:m,tickPadding:h,tickRotate:g,y:b,marginTop:w,marginRight:y,marginBottom:v,marginLeft:_,...S}),!zt(u)&&M!==null?th([],a2({fill:u,fillOpacity:c,...S},function(I,D,P,k,Y){let tt=k[t],{marginTop:K,marginRight:J,marginBottom:vt,marginLeft:at}=t==="x"&&Y.inset||Y,N=C!=null?C:tt.bandwidth?"center":"right",F=$!=null?$:(e==="top"?K:vt)-3;return N==="center"?(this.frameAnchor=e,this.textAnchor=void 0):(this.frameAnchor="".concat(e,"-").concat(N),this.textAnchor=N==="right"?"end":"start"),this.lineAnchor=e,this.dy=e==="top"?-F:F,this.dx=N==="right"?J-3:N==="left"?3-at:0,this.ariaLabel="".concat(t,"-axis label"),{facets:[[0]],channels:{text:{value:[s2(t,tt,{anchor:e,label:M,labelAnchor:N,labelArrow:E})]}}}})):null)}function j4(t,e,n,{strokeWidth:r=1,strokeLinecap:o=null,strokeLinejoin:i=null,facetAnchor:a=e+(t==="y"?"-empty":""),frameAnchor:f=e,tickSize:u,inset:c=0,insetLeft:s=c,insetRight:l=c,dx:p=0,y:d=t==="y"?void 0:null,...m}){return _i(X_,t,e,"".concat(t,"-axis tick"),n,{strokeWidth:r,strokeLinecap:o,strokeLinejoin:i,facetAnchor:a,frameAnchor:f,y:d,...m,dx:e==="left"?+p-ne+ +s:+p+ne-l,anchor:"start",length:u,shape:e==="left"?n7:r7})}function Z4(t,e,n,{strokeWidth:r=1,strokeLinecap:o=null,strokeLinejoin:i=null,facetAnchor:a=e+(t==="x"?"-empty":""),frameAnchor:f=e,tickSize:u,inset:c=0,insetTop:s=c,insetBottom:l=c,dy:p=0,x:d=t==="x"?void 0:null,...m}){return _i(U_,t,e,"".concat(t,"-axis tick"),n,{strokeWidth:r,strokeLinejoin:i,strokeLinecap:o,facetAnchor:a,frameAnchor:f,x:d,...m,dy:e==="bottom"?+p-ne-l:+p+ne+ +s,anchor:"start",length:u,shape:e==="bottom"?t7:e7})}function K4(t,e,n,{facetAnchor:r=e+(t==="y"?"-empty":""),frameAnchor:o=e,tickSize:i,tickRotate:a=0,tickPadding:f=Math.max(3,9-i)+(Math.abs(a)>60?4*Math.cos(a*Hm):0),text:u,textAnchor:c=Math.abs(a)>60?"middle":e==="left"?"end":"start",lineAnchor:s=a>60?"top":a<-60?"bottom":"middle",fontVariant:l,inset:p=0,insetLeft:d=p,insetRight:m=p,dx:h=0,y:g=t==="y"?void 0:null,...b}){return _i(Y_,t,e,"".concat(t,"-axis tick label"),n,{facetAnchor:r,frameAnchor:o,text:u,textAnchor:c,lineAnchor:s,fontVariant:l,rotate:a,y:g,...b,dx:e==="left"?+h-i-f+ +d:+h+ +i+ +f-m},function(x,w,y,v,_){l===void 0&&(this.fontVariant=u2(x)),u===void 0&&(_.text=f2(x,w,y,v,e))})}function Q4(t,e,n,{facetAnchor:r=e+(t==="x"?"-empty":""),frameAnchor:o=e,tickSize:i,tickRotate:a=0,tickPadding:f=Math.max(3,9-i)+(Math.abs(a)>=10?4*Math.cos(a*Hm):0),text:u,textAnchor:c=Math.abs(a)>=10?a<0^e==="bottom"?"start":"end":"middle",lineAnchor:s=Math.abs(a)>=10?"middle":e==="bottom"?"top":"bottom",fontVariant:l,inset:p=0,insetTop:d=p,insetBottom:m=p,dy:h=0,x:g=t==="x"?void 0:null,...b}){return _i(P_,t,e,"".concat(t,"-axis tick label"),n,{facetAnchor:r,frameAnchor:o,text:u===void 0?null:u,textAnchor:c,lineAnchor:s,fontVariant:l,rotate:a,x:g,...b,dy:e==="bottom"?+h+ +i+ +f-m:+h-i-f+ +d},function(x,w,y,v,_){l===void 0&&(this.fontVariant=u2(x)),u===void 0&&(_.text=f2(x,w,y,v,e))})}function J_(){let[t,e]=kr(...arguments);return r2("y",H_(e),t,e)}function t2(){let[t,e]=kr(...arguments);return r2("fy",W_(e),t,e)}function e2(){let[t,e]=kr(...arguments);return o2("x",G_(e),t,e)}function n2(){let[t,e]=kr(...arguments);return o2("fx",V_(e),t,e)}function r2(t,e,n,{y:r=t==="y"?void 0:null,x:o=null,x1:i=e==="left"?o:null,x2:a=e==="right"?o:null,...f}){return _i(E_,t,e,"".concat(t,"-grid"),n,{y:r,x1:i,x2:a,...i2(f)})}function o2(t,e,n,{x:r=t==="x"?void 0:null,y:o=null,y1:i=e==="top"?o:null,y2:a=e==="bottom"?o:null,...f}){return _i(C_,t,e,"".concat(t,"-grid"),n,{x:r,y1:i,y2:a,...i2(f)})}function i2({color:t="currentColor",opacity:e=.1,stroke:n=t,strokeOpacity:r=e,strokeWidth:o=1,...i}){return{stroke:n,strokeOpacity:r,strokeWidth:o,...i}}function a2({fill:t,fillOpacity:e,fontFamily:n,fontSize:r,fontStyle:o,fontVariant:i,fontWeight:a,monospace:f,pointerEvents:u,shapeRendering:c,clip:s=!1},l){return[,t]=ge(t),[,e]=It(e),{facet:"super",x:null,y:null,fill:t,fillOpacity:e,fontFamily:n,fontSize:r,fontStyle:o,fontVariant:i,fontWeight:a,monospace:f,pointerEvents:u,shapeRendering:c,clip:s,initializer:l}}function _i(t,e,n,r,o,i,a){let f;function u(l,p,d,m,h,g){var E,$,S;let b=l==null&&(e==="fx"||e==="fy"),{[e]:x}=m;if(!x)throw new Error("missing scale: ".concat(e));let w=x.domain(),{interval:y,ticks:v,tickFormat:_,tickSpacing:M=e==="x"?80:35}=i;if(typeof v=="string"&&l2(x)&&(y=v,v=void 0),v===void 0&&(v=(E=wn(y,x.type))!=null?E:J4(x,M)),l==null){if(xe(v))l=Ht(v);else if(vr(v))l=oh(v,...Et(w));else if(x.interval){let I=x.interval;if(x.ticks){let[D,P]=Et(w),k=(P-D)/I[ti];I=($=Jd(I,k/v))!=null?$:I,l=oh(I,D,P)}else{l=w;let D=l.length;I=(S=Jd(I,D/v))!=null?S:I,I!==x.interval&&(l=oh(I,...Et(l)))}if(I===x.interval){let D=Math.round(l.length/v);D>1&&(l=l.filter((P,k)=>k%D===0))}}else x.ticks?l=x.ticks(v):l=w;if(!x.ticks&&l.length&&l!==w){let I=new Fe(w);l=l.filter(D=>I.has(D)),l.length||ye("Warning: the ".concat(e,"-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?"))}e==="y"||e==="x"?p=[me(l)]:f[e]={scale:e,value:dt}}a==null||a.call(this,x,l,v,_,f);let C=Object.fromEntries(Object.entries(f).map(([I,D])=>[I,{...D,value:Mt(l,D.value)}]));return b&&(p=g.filterFacets(l,C)),{data:l,facets:p,channels:C}}let c=Zn(i).initializer,s=t(o,Zn({...i,initializer:u},c));return o==null?(f=s.channels,s.channels={}):f={},s.ariaLabel=r,s.clip===void 0&&(s.clip=!1),s}function J4(t,e){let[n,r]=Et(t.range());return(r-n)/e}function f2(t,e,n,r,o){return{value:hf(t,e,n,r,o)}}function hf(t,e,n,r,o){var i;return typeof r=="function"?r:r===void 0&&e&&Rt(e)?(i=by(t.type,e,o))!=null?i:Ze:t.tickFormat?t.tickFormat(typeof n=="number"?n:null,r):r===void 0?Ze:typeof r=="string"?(Rt(t.domain())?gn:$e)(r):xr(r)}function oh(t,e,n){return t.range(e,t.offset(t.floor(n)))}var t7={draw(t,e){t.moveTo(0,0),t.lineTo(0,e)}},e7={draw(t,e){t.moveTo(0,0),t.lineTo(0,-e)}},n7={draw(t,e){t.moveTo(0,0),t.lineTo(-e,0)}},r7={draw(t,e){t.moveTo(0,0),t.lineTo(e,0)}};function u2(t){return t.bandwidth&&!t.interval?void 0:"tabular-nums"}function s2(t,e,{anchor:n,label:r=e.label,labelAnchor:o,labelArrow:i}={}){if(!(r==null||r.inferred&&l2(e)&&/^(date|time|year)$/i.test(r))){if(r=String(r),i==="auto"&&(i=(!e.bandwidth||e.interval)&&!/[↑↓→←]/.test(r)),!i)return r;if(i===!0){let a=t_(e);a&&(i=/x$/.test(t)||o==="center"?/x$/.test(t)===a<0?"left":"right":a<0?"up":"down")}switch(i){case"left":return"\u2190 ".concat(r);case"right":return"".concat(r," \u2192");case"up":return n==="right"?"".concat(r," \u2191"):"\u2191 ".concat(r);case"down":return n==="right"?"".concat(r," \u2193"):"\u2193 ".concat(r)}return r}}function c2(t="auto"){return zt(t)?!1:typeof t=="boolean"?t:ue(t,"labelArrow",["auto","up","right","down","left"])}function l2(t){return Rt(t.domain())}function p2(t,e){if(e==null)return e;let n=t(e);if(!n)throw new Error("scale not found: ".concat(e));return n}function d2(t,{opacity:e,...n}={}){if(!kn(t)&&!Dm(t))throw new Error("swatches legend requires ordinal or threshold color scale (not ".concat(t.type,")"));return h2(t,n,(r,o,i,a)=>r.append("svg").attr("width",i).attr("height",a).attr("fill",o.scale).attr("fill-opacity",It(e)[1]).append("rect").attr("width","100%").attr("height","100%"))}function m2(t,{fill:e=(c=>(c=t.hint)==null?void 0:c.fill)()!==void 0?t.hint.fill:"none",fillOpacity:n=1,stroke:r=(s=>(s=t.hint)==null?void 0:s.stroke)()!==void 0?t.hint.stroke:zt(e)?"currentColor":"none",strokeOpacity:o=1,strokeWidth:i=1.5,r:a=4.5,...f}={},u){let[l,p]=ge(e),[d,m]=ge(r),h=p2(u,l),g=p2(u,d),b=a*a*Math.PI;return n=It(n)[1],o=It(o)[1],i=It(i)[1],h2(t,f,(x,w,y,v)=>x.append("svg").attr("viewBox","-8 -8 16 16").attr("width",y).attr("height",v).attr("fill",l==="color"?_=>h.scale(_):p).attr("fill-opacity",n).attr("stroke",d==="color"?_=>g.scale(_):m).attr("stroke-opacity",o).attr("stroke-width",i).append("path").attr("d",_=>{let M=He();return t.scale(_).draw(M,b),M}))}function h2(t,e={},n){let{columns:r,tickFormat:o,fontVariant:i=Xc(t),swatchSize:a=15,swatchWidth:f=a,swatchHeight:u=a,marginLeft:c=0,className:s,style:l,width:p}=e,d=pi(e);s=ci(s),o=hf(t.scale,t.domain,void 0,o);let m=ot("div",d).attr("class","".concat(s,"-swatches ").concat(s,"-swatches-").concat(r!=null?"columns":"wrap")),h;return r!=null?(h=".".concat(s,"-swatches-columns .").concat(s,"-swatch {\n  display: flex;\n  align-items: center;\n  break-inside: avoid;\n  padding-bottom: 1px;\n}\n.").concat(s,"-swatches-columns .").concat(s,"-swatch::before {\n  flex-shrink: 0;\n}\n.").concat(s,"-swatches-columns .").concat(s,"-swatch-label {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}"),m.style("columns",r).selectAll().data(t.domain).enter().append("div").attr("class","".concat(s,"-swatch")).call(n,t,f,u).call(g=>g.append("div").attr("class","".concat(s,"-swatch-label")).attr("title",o).text(o))):(h=".".concat(s,"-swatches-wrap {\n  display: flex;\n  align-items: center;\n  min-height: 33px;\n  flex-wrap: wrap;\n}\n.").concat(s,"-swatches-wrap .").concat(s,"-swatch {\n  display: inline-flex;\n  align-items: center;\n  margin-right: 1em;\n}"),m.selectAll().data(t.domain).enter().append("span").attr("class","".concat(s,"-swatch")).call(n,t,f,u).append(function(){return this.ownerDocument.createTextNode(o.apply(this,arguments))})),m.call(g=>g.insert("style","*").text(".".concat(s,"-swatches {\n  font-family: system-ui, sans-serif;\n  font-size: 10px;\n  margin-bottom: 0.5em;\n}\n.").concat(s,"-swatch > svg {\n  margin-right: 0.5em;\n  overflow: visible;\n}\n").concat(h))).style("margin-left",c?"".concat(+c,"px"):null).style("width",p===void 0?null:"".concat(+p,"px")).style("font-variant",Nt(i,"normal")).call(li,l).node()}var fh=new Map([["symbol",m2],["color",y2],["opacity",o7]]);function g2(t,e,n={}){return(r,o)=>{if(!fh.has(r))throw new Error("unknown legend type: ".concat(r));if(r in t)return fh.get(r)(t[r],x2(e,n[r],o),i=>t[i])}}function x2({className:t,...e},{label:n,ticks:r,tickFormat:o}={},i){return Fy(i,{className:t,...e},{label:n,ticks:r,tickFormat:o})}function y2(t,{legend:e=!0,...n}){if(e===!0&&(e=t.type==="ordinal"?"swatches":"ramp"),t.domain!==void 0)switch("".concat(e).toLowerCase()){case"swatches":return d2(t,n);case"ramp":return h_(t,n);default:throw new Error("unknown legend type: ".concat(e))}}function o7({type:t,interpolate:e,...n},{legend:r=!0,color:o=Ee(0,0,0),...i}){if(!e)throw new Error("".concat(t," opacity scales are not supported"));if(r===!0&&(r="ramp"),"".concat(r).toLowerCase()!=="ramp")throw new Error("".concat(r," opacity legends are not supported"));return y2({type:t,...n,interpolate:i7(o)},{legend:r,...i})}function i7(t){let{r:e,g:n,b:r}=Ee(t)||Ee(0,0,0);return o=>"rgba(".concat(e,",").concat(n,",").concat(r,",").concat(o,")")}function b2(t,e,n){let r=[];for(let[o,i]of fh){let a=n[o];if(a!=null&&a.legend&&o in t){let f=i(t[o],x2(e,t[o],a),u=>t[u]);f!=null&&r.push(f)}}return r}var a7={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},f7={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1},uh=class extends yt{constructor(e={}){let{anchor:n=null,inset:r=0,insetTop:o=r,insetRight:i=r,insetBottom:a=r,insetLeft:f=r,rx:u,ry:c}=e;super(ei,void 0,e,n==null?a7:f7),this.anchor=om(n,"anchor",["top","right","bottom","left"]),this.insetTop=mt(o),this.insetRight=mt(i),this.insetBottom=mt(a),this.insetLeft=mt(f),this.rx=mt(u),this.ry=mt(c)}render(e,n,r,o,i){let{marginTop:a,marginRight:f,marginBottom:u,marginLeft:c,width:s,height:l}=o,{anchor:p,insetTop:d,insetRight:m,insetBottom:h,insetLeft:g,rx:b,ry:x}=this,w=c+g,y=s-f-m,v=a+d,_=l-u-h;return ot(p?"svg:line":"svg:rect",i).datum(0).call(Lt,this,o,i).call(Dt,this).call(Me,this,r).call(Pt,this,{}).call(p==="left"?M=>M.attr("x1",w).attr("x2",w).attr("y1",v).attr("y2",_):p==="right"?M=>M.attr("x1",y).attr("x2",y).attr("y1",v).attr("y2",_):p==="top"?M=>M.attr("x1",w).attr("x2",y).attr("y1",v).attr("y2",v):p==="bottom"?M=>M.attr("x1",w).attr("x2",y).attr("y1",_).attr("y2",_):M=>M.attr("x",w).attr("y",v).attr("width",y-w).attr("height",_-v).attr("rx",b).attr("ry",x)).node()}};function _2(t){return new uh(t)}var sh={ariaLabel:"tip",fill:"var(--plot-background)",stroke:"currentColor"},u7=new Set(["geometry","href","src","ariaLabel","scales"]),ch=class extends yt{constructor(e,n={}){n.tip&&(n={...n,tip:!1}),n.title===void 0&&xe(e)&&Ec(e)&&(n={...n,title:dt});let{x:r,y:o,x1:i,x2:a,y1:f,y2:u,anchor:c,preferredAnchor:s="bottom",monospace:l,fontFamily:p=l?"ui-monospace, monospace":void 0,fontSize:d,fontStyle:m,fontVariant:h,fontWeight:g,lineHeight:b=1,lineWidth:x=20,frameAnchor:w,format:y,textAnchor:v="start",textOverflow:_,textPadding:M=8,title:C,pointerSize:E=12,pathFilter:$="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=n;super(e,{x:{value:i!=null&&a!=null?null:r,scale:"x",optional:!0},y:{value:f!=null&&u!=null?null:o,scale:"y",optional:!0},x1:{value:i,scale:"x",optional:a==null},y1:{value:f,scale:"y",optional:u==null},x2:{value:a,scale:"x",optional:i==null},y2:{value:u,scale:"y",optional:f==null},title:{value:C,optional:!0}},n,sh),this.anchor=$c(c,"anchor"),this.preferredAnchor=$c(s,"preferredAnchor"),this.frameAnchor=wr(w),this.textAnchor=Nt(v,"middle"),this.textPadding=+M,this.pointerSize=+E,this.pathFilter=Xt($),this.lineHeight=+b,this.lineWidth=+x,this.textOverflow=Jm(_),this.monospace=!!l,this.fontFamily=Xt(p),this.fontSize=mt(d),this.fontStyle=Xt(m),this.fontVariant=Xt(h),this.fontWeight=Xt(g);for(let S in sh)S in this.channels&&(this[S]=sh[S]);this.splitLines=nh(this),this.clipLine=rh(this),this.format={...y}}render(e,n,r,o,i){let a=this,{x:f,y:u,fx:c,fy:s}=n,{ownerSVGElement:l,document:p}=i,{anchor:d,monospace:m,lineHeight:h,lineWidth:g}=this,{textPadding:b,pointerSize:x,pathFilter:w}=this,{marginTop:y,marginLeft:v}=o,{x1:_,y1:M,x2:C,y2:E,x:$=_!=null?_:C,y:S=M!=null?M:E}=r,I=c?c(e.fx)-v:0,D=s?s(e.fy)-y:0,[P,k]=Sn(this,o),Y=Um(r,P),tt=Xm(r,k),K=m?Vc:Gc,J=K(co),vt,at;"title"in r?(vt=r.channels,at=d7):(vt=p7.call(this,r,n),at=m7);let N=ot("svg:g",i).call(Lt,this,o,i).call(eh,this).call(Pt,this,{x:$&&f,y:S&&u}).call(G=>G.selectAll().data(e).enter().append("g").attr("transform",V=>"translate(".concat(Math.round(Y(V)),",").concat(Math.round(tt(V)),")")).call(Dt,this).call(V=>V.append("path").attr("filter",w)).call(V=>V.append("text").each(function(O){let q=Dn(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");let A=at.call(a,O,e,vt,n,r);if(typeof A=="string")for(let L of a.splitLines(A))F(q,{value:a.clipLine(L)});else{let L=new Set;for(let U of A){let{label:T=""}=U;T&&L.has(T)||(L.add(T),F(q,U))}}})));function F(G,{label:V,value:O,color:q,opacity:A}){V!=null||(V=""),O!=null||(O="");let L=q!=null||A!=null,U,T=g*100,[ct]=lo(V,T,K,J);if(ct>=0)V=V.slice(0,ct).trimEnd()+co,U=O.trim(),O="";else{(V||!O&&!L)&&(O=" "+O);let[ft]=lo(O,T-K(V),K,J);ft>=0&&(U=O.trim(),O=O.slice(0,ft).trimEnd()+co)}let j=G.append("tspan").attr("x",0).attr("dy","".concat(h,"em")).text("\u200B");V&&j.append("tspan").attr("font-weight","bold").text(V),O&&j.append(()=>p.createTextNode(O)),L&&j.append("tspan").text(" \u25A0").attr("fill",q).attr("fill-opacity",A).style("user-select","none"),U&&j.append("title").text(U)}function Z(){var O;let{width:G,height:V}=(O=o.facet)!=null?O:o;N.selectChildren().each(function(q){let{x:A,width:L,height:U}=this.getBBox();L=Math.round(L),U=Math.round(U);let T=d;if(T===void 0){let ft=Y(q)+I,kt=tt(q)+D,Wt=ft+L+x+b*2<G,Tr=ft-L-x-b*2>0,Mi=kt+U+x+b*2<V,Cr=kt-U-x-b*2>0;T=Wt&&Tr?Mi&&Cr?a.preferredAnchor:Cr?"bottom":"top":Mi&&Cr?Wt?"left":"right":(Wt||Tr)&&(Mi||Cr)?"".concat(Cr?"bottom":"top","-").concat(Wt?"left":"right"):a.preferredAnchor}let ct=this.firstChild,j=this.lastChild;if(ct.setAttribute("d",l7(T,x,b,L,U)),A)for(let ft of j.childNodes)ft.setAttribute("x",-A);j.setAttribute("y","".concat(+s7(T,j.childNodes.length,h).toFixed(6),"em")),j.setAttribute("transform","translate(".concat(c7(T,x,b,L,U),")"))}),N.attr("visibility",null)}return e.length&&(N.attr("visibility","hidden"),l.isConnected?Promise.resolve().then(Z):typeof requestAnimationFrame<"u"&&requestAnimationFrame(Z)),N.node()}};function S2(t,{x:e,y:n,...r}={}){return r.frameAnchor===void 0&&([e,n]=vn(e,n)),new ch(t,{...r,x:e,y:n})}function s7(t,e,n){return/^top(?:-|$)/.test(t)?.94-n:-.29-e*n}function c7(t,e,n,r,o){switch(t){case"middle":return[-r/2,o/2];case"top-left":return[n,e+n];case"top":return[-r/2,e/2+n];case"top-right":return[-r-n,e+n];case"right":return[-e/2-r-n,o/2];case"bottom-left":return[n,-e-n];case"bottom":return[-r/2,-e/2-n];case"bottom-right":return[-r-n,-e-n];case"left":return[n+e/2,o/2]}}function l7(t,e,n,r,o){let i=r+n*2,a=o+n*2;switch(t){case"middle":return"M".concat(-i/2,",").concat(-a/2,"h").concat(i,"v").concat(a,"h").concat(-i,"z");case"top-left":return"M0,0l".concat(e,",").concat(e,"h").concat(i-e,"v").concat(a,"h").concat(-i,"z");case"top":return"M0,0l".concat(e/2,",").concat(e/2,"h").concat((i-e)/2,"v").concat(a,"h").concat(-i,"v").concat(-a,"h").concat((i-e)/2,"z");case"top-right":return"M0,0l".concat(-e,",").concat(e,"h").concat(e-i,"v").concat(a,"h").concat(i,"z");case"right":return"M0,0l".concat(-e/2,",").concat(-e/2,"v").concat(e/2-a/2,"h").concat(-i,"v").concat(a,"h").concat(i,"v").concat(e/2-a/2,"z");case"bottom-left":return"M0,0l".concat(e,",").concat(-e,"h").concat(i-e,"v").concat(-a,"h").concat(-i,"z");case"bottom":return"M0,0l".concat(e/2,",").concat(-e/2,"h").concat((i-e)/2,"v").concat(-a,"h").concat(-i,"v").concat(a,"h").concat((i-e)/2,"z");case"bottom-right":return"M0,0l".concat(-e,",").concat(-e,"h").concat(e-i,"v").concat(-a,"h").concat(i,"z");case"left":return"M0,0l".concat(e/2,",").concat(-e/2,"v").concat(e/2-a/2,"h").concat(i,"v").concat(a,"h").concat(-i,"v").concat(e/2-a/2,"z")}}function p7({channels:t},e){var o,i,a,f;let n={},r=this.format;r=v2(r,t,"x"),r=v2(r,t,"y"),this.format=r;for(let u in r){let c=r[u];if(!(c===null||c===!1))if(u==="fx"||u==="fy")n[u]=!0;else{let s=_m(t,u);s&&(n[u]=s)}}for(let u in t){if(u in n||u in r||u7.has(u))continue;let c=_m(t,u);c&&(n[u]=c)}this.facet&&(e.fx&&!("fx"in r)&&(n.fx=!0),e.fy&&!("fy"in r)&&(n.fy=!0));for(let u in n){let c=this.format[u];if(typeof c=="string"){let s=(f=(a=(o=n[u])==null?void 0:o.value)!=null?a:(i=e[u])==null?void 0:i.domain())!=null?f:[];this.format[u]=(Rt(s)?gn:$e)(c)}else if(c===void 0||c===!0){let s=e[u];this.format[u]=s!=null&&s.bandwidth?hf(s,s.domain()):Ze}}return n}function v2(t,e,n){if(!(n in t))return t;let r="".concat(n,"1"),o="".concat(n,"2");if((r in t||!(r in e))&&(o in t||!(o in e)))return t;let i=Object.entries(t),a=t[n];return i.splice(i.findIndex(([f])=>f===n)+1,0,[r,a],[o,a]),Object.fromEntries(i)}function d7(t,e,{title:n}){return Ze(n.value[t],t)}function*m7(t,e,n,r,o){for(let i in n){if(i==="fx"||i==="fy"){yield{label:Kc(r,n,i),value:this.format[i](e[i],t)};continue}if(i==="x1"&&"x2"in n||i==="y1"&&"y2"in n)continue;let a=n[i];if(i==="x2"&&"x1"in n)yield{label:M2(r,n,"x"),value:w2(this.format.x2,n.x1,a,t)};else if(i==="y2"&&"y1"in n)yield{label:M2(r,n,"y"),value:w2(this.format.y2,n.y1,a,t)};else{let f=a.value[t],u=a.scale;if(!Pe(f)&&u==null)continue;yield{label:Kc(r,n,i),value:this.format[i](f,t),color:u==="color"?o[i][t]:null,opacity:u==="opacity"?o[i][t]:null}}}}function w2(t,e,n,r){var o;return(o=n.hint)!=null&&o.length?"".concat(t(n.value[r]-e.value[r],r)):"".concat(t(e.value[r],r),"\u2013").concat(t(n.value[r],r))}function M2(t,e,n){let r=Kc(t,e,"".concat(n,"1"),n),o=Kc(t,e,"".concat(n,"2"),n);return r===o?r:"".concat(r,"\u2013").concat(o)}function Kc(t,e,n,r=n){var a,f,u;let o=e[n],i=t[(a=o==null?void 0:o.scale)!=null?a:n];return String((u=(f=i==null?void 0:i.label)!=null?f:o==null?void 0:o.label)!=null?u:r)}function el(t={}){var J,vt,at;let{facet:e,style:n,title:r,subtitle:o,caption:i,ariaLabel:a,ariaDescription:f}=t,u=ci(t.className),c=t.marks===void 0?[]:T2(t.marks);c.push(...v7(c));let s=b7(e,t),l=new Map;for(let N of c){let F=C2(N,s,t);F&&l.set(N,F)}let p=new Map;s&&gf(p,[s],t),gf(p,l,t);let d=T2(w7(c,p,t));for(let N of d){let F=C2(N,s,t);F&&l.set(N,F)}c.unshift(...d);let m=f_(p,t);if(m!==void 0){let N=s?Uc(m,s):void 0;for(let Z of c){if(Z.facet===null||Z.facet==="super")continue;let G=l.get(Z);G!==void 0&&(G.facetsIndex=Z.fx!=null||Z.fy!=null?Uc(m,G):N)}let F=new Set;for(let{facetsIndex:Z}of l.values())Z==null||Z.forEach((G,V)=>{(G==null?void 0:G.length)>0&&F.add(V)});m.forEach(0<F.size&&F.size<m.length?(Z,G)=>Z.empty=!F.has(G):Z=>Z.empty=!1);for(let Z of c)if(Z.facet==="exclude"){let G=l.get(Z);G!==void 0&&(G.facetsIndex=c_(G.facetsIndex))}}for(let N of ht.keys())ri(t[N])&&N!=="fx"&&N!=="fy"&&p.set(N,[]);let h=new Map;for(let N of c){if(h.has(N))throw new Error("duplicate mark; each mark must be unique");let{facetsIndex:F,channels:Z}=(J=l.get(N))!=null?J:{},{data:G,facets:V,channels:O}=N.initialize(F,Z,t);dh(O,t),h.set(N,{data:G,facets:V,channels:O})}let g=lf(gf(p,h,t),t),b=i_(g,c,t);Jb(g,b);let x=Im(g),{fx:w,fy:y}=x,v=w||y?Nm(g,b):b,_=w||y?A7(x,b):b,M=pi(t),C=M.document,E=In("svg").call(C.documentElement),$=E;M.ownerSVGElement=E,M.className=u,M.projection=lb(t,v),M.filterFacets=(N,F)=>Uc(m,{channels:F,groups:zc(N,F)}),M.getMarkState=N=>{let F=h.get(N),Z=l.get(N);return{...F,channels:{...F.channels,...Z==null?void 0:Z.channels}}},M.dispatchValue=N=>{$.value!==N&&($.value=N,$.dispatchEvent(new Event("input",{bubbles:!0})))};let S=new Set;for(let[N,F]of h)if(N.initializer!=null){let Z=N.facet==="super"?_:v,G=N.initializer(F.data,F.facets,F.channels,x,Z,M);if(G.data!==void 0&&(F.data=G.data),G.facets!==void 0&&(F.facets=G.facets),G.channels!==void 0){let{fx:V,fy:O,...q}=G.channels;y7(q),Object.assign(F.channels,q);for(let A of Object.values(q)){let{scale:L}=A;L!=null&&!zy(ht.get(L))&&($2(A,t),S.add(L))}(V!=null||O!=null)&&l.set(N,!0)}}if(S.size){let N=new Map;gf(N,h,t,V=>S.has(V)),gf(p,h,t,V=>S.has(V));let F=E7(lf(N,t),g),{scales:Z,...G}=Im(F);Object.assign(g,F),Object.assign(x,G),Object.assign(x.scales,Z)}let I,D;m!==void 0&&(I={x:w==null?void 0:w.domain(),y:y==null?void 0:y.domain()},m=u_(m,I),D=s_(w,y,b));for(let[N,F]of h)F.values=N.scale(F.channels,x,M);let{width:P,height:k}=b;Dn(E).attr("class",u).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",P).attr("height",k).attr("viewBox","0 0 ".concat(P," ").concat(k)).attr("aria-label",a).attr("aria-description",f).call(N=>N.append("style").text(".".concat(u," {\n  --plot-background: white;\n  display: block;\n  height: auto;\n  height: intrinsic;\n  max-width: 100%;\n}\n.").concat(u," text,\n.").concat(u," tspan {\n  white-space: pre;\n}"))).call(li,n);for(let N of c){let{channels:F,values:Z,facets:G}=h.get(N);if(m===void 0||N.facet==="super"){let V=null;if(G&&(V=G[0],V=N.filter(V,F,Z),V.length===0))continue;let O=N.render(V,x,Z,_,M);if(O==null)continue;E.appendChild(O)}else{let V;for(let O of m){if(!((at=(vt=N.facetAnchor)==null?void 0:vt.call(N,m,I,O))!=null?at:!O.empty))continue;let q=null;if(G){let L=l.has(N);if(q=G[L?O.i:0],q=N.filter(q,F,Z),q.length===0)continue;!L&&q===G[0]&&(q=Ay(q)),q.fx=O.x,q.fy=O.y,q.fi=O.i}let A=N.render(q,x,Z,v,M);if(A!=null){(V!=null?V:V=Dn(E).append("g")).append(()=>A).datum(O);for(let L of["aria-label","aria-description","aria-hidden","transform"])A.hasAttribute(L)&&(V.attr(L,A.getAttribute(L)),A.removeAttribute(L))}}V==null||V.selectChildren().attr("transform",D)}}let Y=b2(g,M,t),{figure:tt=r!=null||o!=null||i!=null||Y.length>0}=t;tt&&($=C.createElement("figure"),$.className="".concat(u,"-figure"),$.style.maxWidth="initial",r!=null&&$.append(k2(C,r,"h2")),o!=null&&$.append(k2(C,o,"h3")),$.append(...Y,E),i!=null&&$.append(h7(C,i))),$.scale=r_(x.scales),$.legend=g2(g,M,t);let K=ib();return K>0&&Dn(E).append("text").attr("x",P).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("\u26A0\uFE0F").append("title").text("".concat(K.toLocaleString("en-US")," warning").concat(K===1?"":"s",". Please check the console.")),$}function k2(t,e,n){if(e.ownerDocument)return e;let r=t.createElement(n);return r.append(e),r}function h7(t,e){let n=t.createElement("figcaption");return n.append(e),n}function g7({marks:t=[],...e}={}){return el({...e,marks:[...t,this]})}yt.prototype.plot=g7;function T2(t){return t.flat(1/0).filter(e=>e!=null).map(x7)}function x7(t){return typeof t.render=="function"?t:new ph(t)}var ph=class extends yt{constructor(e){if(typeof e!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=e}render(){}};function dh(t,e){for(let n in t)$2(t[n],e);return t}function $2(t,e){var u;let{scale:n,transform:r=!0}=t;if(n==null||!r)return;let{type:o,percent:i,interval:a,transform:f=i?c=>c*100:am(a,o)}=(u=e[n])!=null?u:{};f!=null&&(t.value=xt(t.value,f),t.transform=!1)}function y7(t){for(let e in t)bm(e,t[e])}function gf(t,e,n,r=My){var o,i;for(let{channels:a}of e.values())for(let f in a){let u=a[f],{scale:c}=u;if(c!=null&&r(c))if(c==="projection"){if(!hb(n)){let s=((o=n.x)==null?void 0:o.domain)===void 0,l=((i=n.y)==null?void 0:i.domain)===void 0;if(s||l){let[p,d]=xb(u);s&&lh(t,"x",p),l&&lh(t,"y",d)}}}else lh(t,c,u)}return t}function lh(t,e,n){let r=t.get(e);r!==void 0?r.push(n):t.set(e,[n])}function b7(t,e){if(t==null)return;let{x:n,y:r}=t;if(n==null&&r==null)return;let o=Ht(t.data);if(o==null)throw new Error("missing facet data");let i={};n!=null&&(i.fx=si(o,{value:n,scale:"fx"})),r!=null&&(i.fy=si(o,{value:r,scale:"fy"})),dh(i,e);let a=zc(o,i);return{channels:i,groups:a,data:t.data}}function C2(t,e,n){var u,c,s;if(t.facet===null||t.facet==="super")return;let{fx:r,fy:o}=t;if(r!=null||o!=null){let l=Ht((c=(u=t.data)!=null?u:r)!=null?c:o);if(l===void 0)throw new Error("missing facet data in ".concat(t.ariaLabel));if(l===null)return;let p={};return r!=null&&(p.fx=si(l,{value:r,scale:"fx"})),o!=null&&(p.fy=si(l,{value:o,scale:"fy"})),dh(p,n),{channels:p,groups:zc(l,p)}}if(e===void 0)return;let{channels:i,groups:a,data:f}=e;if(t.facet!=="auto"||t.data===f)return{channels:i,groups:a};f.length>0&&(a.size>1||a.size===1&&i.fx&&i.fy&&[...a][0][1].size>1)&&((s=Ht(t.data))==null?void 0:s.length)===f.length&&ye("Warning: the ".concat(t.ariaLabel,' mark appears to use faceted data, but isn\u2019t faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.'))}function _7(t,e={}){return Zn({...e,x:null,y:null},(n,r,o,i,a,f)=>f.getMarkState(t))}function v7(t){let e=[];for(let n of t){let r=n.tip;if(r){r===!0?r={}:typeof r=="string"&&(r={pointer:r});let{pointer:o,preferredAnchor:i}=r;o=/^x$/i.test(o)?m_:/^y$/i.test(o)?Bm:d_,r=o(_7(n,r)),r.title=null,i===void 0&&(r.preferredAnchor=o===Bm?"left":"bottom");let a=S2(n.data,r);a.facet=n.facet,a.facetAnchor=n.facetAnchor,e.push(a)}}return e}function w7(t,e,n){let{projection:r,x:o={},y:i={},fx:a={},fy:f={},axis:u,grid:c,facet:s={},facet:{axis:l=u,grid:p}=s,x:{axis:d=u,grid:m=d===null?null:c}=o,y:{axis:h=u,grid:g=h===null?null:c}=i,fx:{axis:b=l,grid:x=b===null?null:p}=a,fy:{axis:w=l,grid:y=w===null?null:p}=f}=n;(r||!ri(o)&&!E2("x",t))&&(d=m=null),(r||!ri(i)&&!E2("y",t))&&(h=g=null),e.has("fx")||(b=x=null),e.has("fy")||(w=y=null),d===void 0&&(d=!tl(t,"x")),h===void 0&&(h=!tl(t,"y")),b===void 0&&(b=!tl(t,"fx")),w===void 0&&(w=!tl(t,"fy")),d===!0&&(d="bottom"),h===!0&&(h="left"),b===!0&&(b=d==="top"||d===null?"bottom":"top"),w===!0&&(w=h==="right"||h===null?"left":"right");let v=[];return Jc(v,y,t2,f),Qc(v,w,j_,"right","left",s,f),Jc(v,x,n2,a),Qc(v,b,Z_,"top","bottom",s,a),Jc(v,g,J_,i),Qc(v,h,ih,"left","right",n,i),Jc(v,m,e2,o),Qc(v,d,ah,"bottom","top",n,o),v}function Qc(t,e,n,r,o,i,a){if(!e)return;let f=M7(e);a=S7(f?r:e,i,a);let{line:u}=a;(n===ih||n===ah)&&u&&!jn(u)&&t.push(_2(k7(a))),t.push(n(a)),f&&t.push(n({...a,anchor:o,label:null}))}function Jc(t,e,n,r){!e||jn(e)||t.push(n(T7(e,r)))}function M7(t){return/^\s*both\s*$/i.test(t)}function S7(t,e,{line:n=e.line,ticks:r,tickSize:o,tickSpacing:i,tickPadding:a,tickFormat:f,tickRotate:u,fontVariant:c,ariaLabel:s,ariaDescription:l,label:p=e.label,labelAnchor:d,labelArrow:m=e.labelArrow,labelOffset:h}){return{anchor:t,line:n,ticks:r,tickSize:o,tickSpacing:i,tickPadding:a,tickFormat:f,tickRotate:u,fontVariant:c,ariaLabel:s,ariaDescription:l,label:p,labelAnchor:d,labelArrow:m,labelOffset:h}}function k7(t){let{anchor:e,line:n}=t;return{anchor:e,facetAnchor:e+"-empty",stroke:n===!0?void 0:n}}function T7(t,{stroke:e=ai(t)?t:void 0,ticks:n=C7(t)?t:void 0,tickSpacing:r,ariaLabel:o,ariaDescription:i}){return{stroke:e,ticks:n,tickSpacing:r,ariaLabel:o,ariaDescription:i}}function C7(t){switch(typeof t){case"number":return!0;case"string":return!ai(t)}return xe(t)||typeof(t==null?void 0:t.range)=="function"}function tl(t,e){let n="".concat(e,"-axis ");return t.some(r=>{var o;return(o=r.ariaLabel)==null?void 0:o.startsWith(n)})}function E2(t,e){for(let n of e)for(let r in n.channels){let{scale:o}=n.channels[r];if(o===t||o==="projection")return!0}return!1}function E7(t,e){for(let n in t){let r=t[n],o=e[n];r.label===void 0&&o&&(r.label=o.label)}return t}function A7({fx:t,fy:e},n){let{marginTop:r,marginRight:o,marginBottom:i,marginLeft:a,width:f,height:u}=Fc(n),c=t&&A2(t),s=e&&A2(e);return{marginTop:e?s[0]:r,marginRight:t?f-c[1]:o,marginBottom:e?u-s[1]:i,marginLeft:t?c[0]:a,inset:{marginTop:n.marginTop,marginRight:n.marginRight,marginBottom:n.marginBottom,marginLeft:n.marginLeft},width:f,height:u}}function A2(t){let e=t.domain(),n=t(e[0]),r=t(e[e.length-1]);return r<n&&([n,r]=[r,n]),[n,r+t.bandwidth()]}var $7=new Map([["basis",Ed],["basis-closed",Ad],["basis-open",$d],["bundle",Id],["bump-x",Md],["bump-y",Sd],["cardinal",Nd],["cardinal-closed",Dd],["cardinal-open",Rd],["catmull-rom",Ld],["catmull-rom-closed",Pd],["catmull-rom-open",Yd],["linear",Xn],["linear-closed",Od],["monotone-x",qd],["monotone-y",zd],["natural",Bd],["step",Ud],["step-after",Hd],["step-before",Xd]]);function mh(t=Xn,e){if(typeof t=="function")return t;let n=$7.get("".concat(t).toLowerCase());if(!n)throw new Error("unknown curve: ".concat(t));if(e!==void 0){if("beta"in n)return n.beta(e);if("tension"in n)return n.tension(e);if("alpha"in n)return n.alpha(e)}return n}function I2(t=xf,e){return typeof t!="function"&&"".concat(t).toLowerCase()==="auto"?xf:mh(t,e)}function xf(t){return Xn(t)}function I7(t={y:"count"},e={}){[t,e]=R7(t,e);let{x:n,y:r}=e;return D7(L7(n,e,dt),null,null,r,t,df(e))}function N7(t,e,n={}){if((n==null?void 0:n.interval)==null)return n;let{reduce:r=Ic}=n,o={filter:null};return n[e]!=null&&(o[e]=r),n["".concat(e,"1")]!=null&&(o["".concat(e,"1")]=r),n["".concat(e,"2")]!=null&&(o["".concat(e,"2")]=r),t(o,n)}function vi(t={}){return N7(I7,"y",so(t,"x"))}function D7(t,e,n,r,{data:o=xm,filter:i=of,sort:a,reverse:f,...u}={},c={}){t=N2(t),e=N2(e),u=Y7(u,c),o=P2(o,dt),a=a==null?void 0:R2("sort",a,c),i=i==null?void 0:L2("filter",i,c),n!=null&&af(u,"x","x1","x2")&&(n=null),r!=null&&af(u,"y","y1","y2")&&(r=null);let[s,l]=Ye(t),[p,d]=Ye(t),[m,h]=Ye(e),[g,b]=Ye(e),[x,w]=n!=null?[n,"x"]:r!=null?[r,"y"]:[],[y,v]=Ye(x),{x:_,y:M,z:C,fill:E,stroke:$,x1:S,x2:I,y1:D,y2:P,domain:k,cumulative:Y,thresholds:tt,interval:K,...J}=c,[vt,at]=Ye(C),[N]=ge(E),[F]=ge($),[Z,G]=Ye(N),[V,O]=Ye(F);return{..."z"in c&&{z:vt||C},..."fill"in c&&{fill:Z||E},..."stroke"in c&&{stroke:V||$},...fo(J,(q,A,L)=>{let U=rf(Mt(q,x),L==null?void 0:L[w]),T=Mt(q,C),ct=Mt(q,N),j=Mt(q,F),ft=Ky(u,{z:T,fill:ct,stroke:j}),kt=[],Wt=[],Tr=U&&v([]),Mi=T&&at([]),Cr=ct&&G([]),J2=j&&O([]),Sh=t&&l([]),tv=t&&d([]),kh=e&&h([]),ev=e&&b([]),nv=q7(t,e,q),rv=0;for(let po of u)po.initialize(q);a&&a.initialize(q),i&&i.initialize(q);for(let po of A){let Th=[];for(let Si of u)Si.scope("facet",po);a&&a.scope("facet",po),i&&i.scope("facet",po);for(let[Si,ov]of gm(po,ft))for(let[iv,yf]of gm(ov,U))for(let[Qe,Er]of nv(yf))if(!(i&&!i.reduce(Qe,Er))){Th.push(rv++),Wt.push(o.reduceIndex(Qe,q,Er)),U&&Tr.push(iv),T&&Mi.push(ft===T?Si:T[(Qe.length>0?Qe:yf)[0]]),ct&&Cr.push(ft===ct?Si:ct[(Qe.length>0?Qe:yf)[0]]),j&&J2.push(ft===j?Si:j[(Qe.length>0?Qe:yf)[0]]),Sh&&(Sh.push(Er.x1),tv.push(Er.x2)),kh&&(kh.push(Er.y1),ev.push(Er.y2));for(let av of u)av.reduce(Qe,Er);a&&a.reduce(Qe)}kt.push(Th)}return Qy(kt,a,f),{data:Wt,facets:kt}}),...!af(u,"x")&&(s?{x1:s,x2:p,x:nf(s,p)}:{x:_,x1:S,x2:I}),...!af(u,"y")&&(m?{y1:m,y2:g,y:nf(m,g)}:{y:M,y1:D,y2:P}),...y&&{[w]:y},...Object.fromEntries(u.map(({name:q,output:A})=>[q,A]))}}function R7({cumulative:t,domain:e,thresholds:n,interval:r,...o},i){return[o,{cumulative:t,domain:e,thresholds:n,interval:r,...i}]}function L7(t,{cumulative:e,domain:n,thresholds:r,interval:o},i){return t={...Mn(t)},t.domain===void 0&&(t.domain=n),t.cumulative===void 0&&(t.cumulative=e),t.thresholds===void 0&&(t.thresholds=r),t.interval===void 0&&(t.interval=o),t.value===void 0&&(t.value=i),t.thresholds=P7(t.thresholds,t.interval),t}function N2(t){if(t==null)return;let{value:e,cumulative:n,domain:r=Et,thresholds:o}=t,i=a=>{let f=Mt(a,e),u;if(Rt(f)||F7(o)){f=xt(f,rm,Float64Array);let[s,l]=typeof r=="function"?r(f):r,p=typeof o=="function"&&!vr(o)?o(f,s,l):o;typeof p=="number"&&(p=Ta(s,l,p)),vr(p)&&(r===Et&&(s=p.floor(s),l=p.offset(p.floor(l))),p=p.range(s,p.offset(l))),u=p}else{f=_n(f);let[s,l]=typeof r=="function"?r(f):r,p=typeof o=="function"&&!vr(o)?o(f,s,l):o;if(typeof p=="number")if(r===Et){let d=Ir(s,l,p);if(isFinite(d))if(d>0){let m=Math.round(s/d),h=Math.round(l/d);m*d<=s||--m,h*d>l||++h;let g=h-m+1;p=new Float64Array(g);for(let b=0;b<g;++b)p[b]=(m+b)*d}else if(d<0){d=-d;let m=Math.round(s*d),h=Math.round(l*d);m/d<=s||--m,h/d>l||++h;let g=h-m+1;p=new Float64Array(g);for(let b=0;b<g;++b)p[b]=(m+b)/d}else p=[s];else p=[s]}else p=ze(s,l,p);else vr(p)&&(r===Et&&(s=p.floor(s),l=p.offset(p.floor(l))),p=p.range(s,p.offset(l)));u=p}let c=[];if(u.length===1)c.push([u[0],u[0]]);else for(let s=1;s<u.length;++s)c.push([u[s-1],u[s]]);return c.bin=(n<0?B7:n>0?z7:hh)(c,u,f),c};return i.label=je(e),i}function P7(t,e,n=D2){if(t===void 0)return e===void 0?n:wn(e);if(typeof t=="string"){switch(t.toLowerCase()){case"freedman-diaconis":return Pf;case"scott":return Ii;case"sturges":return Nf;case"auto":return D2}return Ja(t)}return t}function Y7(t,e){return Zy(t,e,R2)}function R2(t,e,n){return mm(t,e,n,L2)}function L2(t,e,n){return hm(t,e,n,P2)}function P2(t,e){return ff(t,e,O7)}function O7(t){switch("".concat(t).toLowerCase()){case"x":return U7;case"x1":return H7;case"x2":return W7;case"y":return X7;case"y1":return G7;case"y2":return V7}throw new Error("invalid bin reduce: ".concat(t))}function D2(t,e,n){return Math.min(200,Ii(t,e,n))}function F7(t){return Ny(t)||xe(t)&&Rt(t)}function q7(t,e,n){let r=t==null?void 0:t(n),o=e==null?void 0:e(n);return r&&o?function*(i){let a=r.bin(i);for(let[f,[u,c]]of r.entries()){let s=o.bin(a[f]);for(let[l,[p,d]]of o.entries())yield[s[l],{data:n,x1:u,y1:p,x2:c,y2:d}]}}:r?function*(i){let a=r.bin(i);for(let[f,[u,c]]of r.entries())yield[a[f],{data:n,x1:u,x2:c}]}:function*(i){let a=o.bin(i);for(let[f,[u,c]]of o.entries())yield[a[f],{data:n,y1:u,y2:c}]}}function hh(t,e,n){return e=_n(e),r=>{var i;let o=t.map(()=>[]);for(let a of r)(i=o[En(e,n[a])-1])==null||i.push(a);return o}}function z7(t,e,n){let r=hh(t,e,n);return o=>{let i=r(o);for(let a=1,f=i.length;a<f;++a){let u=i[a-1],c=i[a];for(let s of u)c.push(s)}return i}}function B7(t,e,n){let r=hh(t,e,n);return o=>{let i=r(o);for(let a=i.length-2;a>=0;--a){let f=i[a+1],u=i[a];for(let c of f)u.push(c)}return i}}function Y2(t,e){let n=(+t+ +e)/2;return t instanceof Date?new Date(n):n}var U7={reduceIndex(t,e,{x1:n,x2:r}){return Y2(n,r)}},X7={reduceIndex(t,e,{y1:n,y2:r}){return Y2(n,r)}},H7={reduceIndex(t,e,{x1:n}){return n}},W7={reduceIndex(t,e,{x2:n}){return n}},G7={reduceIndex(t,e,{y1:n}){return n}},V7={reduceIndex(t,e,{y2:n}){return n}};function nl(t={}){return im(t)?t:{...t,y:dt}}function O2(t,e){if(e.length===1)return{data:t,facets:e};let n=t.length,r=new Uint8Array(n),o=0;for(let f of e)for(let u of f)r[u]&&++o,r[u]=1;if(o===0)return{data:t,facets:e};t=yr(t);let i=t[tm]=new Uint32Array(n+o);e=e.map(f=>yr(f,Uint32Array));let a=n;r.fill(0);for(let f of e)for(let u=0,c=f.length;u<c;++u){let s=f[u];r[s]?(f[u]=a,t[a]=t[s],i[a]=s,++a):i[s]=s,r[s]=1}return{data:t,facets:e}}function j7(t={},e={}){arguments.length===1&&([t,e]=Z7(t));let{x1:n,x:r=n,y:o,...i}=e,[a,f,u,c]=Q7(r,o,"x","y",t,i);return{...a,x1:n,x:f,y1:u,y2:c,y:nf(u,c)}}function rl({y:t,y1:e,y2:n,...r}={}){return r=so(r,"x"),e===void 0&&n===void 0?j7({y:t,...r}):([e,n]=Ey(t,e,n),{...r,y1:e,y2:n})}function Z7(t){let{offset:e,order:n,reverse:r,...o}=t;return[{offset:e,order:n,reverse:r},o]}var K7={length:!0};function Q7(t,e=wy,n,r,{offset:o,order:i,reverse:a},f){if(e===null)throw new Error("stack requires ".concat(r));let u=_r(f),[c,s]=Ye(t),[l,p]=ii(e),[d,m]=ii(e);return l.hint=d.hint=K7,o=J7(o),i=n9(i,o,r),[fo(f,(h,g,b)=>{({data:h,facets:g}=O2(h,g));let x=t==null?void 0:s(rf(Mt(h,t),b==null?void 0:b[n])),w=Mt(h,e,Float64Array),y=Mt(h,u),v=i&&i(h,x,w,y),_=h.length,M=p(new Float64Array(_)),C=m(new Float64Array(_)),E=[];for(let $ of g){let S=x?Array.from(Je($,I=>x[I]).values()):[$];if(v)for(let I of S)I.sort(v);for(let I of S){let D=0,P=0;a&&I.reverse();for(let k of I){let Y=w[k];Y<0?D=C[k]=(M[k]=D)+Y:Y>0?P=C[k]=(M[k]=P)+Y:C[k]=M[k]=P}}E.push(S)}return o&&o(E,M,C,y),{data:h,facets:g}}),c,l,d]}function J7(t){if(t!=null){if(typeof t=="function")return t;switch("".concat(t).toLowerCase()){case"expand":case"normalize":return t9;case"center":case"silhouette":return e9;case"wiggle":return B2}throw new Error("unknown offset: ".concat(t))}}function z2(t,e){let n=0,r=0;for(let o of t){let i=e[o];i<n&&(n=i),i>r&&(r=i)}return[n,r]}function t9(t,e,n){for(let r of t)for(let o of r){let[i,a]=z2(o,n);for(let f of o){let u=1/(a-i||1);e[f]=u*(e[f]-i),n[f]=u*(n[f]-i)}}}function e9(t,e,n){for(let r of t){for(let o of r){let[i,a]=z2(o,n);for(let f of o){let u=(a+i)/2;e[f]-=u,n[f]-=u}}U2(r,e,n)}X2(t,e,n)}function B2(t,e,n,r){for(let o of t){let i=new se,a=0;for(let f of o){let u=-1,c=f.map(d=>Math.abs(n[d]-e[d])),s=f.map(d=>{u=r?r[d]:++u;let m=n[d]-e[d],h=i.has(u)?m-i.get(u):0;return i.set(u,m),h}),l=[0,...$f(s)];for(let d of f)e[d]+=a,n[d]+=a;let p=le(c);p&&(a-=le(c,(d,m)=>(s[m]/2+l[m])*d)/p)}U2(o,e,n)}X2(t,e,n)}function U2(t,e,n){let r=ce(t,o=>ce(o,i=>e[i]));for(let o of t)for(let i of o)e[i]-=r,n[i]-=r}function X2(t,e,n){let r=t.length;if(r===1)return;let o=t.map(f=>f.flat()),i=o.map(f=>(ce(f,u=>e[u])+Gt(f,u=>n[u]))/2),a=ce(i);for(let f=0;f<r;f++){let u=a-i[f];for(let c of o[f])e[c]+=u,n[c]+=u}}function n9(t,e,n){if(t===void 0&&e===B2)return F2(fe);if(t!=null){if(typeof t=="string"){let r=t.startsWith("-"),o=r?eo:fe;switch((r?t.slice(1):t).toLowerCase()){case"value":case n:return r9(o);case"z":return o9(o);case"sum":return i9(o);case"appearance":return a9(o);case"inside-out":return F2(o)}return q2(em(t))}if(typeof t=="function")return(t.length===1?q2:f9)(t);if(Array.isArray(t))return u9(t);throw new Error("invalid order: ".concat(t))}}function r9(t){return(e,n,r)=>(o,i)=>t(r[o],r[i])}function o9(t){return(e,n,r,o)=>(i,a)=>t(o[i],o[a])}function i9(t){return ol(t,(e,n,r,o)=>yo(me(e),i=>le(i,a=>r[a]),i=>o[i]))}function a9(t){return ol(t,(e,n,r,o)=>yo(me(e),i=>n[$i(i,a=>r[a])],i=>o[i]))}function F2(t){return ol(t,(e,n,r,o)=>{let i=me(e),a=yo(i,l=>n[$i(l,p=>r[p])],l=>o[l]),f=qe(i,l=>le(l,p=>r[p]),l=>o[l]),u=[],c=[],s=0;for(let l of a)s<0?(s+=f.get(l),u.push(l)):(s-=f.get(l),c.push(l));return c.reverse().concat(u)})}function q2(t){return e=>{let n=Mt(e,t);return(r,o)=>fe(n[r],n[o])}}function f9(t){return e=>(n,r)=>t(e[n],e[r])}function u9(t){return ol(fe,()=>t)}function ol(t,e){return(n,r,o,i)=>{if(!i)throw new Error("missing channel: z");let a=new se(e(n,r,o,i).map((f,u)=>[f,u]));return(f,u)=>t(a.get(i[f]),a.get(i[u]))}}var l9={ariaLabel:"area",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1},il=class extends yt{constructor(e,n={}){let{x1:r,y1:o,x2:i,y2:a,z:f,curve:u,tension:c}=n;super(e,{x1:{value:r,scale:"x"},y1:{value:o,scale:"y"},x2:{value:i,scale:"x",optional:!0},y2:{value:a,scale:"y",optional:!0},z:{value:_r(n),optional:!0}},n,l9),this.z=f,this.curve=mh(u,c)}filter(e){return e}render(e,n,r,o,i){let{x1:a,y1:f,x2:u=a,y2:c=f}=r;return ot("svg:g",i).call(Lt,this,o,i).call(Pt,this,n,0,0).call(s=>s.selectAll().data(Dc(e,[a,f,u,c],this,r)).enter().append("path").call(Dt,this).call(uo,this,r).attr("d",Pa().curve(this.curve).defined(l=>l>=0).x0(l=>a[l]).y0(l=>f[l]).x1(l=>u[l]).y1(l=>c[l]))).node()}};function gh(t,e){let{x:n=bn,...r}=vi(e);return new il(t,rl(nl({...r,x1:n,x2:void 0})))}var xh=class extends yt{constructor(e,n,r={},o){super(e,n,r,o);let{inset:i=0,insetTop:a=i,insetRight:f=i,insetBottom:u=i,insetLeft:c=i,rx:s,ry:l}=r;this.insetTop=mt(a),this.insetRight=mt(f),this.insetBottom=mt(u),this.insetLeft=mt(c),this.rx=Nt(s,"auto"),this.ry=Nt(l,"auto")}render(e,n,r,o,i){let{rx:a,ry:f}=this;return ot("svg:g",i).call(Lt,this,o,i).call(this._transform,this,n).call(u=>u.selectAll().data(e).enter().append("rect").call(Dt,this).attr("x",this._x(n,r,o)).attr("width",this._width(n,r,o)).attr("y",this._y(n,r,o)).attr("height",this._height(n,r,o)).call(et,"rx",a).call(et,"ry",f).call(Me,this,r)).node()}_x(e,{x:n},{marginLeft:r}){let{insetLeft:o}=this;return n?i=>n[i]+o:r+o}_y(e,{y:n},{marginTop:r}){let{insetTop:o}=this;return n?i=>n[i]+o:r+o}_width({x:e},{x:n},{marginRight:r,marginLeft:o,width:i}){let{insetLeft:a,insetRight:f}=this,u=n&&e?e.bandwidth():i-r-o;return Math.max(0,u-a-f)}_height({y:e},{y:n},{marginTop:r,marginBottom:o,height:i}){let{insetTop:a,insetBottom:f}=this,u=n&&e?e.bandwidth():i-r-o;return Math.max(0,u-a-f)}},p9={ariaLabel:"bar"};var al=class extends xh{constructor(e,n={}){let{x:r,y1:o,y2:i}=n;super(e,{y1:{value:o,scale:"y"},y2:{value:i,scale:"y"},x:{value:r,scale:"x",type:"band",optional:!0}},n,p9)}_transform(e,n,{y:r}){e.call(Pt,n,{y:r},0,0)}_y({y:e},{y1:n,y2:r},{marginTop:o}){let{insetTop:i}=this;return Mr(e)?o+i:a=>Math.min(n[a],r[a])+i}_height({y:e},{y1:n,y2:r},{marginTop:o,marginBottom:i,height:a}){let{insetTop:f,insetBottom:u}=this;return Mr(e)?a-o-i-f-u:c=>Math.max(0,Math.abs(r[c]-n[c])-f-u)}};function yh(t,e={}){return Cy(e)||(e={...e,x:bn,y2:dt}),new al(t,rl(Wc(nl(e))))}var d9={ariaLabel:"dot",fill:"none",stroke:"currentColor",strokeWidth:1.5};function m9(t){return t.sort===void 0&&t.reverse===void 0?Gy({channel:"-r"},t):t}var W2,fl=class extends yt{constructor(e,n={}){var b,x;let{x:r,y:o,r:i,rotate:a,symbol:f=Hn,frameAnchor:u}=n,[c,s]=It(a,0),[l,p]=Xy(f),[d,m]=It(i,l==null?3:4.5);super(e,{x:{value:r,scale:"x",optional:!0},y:{value:o,scale:"y",optional:!0},r:{value:d,scale:"r",filter:no,optional:!0},rotate:{value:c,optional:!0},symbol:{value:l,scale:"auto",optional:!0}},m9(n),d9),this.r=m,this.rotate=s,this.symbol=p,this.frameAnchor=wr(u);let{channels:h}=this,{symbol:g}=h;if(g){let{fill:w,stroke:y}=h;g.hint={fill:w?w.value===g.value?"color":"currentColor":(b=this.fill)!=null?b:"currentColor",stroke:y?y.value===g.value?"color":"currentColor":(x=this.stroke)!=null?x:"none"}}}render(e,n,r,o,i){let{x:a,y:f}=n,{x:u,y:c,r:s,rotate:l,symbol:p}=r,{r:d,rotate:m,symbol:h}=this,[g,b]=Sn(this,o),x=h===Hn,w=s?void 0:d*d*Math.PI;return Ko(d)&&(e=[]),ot("svg:g",i).call(Lt,this,o,i).call(Pt,this,{x:u&&a,y:c&&f}).call(y=>y.selectAll().data(e).enter().append(x?"circle":"path").call(Dt,this).call(x?v=>{v.attr("cx",u?_=>u[_]:g).attr("cy",c?_=>c[_]:b).attr("r",s?_=>s[_]:d)}:v=>{v.attr("transform",yi(W2||(W2=bt(["translate(",",",")",""])),u?_=>u[_]:g,c?_=>c[_]:b,l?_=>" rotate(".concat(l[_],")"):m?" rotate(".concat(m,")"):"")).attr("d",s&&p?_=>{let M=He();return p[_].draw(M,s[_]*s[_]*Math.PI),M}:s?_=>{let M=He();return h.draw(M,s[_]*s[_]*Math.PI),M}:p?_=>{let M=He();return p[_].draw(M,w),M}:(()=>{let _=He();return h.draw(_,w),_})())}).call(Me,this,r)).node()}};function bh(t,{x:e,y:n,...r}={}){return r.frameAnchor===void 0&&([e,n]=vn(e,n)),new fl(t,{...r,x:e,y:n})}var h9={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1},ul=class extends yt{constructor(e,n={}){let{x:r,y:o,z:i,curve:a,tension:f}=n;super(e,{x:{value:r,scale:"x"},y:{value:o,scale:"y"},z:{value:_r(n),optional:!0}},n,h9),this.z=i,this.curve=I2(a,f),pf(this,n)}filter(e){return e}project(e,n,r){this.curve!==xf&&super.project(e,n,r)}render(e,n,r,o,i){let{x:a,y:f}=r,{curve:u}=this;return ot("svg:g",i).call(Lt,this,o,i).call(Pt,this,n).call(c=>c.selectAll().data(Dc(e,[a,f],this,r)).enter().append("path").call(Dt,this).call(uo,this,r).call(y_,this,r,i).attr("d",u===xf&&i.projection?g9(i.projection,a,f):La().curve(u).defined(s=>s>=0).x(s=>a[s]).y(s=>f[s]))).node()}};function g9(t,e,n){let r=Xr(t);return e=_n(e),n=_n(n),o=>{let i=[],a=[i];for(let f of o)f===-1?(i=[],a.push(i)):i.push([e[f],n[f]]);return r({type:"MultiLineString",coordinates:a})}}function _h(t,{x:e=bn,y:n=dt,...r}={}){return new ul(t,vi({...r,x:e,y:n}))}function x9(t,e,n){var r=1e-8,o=e-1,i=n-1,a=0,f,u,c,s,l,p,d,m,h,g,b;if(t<=0)return 0;if(t>=1)return 1;for(e>=1&&n>=1?(c=t<.5?t:1-t,s=Math.sqrt(-2*Math.log(c)),d=(2.30753+s*.27061)/(1+s*(.99229+s*.04481))-s,t<.5&&(d=-d),m=(d*d-3)/6,h=2/(1/(2*e-1)+1/(2*n-1)),g=d*Math.sqrt(m+h)/h-(1/(2*n-1)-1/(2*e-1))*(m+5/6-2/(3*h)),d=e/(e+n*Math.exp(2*g))):(f=Math.log(e/(e+n)),u=Math.log(n/(e+n)),s=Math.exp(e*f)/e,l=Math.exp(n*u)/n,g=s+l,t<s/g?d=Math.pow(e*g*t,1/e):d=1-Math.pow(n*g*(1-t),1/n)),b=-wi(e)-wi(n)+wi(e+n);a<10;a++){if(d===0||d===1)return d;if(p=y9(d,e,n)-t,s=Math.exp(o*Math.log(d)+i*Math.log(1-d)+b),l=p/s,d-=s=l/(1-.5*Math.min(1,l*(o/d-i/(1-d)))),d<=0&&(d=.5*(d+s)),d>=1&&(d=.5*(d+s+1)),Math.abs(s)<r*d&&a>0)break}return d}function y9(t,e,n){var r=t===0||t===1?0:Math.exp(wi(e+n)-wi(e)-wi(n)+e*Math.log(t)+n*Math.log(1-t));return t<0||t>1?!1:t<(e+1)/(e+n+2)?r*G2(t,e,n)/e:1-r*G2(1-t,n,e)/n}function G2(t,e,n){var r=1e-30,o=1,i=e+n,a=e+1,f=e-1,u=1,c=1-i*t/a,s,l,p,d;for(Math.abs(c)<r&&(c=r),c=1/c,d=c;o<=100&&(s=2*o,l=o*(n-o)*t/((f+s)*(e+s)),c=1+l*c,Math.abs(c)<r&&(c=r),u=1+l/u,Math.abs(u)<r&&(u=r),c=1/c,d*=c*u,l=-(e+o)*(i+o)*t/((e+s)*(a+s)),c=1+l*c,Math.abs(c)<r&&(c=r),u=1+l/u,Math.abs(u)<r&&(u=r),c=1/c,p=c*u,d*=p,!(Math.abs(p-1)<3e-7));o++);return d}function wi(t){var e=0,n=[76.18009172947146,-86.5053203294167,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18],r=1.000000000190015,o,i,a;for(a=(i=o=t)+5.5,a-=(o+.5)*Math.log(a);e<6;e++)r+=n[e]/++i;return Math.log(2.506628274631*r/o)-a}function V2(t,e){var n=x9(2*Math.min(t,1-t),.5*e,.5);return n=Math.sqrt(e*(1-n)/n),t>.5?n:-n}var b9={ariaLabel:"linear-regression",fill:"currentColor",fillOpacity:.1,stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1},vh=class extends yt{constructor(e,n={}){let{x:r,y:o,z:i,ci:a=.95,precision:f=4}=n;if(super(e,{x:{value:r,scale:"x"},y:{value:o,scale:"y"},z:{value:_r(n),optional:!0}},n,b9),this.z=i,this.ci=+a,this.precision=+f,!(0<=this.ci&&this.ci<1))throw new Error("invalid ci; not in [0, 1): ".concat(a));if(!(this.precision>0))throw new Error("invalid precision: ".concat(f))}render(e,n,r,o,i){let{x:a,y:f,z:u}=r,{ci:c}=this;return ot("svg:g",i).call(Lt,this,o,i).call(Pt,this,n).call(s=>s.selectAll().data(u?Mm(e,u,this.z):[e]).enter().call(l=>l.append("path").attr("fill","none").call(Dt,this).call(uo,this,{...r,fill:null,fillOpacity:null}).attr("d",p=>this._renderLine(p,a,f)).call(c&&!jn(this.fill)?p=>p.select(_9).attr("stroke","none").call(Dt,this).call(uo,this,{...r,stroke:null,strokeOpacity:null,strokeWidth:null}).attr("d",d=>this._renderBand(d,a,f)):()=>{}))).node()}};function _9(){return this.parentNode.insertBefore(this.ownerDocument.createElementNS(Ce.svg,"path"),this)}var wh=class extends vh{constructor(e,n){super(e,n)}_renderBand(e,n,r){let{ci:o,precision:i}=this,[a,f]=Et(e,s=>n[s]),u=j2(e,n,r),c=v9(e,n,r,(1-o)/2,u);return Pa().x(s=>s).y0(s=>c(s,-1)).y1(s=>c(s,1))(An(a,f-i/2,i).concat(f))}_renderLine(e,n,r){let[o,i]=Et(e,f=>n[f]),a=j2(e,n,r);return"M".concat(o,",").concat(a(o),"L").concat(i,",").concat(a(i))}};function Mh(t,{x:e=bn,y:n=dt,stroke:r,fill:o=zt(r)?"currentColor":r,...i}={}){return new wh(t,vi({...i,x:e,y:n,fill:o,stroke:r}))}function j2(t,e,n){let r=0,o=0,i=0,a=0;for(let s of t){let l=e[s],p=n[s];r+=l,o+=p,i+=l*p,a+=l*l}let f=t.length,u=(f*i-r*o)/(f*a-r*r),c=(o-u*r)/f;return s=>u*s+c}function v9(t,e,n,r,o){let i=le(t,s=>e[s])/t.length,a=0,f=0;for(let s of t)a+=(e[s]-i)**2,f+=(n[s]-o(e[s]))**2;let u=Math.sqrt(f/(t.length-2)),c=V2(r,t.length-2);return(s,l)=>{let p=o(s),d=u*Math.sqrt(1/t.length+(s-i)**2/a);return p+l*c*d}}function Se(t){let{title:e,columns:n,value:r,setValue:o,required:i}=t,[a,f]=Yt(t.required||r!==void 0);return Tn(()=>{!a&&!r&&o(void 0)},[a,r]),z("div",{className:"channel-value-selector"},z("div",{className:"title-bar "+(i?"":"toggleable"),onClick:a?null:()=>f(u=>!u)},z("div",{style:"display: flex; justify-content: space-between; width: 100%;"},z("div",{className:"dp-title"},e),z("div",null,(a||i)&&z("select",{value:r,onChange:u=>o(u.target.value)},n.map(u=>z("option",{key:u},u))))),z("div",{onClick:()=>{i||f(u=>!u),a&&o(void 0)},style:{marginLeft:".5rem",color:i?"rgba(0,0,0,0)":""}},i||a?"-":"+")))}function w9(t){let[e,n]=Yt(t.options.x),[r,o]=Yt(t.options.y),[i,a]=Yt(t.options.fill),[f,u]=Yt(t.options.stroke);Tn(()=>{t.onUpdate({x:e,y:r,fill:i,stroke:f})},[e,r,i,f]);let c=Qh();return z("div",null,z(Se,{required:!0,title:"X",value:e,setValue:n,columns:t.columns}),z(Se,{required:!0,title:"Y",value:r,setValue:o,columns:t.columns}),z(Se,{required:!1,title:"Fill",value:i,setValue:a,columns:t.columns}),z(Se,{required:!1,title:"Stroke",value:f,setValue:u,columns:t.columns}))}function M9(t){let[e,n]=Yt(t.options.x),[r,o]=Yt(t.options.y),[i,a]=Yt(t.options.fill);return Tn(()=>{t.onUpdate({x:e,y:r,fill:i,tip:!0})},[e,r,i]),z("div",null,z(Se,{required:!0,title:"X",value:e,setValue:n,columns:t.columns}),z(Se,{required:!0,title:"Y",value:r,setValue:o,columns:t.columns}),z(Se,{required:!1,title:"Fill",value:i,setValue:a,columns:t.columns}))}function S9(t){let[e,n]=Yt(t.options.x),[r,o]=Yt(t.options.y),[i,a]=Yt(t.options.fill);return Tn(()=>{t.onUpdate({x:e,y:r,fill:i,tip:!0})},[e,r,i]),z("div",null,z(Se,{required:!0,title:"X",value:e,setValue:n,columns:t.columns}),z(Se,{required:!0,title:"Y",value:r,setValue:o,columns:t.columns}),z(Se,{required:!1,title:"Fill",value:i,setValue:a,columns:t.columns}))}function Z2(t){let[e,n]=Yt(t.options.x),[r,o]=Yt(t.options.y),[i,a]=Yt(t.options.stroke);return Tn(()=>{t.onUpdate({x:e,y:r,stroke:i,tip:!0})},[e,r,i]),z("div",null,z(Se,{required:!0,title:"X",value:e,setValue:n,columns:t.columns}),z(Se,{required:!0,title:"Y",value:r,setValue:o,columns:t.columns}),z(Se,{required:!1,title:"Stroke",value:i,setValue:a,columns:t.columns}))}function K2(t){let[e,n]=Yt(t.initalMark),[r,o]=Yt(t.initionalOptions);Tn(()=>{t.onUpdate(e,r)},[e,r]);function i(){switch(e){case"dot":return z(w9,{columns:t.columns,onUpdate:o,options:r});case"linear-regression-y":return z(Z2,{columns:t.columns,onUpdate:o,options:r});case"area-y":return z(M9,{columns:t.columns,onUpdate:o,options:r});case"bar-y":return z(S9,{columns:t.columns,onUpdate:o,options:r});case"line-y":return z(Z2,{columns:t.columns,onUpdate:o,options:r})}}return z("div",{className:"mark-editor"},z("div",{className:"mark-editor-header"},z("div",null,z("select",{value:e,onChange:a=>n(a.target.value)},z("option",{value:"dot"},"Dot"),z("option",{value:"linear-regression-y"},"Linear Regression (y)"),z("option",{value:"bar-y"},"Bar (y)"),z("option",{value:"area-y"},"Area (y)"),z("option",{value:"line-y"},"Line (y)"))),z("div",null,z("button",{className:"delete-mark",onClick:t.onDelete},"Delete mark"))),z("div",null,i()))}function Q2(t,e){let n,r;for(let o of t)if(!(o==="rowid"||o==="id")&&typeof e[o]=="number"){if(n===void 0)n=o;else if(r===void 0){r=o;break}}return n===void 0&&t[0],r===void 0&&t[1],[n,r]}function k9(t){var i;let e=gl(()=>{let[a,f]=Q2(t.columns,t.data[0]);return{mark:"dot",options:{x:a,y:f}}},[]),[n,r]=Yt((i=t.initialMarks)!=null?i:[e]);function o(){let a,f;n.length?(a=n[n.length-1].options.x,f=n[n.length-1].options.y):[a,f]=Q2(t.columns,t.data[0]),r([...n,{mark:"dot",options:{x:a,y:f}}])}return z("div",null,z("div",null,z(T9,{data:t.data,marks:n})),z("strong",null,"Marks"),n.map((a,f)=>z(K2,{columns:t.columns,initalMark:a.mark,initionalOptions:a.options,onUpdate:(u,c)=>{r(n.map((s,l)=>l===f?{mark:u,options:c}:s))},onDelete:()=>{r(n.filter((u,c)=>c!==f))}})),z("button",{onClick:o},"Add new visualization mark"))}function T9(t){let e=Kh(null);Tn(()=>{if(!e.current)return;let r=el({width:800,color:{legend:!0},marks:t.marks.map(o=>{switch(o.mark){case"dot":return bh(t.data,o.options);case"linear-regression-y":return Mh(t.data,o.options);case"line-y":return _h(t.data,o.options);case"bar-y":return yh(t.data,o.options);case"area-y":return gh(t.data,o.options)}})});return e.current.appendChild(r),()=>e.current.removeChild(r)},[e,t.data,t.marks]);let n=(()=>{let r=new URL(window.location.href);r.searchParams.delete("_plot-mark");for(let o of t.marks)r.searchParams.append("_plot-mark",JSON.stringify(o));return r.toString()})();return z("div",null,z("div",{ref:e}),z("a",{href:n},"Link to this plot"))}function C9(t){let{rows:e,next:n,columns:r,initialMarks:o}=t,[i,a]=Yt(t.initialMarks!==null);return i?z("div",{className:"datasette-plot"},z("button",{onClick:()=>a(!1)},"Hide Plot"),z(k9,{data:e,columns:r,initialMarks:o}),n!==null?z("div",null,"Warning: not all table rows returned, only ",e.length," rows"):null):z("div",null,z("button",{onClick:()=>a(!0)},"Show Plot"))}async function E9(){let t=new URL(window.location.origin+window.location.pathname+".json"+window.location.search);t.searchParams.has("_size")||t.searchParams.set("_size","max");let e=await fetch(t).then(u=>u.json()),n=Object.keys(e.rows[0]),r=e.rows.slice();for(let u of n)if(u.toLowerCase()=="date")for(let c of r)c[u]=new Date(c[u]);let i=(document.querySelector("form.sql")||document.querySelector("form.filters")).insertAdjacentElement("afterend",document.createElement("div")),a=new URL(window.location.href),f=a.searchParams.has("_plot-mark")?a.searchParams.getAll("_plot-mark").map(u=>JSON.parse(u)):null;Bh(z(C9,{initialMarks:f,rows:r,columns:n,next:e.next}),i)}document.addEventListener("DOMContentLoaded",E9);export{E9 as main};
